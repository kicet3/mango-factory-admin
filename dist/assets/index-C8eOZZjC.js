var cv=e=>{throw TypeError(e)};var gf=(e,t,n)=>t.has(e)||cv("Cannot "+n);var T=(e,t,n)=>(gf(e,t,"read from private field"),n?n.call(e):t.get(e)),Oe=(e,t,n)=>t.has(e)?cv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(gf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),We=(e,t,n)=>(gf(e,t,"access private method"),n);var Pc=(e,t,n,r)=>({set _(s){be(e,t,s,n)},get _(){return T(e,t,r)}});function kC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ew(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var tw={exports:{}},vd={},nw={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),PC=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),AC=Symbol.for("react.strict_mode"),OC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),$C=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),uv=Symbol.iterator;function zC(e){return e===null||typeof e!="object"?null:(e=uv&&e[uv]||e["@@iterator"],typeof e=="function"?e:null)}var rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sw=Object.assign,ow={};function $a(e,t,n){this.props=e,this.context=t,this.refs=ow,this.updater=n||rw}$a.prototype.isReactComponent={};$a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iw(){}iw.prototype=$a.prototype;function vm(e,t,n){this.props=e,this.context=t,this.refs=ow,this.updater=n||rw}var ym=vm.prototype=new iw;ym.constructor=vm;sw(ym,$a.prototype);ym.isPureReactComponent=!0;var dv=Array.isArray,aw=Object.prototype.hasOwnProperty,xm={current:null},lw={key:!0,ref:!0,__self:!0,__source:!0};function cw(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)aw.call(t,r)&&!lw.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:fc,type:e,key:i,ref:a,props:s,_owner:xm.current}}function UC(e,t){return{$$typeof:fc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wm(e){return typeof e=="object"&&e!==null&&e.$$typeof===fc}function BC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fv=/\/+/g;function vf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BC(""+e.key):t.toString(36)}function uu(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fc:case PC:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+vf(a,0):r,dv(s)?(n="",e!=null&&(n=e.replace(fv,"$&/")+"/"),uu(s,t,n,"",function(u){return u})):s!=null&&(wm(s)&&(s=UC(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(fv,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",dv(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+vf(i,l);a+=uu(i,t,n,c,s)}else if(c=zC(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+vf(i,l++),a+=uu(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Rc(e,t,n){if(e==null)return e;var r=[],s=0;return uu(e,r,"","",function(i){return t.call(n,i,s++)}),r}function HC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qn={current:null},du={transition:null},WC={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:du,ReactCurrentOwner:xm};function uw(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Rc,forEach:function(e,t,n){Rc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rc(e,function(){t++}),t},toArray:function(e){return Rc(e,function(t){return t})||[]},only:function(e){if(!wm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=$a;Ye.Fragment=RC;Ye.Profiler=OC;Ye.PureComponent=vm;Ye.StrictMode=AC;Ye.Suspense=MC;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;Ye.act=uw;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sw({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=xm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)aw.call(t,c)&&!lw.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:fc,type:e.type,key:s,ref:i,props:r,_owner:a}};Ye.createContext=function(e){return e={$$typeof:DC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IC,_context:e},e.Consumer=e};Ye.createElement=cw;Ye.createFactory=function(e){var t=cw.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:LC,render:e}};Ye.isValidElement=wm;Ye.lazy=function(e){return{$$typeof:FC,_payload:{_status:-1,_result:e},_init:HC}};Ye.memo=function(e,t){return{$$typeof:$C,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=du.transition;du.transition={};try{e()}finally{du.transition=t}};Ye.unstable_act=uw;Ye.useCallback=function(e,t){return qn.current.useCallback(e,t)};Ye.useContext=function(e){return qn.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return qn.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return qn.current.useEffect(e,t)};Ye.useId=function(){return qn.current.useId()};Ye.useImperativeHandle=function(e,t,n){return qn.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return qn.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return qn.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return qn.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return qn.current.useReducer(e,t,n)};Ye.useRef=function(e){return qn.current.useRef(e)};Ye.useState=function(e){return qn.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return qn.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return qn.current.useTransition()};Ye.version="18.3.1";nw.exports=Ye;var d=nw.exports;const he=ew(d),dw=kC({__proto__:null,default:he},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=d,KC=Symbol.for("react.element"),qC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,QC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function fw(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)GC.call(t,r)&&!YC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:KC,type:e,key:i,ref:a,props:s,_owner:QC.current}}vd.Fragment=qC;vd.jsx=fw;vd.jsxs=fw;tw.exports=vd;var o=tw.exports,hw={exports:{}},yr={},pw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,Q){var ce=L.length;L.push(Q);e:for(;0<ce;){var E=ce-1>>>1,M=L[E];if(0<s(M,Q))L[E]=Q,L[ce]=M,ce=E;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Q=L[0],ce=L.pop();if(ce!==Q){L[0]=ce;e:for(var E=0,M=L.length,z=M>>>1;E<z;){var oe=2*(E+1)-1,J=L[oe],V=oe+1,te=L[V];if(0>s(J,ce))V<M&&0>s(te,J)?(L[E]=te,L[V]=ce,E=V):(L[E]=J,L[oe]=ce,E=oe);else if(V<M&&0>s(te,ce))L[E]=te,L[V]=ce,E=V;else break e}}return Q}function s(L,Q){var ce=L.sortIndex-Q.sortIndex;return ce!==0?ce:L.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,h=null,p=3,y=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=L)r(u),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(u)}}function b(L){if(v=!1,g(L),!w)if(n(c)!==null)w=!0,re(C);else{var Q=n(u);Q!==null&&ge(b,Q.startTime-L)}}function C(L,Q){w=!1,v&&(v=!1,x(O),O=-1),y=!0;var ce=p;try{for(g(Q),h=n(c);h!==null&&(!(h.expirationTime>Q)||L&&!G());){var E=h.callback;if(typeof E=="function"){h.callback=null,p=h.priorityLevel;var M=E(h.expirationTime<=Q);Q=e.unstable_now(),typeof M=="function"?h.callback=M:h===n(c)&&r(c),g(Q)}else r(c);h=n(c)}if(h!==null)var z=!0;else{var oe=n(u);oe!==null&&ge(b,oe.startTime-Q),z=!1}return z}finally{h=null,p=ce,y=!1}}var N=!1,P=null,O=-1,$=5,U=-1;function G(){return!(e.unstable_now()-U<$)}function Z(){if(P!==null){var L=e.unstable_now();U=L;var Q=!0;try{Q=P(!0,L)}finally{Q?me():(N=!1,P=null)}}else N=!1}var me;if(typeof m=="function")me=function(){m(Z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ve=ee.port2;ee.port1.onmessage=Z,me=function(){ve.postMessage(null)}}else me=function(){_(Z,0)};function re(L){P=L,N||(N=!0,me())}function ge(L,Q){O=_(function(){L(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,re(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ce=p;p=Q;try{return L()}finally{p=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ce=p;p=L;try{return Q()}finally{p=ce}},e.unstable_scheduleCallback=function(L,Q,ce){var E=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?E+ce:E):ce=E,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,L={id:f++,callback:Q,priorityLevel:L,startTime:ce,expirationTime:M,sortIndex:-1},ce>E?(L.sortIndex=ce,t(u,L),n(c)===null&&L===n(u)&&(v?(x(O),O=-1):v=!0,ge(b,ce-E))):(L.sortIndex=M,t(c,L),w||y||(w=!0,re(C))),L},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(L){var Q=p;return function(){var ce=p;p=Q;try{return L.apply(this,arguments)}finally{p=ce}}}})(mw);pw.exports=mw;var JC=pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=d,vr=JC;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gw=new Set,Fl={};function yi(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Fl[e]=t,e=0;e<t.length;e++)gw.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},pv={};function eN(e){return _h.call(pv,e)?!0:_h.call(hv,e)?!1:ZC.test(e)?pv[e]=!0:(hv[e]=!0,!1)}function tN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nN(e,t,n,r){if(t===null||typeof t>"u"||tN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jn[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jn[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jn[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jn[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jn[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jn[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jn[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jn[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jn[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function bm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,bm);jn[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,bm);jn[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,bm);jn[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});jn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sm(e,t,n,r){var s=jn.hasOwnProperty(t)?jn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nN(t,n,s,r)&&(n=null),r||s===null?eN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ls=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),yw=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),jh=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),xw=Symbol.for("react.offscreen"),mv=Symbol.iterator;function tl(e){return e===null||typeof e!="object"?null:(e=mv&&e[mv]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,yf;function yl(e){if(yf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yf=t&&t[1]||""}return`
`+yf+e}var xf=!1;function wf(e,t){if(!e||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yl(e):""}function rN(e){switch(e.tag){case 5:return yl(e.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return e=wf(e.type,!1),e;case 11:return e=wf(e.type.render,!1),e;case 1:return e=wf(e.type,!0),e;default:return""}}function Ch(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Di:return"Fragment";case Ii:return"Portal";case bh:return"Profiler";case jm:return"StrictMode";case Sh:return"Suspense";case jh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yw:return(e.displayName||"Context")+".Consumer";case vw:return(e._context.displayName||"Context")+".Provider";case Cm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nm:return t=e.displayName||null,t!==null?t:Ch(e.type)||"Memo";case Ks:t=e._payload,e=e._init;try{return Ch(e(t))}catch{}}return null}function sN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(t);case 8:return t===jm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ww(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oN(e){var t=ww(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oc(e){e._valueTracker||(e._valueTracker=oN(e))}function _w(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ww(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nh(e,t){var n=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bw(e,t){t=t.checked,t!=null&&Sm(e,"checked",t,!1)}function Eh(e,t){bw(e,t);var n=bo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kh(e,t.type,n):t.hasOwnProperty("defaultValue")&&kh(e,t.type,bo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kh(e,t,n){(t!=="number"||Tu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xl=Array.isArray;function Gi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Th(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(xl(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bo(n)}}function Sw(e,t){var n=bo(t.value),r=bo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ph(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ic,Cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ic.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iN=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(e){iN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cl[t]=Cl[e]})});function Nw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cl.hasOwnProperty(e)&&Cl[e]?(""+t).trim():t+"px"}function Ew(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var aN=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(e,t){if(t){if(aN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function Ah(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=null;function Em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ih=null,Qi=null,Yi=null;function wv(e){if(e=mc(e)){if(typeof Ih!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=bd(t),Ih(e.stateNode,e.type,t))}}function kw(e){Qi?Yi?Yi.push(e):Yi=[e]:Qi=e}function Tw(){if(Qi){var e=Qi,t=Yi;if(Yi=Qi=null,wv(e),t)for(e=0;e<t.length;e++)wv(t[e])}}function Pw(e,t){return e(t)}function Rw(){}var _f=!1;function Aw(e,t,n){if(_f)return e(t,n);_f=!0;try{return Pw(e,t,n)}finally{_f=!1,(Qi!==null||Yi!==null)&&(Rw(),Tw())}}function Ul(e,t){var n=e.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var Dh=!1;if(Ps)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Dh=!1}function lN(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Nl=!1,Pu=null,Ru=!1,Lh=null,cN={onError:function(e){Nl=!0,Pu=e}};function uN(e,t,n,r,s,i,a,l,c){Nl=!1,Pu=null,lN.apply(cN,arguments)}function dN(e,t,n,r,s,i,a,l,c){if(uN.apply(this,arguments),Nl){if(Nl){var u=Pu;Nl=!1,Pu=null}else throw Error(ie(198));Ru||(Ru=!0,Lh=u)}}function xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ow(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _v(e){if(xi(e)!==e)throw Error(ie(188))}function fN(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _v(s),e;if(i===r)return _v(s),t;i=i.sibling}throw Error(ie(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function Iw(e){return e=fN(e),e!==null?Dw(e):null}function Dw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dw(e);if(t!==null)return t;e=e.sibling}return null}var Lw=vr.unstable_scheduleCallback,bv=vr.unstable_cancelCallback,hN=vr.unstable_shouldYield,pN=vr.unstable_requestPaint,Ht=vr.unstable_now,mN=vr.unstable_getCurrentPriorityLevel,km=vr.unstable_ImmediatePriority,Mw=vr.unstable_UserBlockingPriority,Au=vr.unstable_NormalPriority,gN=vr.unstable_LowPriority,$w=vr.unstable_IdlePriority,yd=null,cs=null;function vN(e){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(yd,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:wN,yN=Math.log,xN=Math.LN2;function wN(e){return e>>>=0,e===0?32:31-(yN(e)/xN|0)|0}var Dc=64,Lc=4194304;function wl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ou(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=wl(l):(i&=a,i!==0&&(r=wl(i)))}else a=n&~s,a!==0?r=wl(a):i!==0&&(r=wl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kr(t),s=1<<n,r|=e[n],t&=~s;return r}function _N(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Kr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=_N(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Mh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fw(){var e=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),e}function bf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=n}function SN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Kr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Tm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ht=0;function zw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uw,Pm,Bw,Hw,Ww,$h=!1,Mc=[],uo=null,fo=null,ho=null,Bl=new Map,Hl=new Map,Qs=[],jN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(e,t){switch(e){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function rl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=mc(t),t!==null&&Pm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function CN(e,t,n,r,s){switch(t){case"focusin":return uo=rl(uo,e,t,n,r,s),!0;case"dragenter":return fo=rl(fo,e,t,n,r,s),!0;case"mouseover":return ho=rl(ho,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Bl.set(i,rl(Bl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,rl(Hl.get(i)||null,e,t,n,r,s)),!0}return!1}function Vw(e){var t=Ko(e.target);if(t!==null){var n=xi(t);if(n!==null){if(t=n.tag,t===13){if(t=Ow(n),t!==null){e.blockedOn=t,Ww(e.priority,function(){Bw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oh=r,n.target.dispatchEvent(r),Oh=null}else return t=mc(n),t!==null&&Pm(t),e.blockedOn=n,!1;t.shift()}return!0}function jv(e,t,n){fu(e)&&n.delete(t)}function NN(){$h=!1,uo!==null&&fu(uo)&&(uo=null),fo!==null&&fu(fo)&&(fo=null),ho!==null&&fu(ho)&&(ho=null),Bl.forEach(jv),Hl.forEach(jv)}function sl(e,t){e.blockedOn===t&&(e.blockedOn=null,$h||($h=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,NN)))}function Wl(e){function t(s){return sl(s,e)}if(0<Mc.length){sl(Mc[0],e);for(var n=1;n<Mc.length;n++){var r=Mc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(uo!==null&&sl(uo,e),fo!==null&&sl(fo,e),ho!==null&&sl(ho,e),Bl.forEach(t),Hl.forEach(t),n=0;n<Qs.length;n++)r=Qs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)Vw(n),n.blockedOn===null&&Qs.shift()}var Ji=Ls.ReactCurrentBatchConfig,Iu=!0;function EN(e,t,n,r){var s=ht,i=Ji.transition;Ji.transition=null;try{ht=1,Rm(e,t,n,r)}finally{ht=s,Ji.transition=i}}function kN(e,t,n,r){var s=ht,i=Ji.transition;Ji.transition=null;try{ht=4,Rm(e,t,n,r)}finally{ht=s,Ji.transition=i}}function Rm(e,t,n,r){if(Iu){var s=Fh(e,t,n,r);if(s===null)Af(e,t,r,Du,n),Sv(e,r);else if(CN(s,e,t,n,r))r.stopPropagation();else if(Sv(e,r),t&4&&-1<jN.indexOf(e)){for(;s!==null;){var i=mc(s);if(i!==null&&Uw(i),i=Fh(e,t,n,r),i===null&&Af(e,t,r,Du,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Af(e,t,r,null,n)}}var Du=null;function Fh(e,t,n,r){if(Du=null,e=Em(r),e=Ko(e),e!==null)if(t=xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ow(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Du=e,null}function Kw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mN()){case km:return 1;case Mw:return 4;case Au:case gN:return 16;case $w:return 536870912;default:return 16}default:return 16}}var ao=null,Am=null,hu=null;function qw(){if(hu)return hu;var e,t=Am,n=t.length,r,s="value"in ao?ao.value:ao.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return hu=s.slice(e,1<r?1-r:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function Cv(){return!1}function xr(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$c:Cv,this.isPropagationStopped=Cv,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=xr(Fa),pc=It({},Fa,{view:0,detail:0}),TN=xr(pc),Sf,jf,ol,xd=It({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(Sf=e.screenX-ol.screenX,jf=e.screenY-ol.screenY):jf=Sf=0,ol=e),Sf)},movementY:function(e){return"movementY"in e?e.movementY:jf}}),Nv=xr(xd),PN=It({},xd,{dataTransfer:0}),RN=xr(PN),AN=It({},pc,{relatedTarget:0}),Cf=xr(AN),ON=It({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),IN=xr(ON),DN=It({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LN=xr(DN),MN=It({},Fa,{data:0}),Ev=xr(MN),$N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zN[e])?!!t[e]:!1}function Im(){return UN}var BN=It({},pc,{key:function(e){if(e.key){var t=$N[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HN=xr(BN),WN=It({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kv=xr(WN),VN=It({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),KN=xr(VN),qN=It({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),GN=xr(qN),QN=It({},xd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YN=xr(QN),JN=[9,13,27,32],Dm=Ps&&"CompositionEvent"in window,El=null;Ps&&"documentMode"in document&&(El=document.documentMode);var XN=Ps&&"TextEvent"in window&&!El,Gw=Ps&&(!Dm||El&&8<El&&11>=El),Tv=" ",Pv=!1;function Qw(e,t){switch(e){case"keyup":return JN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function ZN(e,t){switch(e){case"compositionend":return Yw(t);case"keypress":return t.which!==32?null:(Pv=!0,Tv);case"textInput":return e=t.data,e===Tv&&Pv?null:e;default:return null}}function eE(e,t){if(Li)return e==="compositionend"||!Dm&&Qw(e,t)?(e=qw(),hu=Am=ao=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gw&&t.locale!=="ko"?null:t.data;default:return null}}var tE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tE[e.type]:t==="textarea"}function Jw(e,t,n,r){kw(r),t=Lu(t,"onChange"),0<t.length&&(n=new Om("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kl=null,Vl=null;function nE(e){l0(e,0)}function wd(e){var t=Fi(e);if(_w(t))return e}function rE(e,t){if(e==="change")return t}var Xw=!1;if(Ps){var Nf;if(Ps){var Ef="oninput"in document;if(!Ef){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),Ef=typeof Av.oninput=="function"}Nf=Ef}else Nf=!1;Xw=Nf&&(!document.documentMode||9<document.documentMode)}function Ov(){kl&&(kl.detachEvent("onpropertychange",Zw),Vl=kl=null)}function Zw(e){if(e.propertyName==="value"&&wd(Vl)){var t=[];Jw(t,Vl,e,Em(e)),Aw(nE,t)}}function sE(e,t,n){e==="focusin"?(Ov(),kl=t,Vl=n,kl.attachEvent("onpropertychange",Zw)):e==="focusout"&&Ov()}function oE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wd(Vl)}function iE(e,t){if(e==="click")return wd(t)}function aE(e,t){if(e==="input"||e==="change")return wd(t)}function lE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gr=typeof Object.is=="function"?Object.is:lE;function Kl(e,t){if(Gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_h.call(t,s)||!Gr(e[s],t[s]))return!1}return!0}function Iv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dv(e,t){var n=Iv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iv(n)}}function e0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t0(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tu(e.document)}return t}function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cE(e){var t=t0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&e0(n.ownerDocument.documentElement,n)){if(r!==null&&Lm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Dv(n,i);var a=Dv(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uE=Ps&&"documentMode"in document&&11>=document.documentMode,Mi=null,zh=null,Tl=null,Uh=!1;function Lv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||Mi==null||Mi!==Tu(r)||(r=Mi,"selectionStart"in r&&Lm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Kl(Tl,r)||(Tl=r,r=Lu(zh,"onSelect"),0<r.length&&(t=new Om("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mi)))}function Fc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $i={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},kf={},n0={};Ps&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function _d(e){if(kf[e])return kf[e];if(!$i[e])return e;var t=$i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in n0)return kf[e]=t[n];return e}var r0=_d("animationend"),s0=_d("animationiteration"),o0=_d("animationstart"),i0=_d("transitionend"),a0=new Map,Mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(e,t){a0.set(e,t),yi(t,[e])}for(var Tf=0;Tf<Mv.length;Tf++){var Pf=Mv[Tf],dE=Pf.toLowerCase(),fE=Pf[0].toUpperCase()+Pf.slice(1);To(dE,"on"+fE)}To(r0,"onAnimationEnd");To(s0,"onAnimationIteration");To(o0,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(i0,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function $v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dN(r,t,void 0,e),e.currentTarget=null}function l0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;$v(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;$v(s,l,u),i=c}}}if(Ru)throw e=Lh,Ru=!1,Lh=null,e}function jt(e,t){var n=t[Kh];n===void 0&&(n=t[Kh]=new Set);var r=e+"__bubble";n.has(r)||(c0(t,e,2,!1),n.add(r))}function Rf(e,t,n){var r=0;t&&(r|=4),c0(n,e,r,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function ql(e){if(!e[zc]){e[zc]=!0,gw.forEach(function(n){n!=="selectionchange"&&(hE.has(n)||Rf(n,!1,e),Rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zc]||(t[zc]=!0,Rf("selectionchange",!1,t))}}function c0(e,t,n,r){switch(Kw(t)){case 1:var s=EN;break;case 4:s=kN;break;default:s=Rm}n=s.bind(null,t,n,e),s=void 0,!Dh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Af(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ko(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Aw(function(){var u=i,f=Em(n),h=[];e:{var p=a0.get(e);if(p!==void 0){var y=Om,w=e;switch(e){case"keypress":if(pu(n)===0)break e;case"keydown":case"keyup":y=HN;break;case"focusin":w="focus",y=Cf;break;case"focusout":w="blur",y=Cf;break;case"beforeblur":case"afterblur":y=Cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=RN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=KN;break;case r0:case s0:case o0:y=IN;break;case i0:y=GN;break;case"scroll":y=TN;break;case"wheel":y=YN;break;case"copy":case"cut":case"paste":y=LN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=kv}var v=(t&4)!==0,_=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,g;m!==null;){g=m;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,x!==null&&(b=Ul(m,x),b!=null&&v.push(Gl(m,b,g)))),_)break;m=m.return}0<v.length&&(p=new y(p,w,null,n,f),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Oh&&(w=n.relatedTarget||n.fromElement)&&(Ko(w)||w[Rs]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Ko(w):null,w!==null&&(_=xi(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(v=Nv,b="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=kv,b="onPointerLeave",x="onPointerEnter",m="pointer"),_=y==null?p:Fi(y),g=w==null?p:Fi(w),p=new v(b,m+"leave",y,n,f),p.target=_,p.relatedTarget=g,b=null,Ko(f)===u&&(v=new v(x,m+"enter",w,n,f),v.target=g,v.relatedTarget=_,b=v),_=b,y&&w)t:{for(v=y,x=w,m=0,g=v;g;g=Si(g))m++;for(g=0,b=x;b;b=Si(b))g++;for(;0<m-g;)v=Si(v),m--;for(;0<g-m;)x=Si(x),g--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=Si(v),x=Si(x)}v=null}else v=null;y!==null&&Fv(h,p,y,v,!1),w!==null&&_!==null&&Fv(h,_,w,v,!0)}}e:{if(p=u?Fi(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var C=rE;else if(Rv(p))if(Xw)C=aE;else{C=oE;var N=sE}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=iE);if(C&&(C=C(e,u))){Jw(h,C,n,f);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&kh(p,"number",p.value)}switch(N=u?Fi(u):window,e){case"focusin":(Rv(N)||N.contentEditable==="true")&&(Mi=N,zh=u,Tl=null);break;case"focusout":Tl=zh=Mi=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Lv(h,n,f);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":Lv(h,n,f)}var P;if(Dm)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Li?Qw(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Gw&&n.locale!=="ko"&&(Li||O!=="onCompositionStart"?O==="onCompositionEnd"&&Li&&(P=qw()):(ao=f,Am="value"in ao?ao.value:ao.textContent,Li=!0)),N=Lu(u,O),0<N.length&&(O=new Ev(O,e,null,n,f),h.push({event:O,listeners:N}),P?O.data=P:(P=Yw(n),P!==null&&(O.data=P)))),(P=XN?ZN(e,n):eE(e,n))&&(u=Lu(u,"onBeforeInput"),0<u.length&&(f=new Ev("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=P))}l0(h,t)})}function Gl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ul(e,n),i!=null&&r.unshift(Gl(e,i,s)),i=Ul(e,t),i!=null&&r.push(Gl(e,i,s))),e=e.return}return r}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fv(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ul(n,i),c!=null&&a.unshift(Gl(n,c,l))):s||(c=Ul(n,i),c!=null&&a.push(Gl(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var pE=/\r\n?/g,mE=/\u0000|\uFFFD/g;function zv(e){return(typeof e=="string"?e:""+e).replace(pE,`
`).replace(mE,"")}function Uc(e,t,n){if(t=zv(t),zv(e)!==t&&n)throw Error(ie(425))}function Mu(){}var Bh=null,Hh=null;function Wh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vh=typeof setTimeout=="function"?setTimeout:void 0,gE=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(e){return Uv.resolve(null).then(e).catch(yE)}:Vh;function yE(e){setTimeout(function(){throw e})}function Of(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wl(t)}function po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var za=Math.random().toString(36).slice(2),is="__reactFiber$"+za,Ql="__reactProps$"+za,Rs="__reactContainer$"+za,Kh="__reactEvents$"+za,xE="__reactListeners$"+za,wE="__reactHandles$"+za;function Ko(e){var t=e[is];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rs]||n[is]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bv(e);e!==null;){if(n=e[is])return n;e=Bv(e)}return t}e=n,n=e.parentNode}return null}function mc(e){return e=e[is]||e[Rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function bd(e){return e[Ql]||null}var qh=[],zi=-1;function Po(e){return{current:e}}function Ct(e){0>zi||(e.current=qh[zi],qh[zi]=null,zi--)}function wt(e,t){zi++,qh[zi]=e.current,e.current=t}var So={},In=Po(So),rr=Po(!1),oi=So;function _a(e,t){var n=e.type.contextTypes;if(!n)return So;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function sr(e){return e=e.childContextTypes,e!=null}function $u(){Ct(rr),Ct(In)}function Hv(e,t,n){if(In.current!==So)throw Error(ie(168));wt(In,t),wt(rr,n)}function u0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ie(108,sN(e)||"Unknown",s));return It({},n,r)}function Fu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||So,oi=In.current,wt(In,e),wt(rr,rr.current),!0}function Wv(e,t,n){var r=e.stateNode;if(!r)throw Error(ie(169));n?(e=u0(e,t,oi),r.__reactInternalMemoizedMergedChildContext=e,Ct(rr),Ct(In),wt(In,e)):Ct(rr),wt(rr,n)}var Ss=null,Sd=!1,If=!1;function d0(e){Ss===null?Ss=[e]:Ss.push(e)}function _E(e){Sd=!0,d0(e)}function Ro(){if(!If&&Ss!==null){If=!0;var e=0,t=ht;try{var n=Ss;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ss=null,Sd=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(e+1)),Lw(km,Ro),s}finally{ht=t,If=!1}}return null}var Ui=[],Bi=0,zu=null,Uu=0,Cr=[],Nr=0,ii=null,Cs=1,Ns="";function Bo(e,t){Ui[Bi++]=Uu,Ui[Bi++]=zu,zu=e,Uu=t}function f0(e,t,n){Cr[Nr++]=Cs,Cr[Nr++]=Ns,Cr[Nr++]=ii,ii=e;var r=Cs;e=Ns;var s=32-Kr(r)-1;r&=~(1<<s),n+=1;var i=32-Kr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Cs=1<<32-Kr(t)+s|n<<s|r,Ns=i+e}else Cs=1<<i|n<<s|r,Ns=e}function Mm(e){e.return!==null&&(Bo(e,1),f0(e,1,0))}function $m(e){for(;e===zu;)zu=Ui[--Bi],Ui[Bi]=null,Uu=Ui[--Bi],Ui[Bi]=null;for(;e===ii;)ii=Cr[--Nr],Cr[Nr]=null,Ns=Cr[--Nr],Cr[Nr]=null,Cs=Cr[--Nr],Cr[Nr]=null}var mr=null,hr=null,Et=!1,Wr=null;function h0(e,t){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mr=e,hr=po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ii!==null?{id:Cs,overflow:Ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mr=e,hr=null,!0):!1;default:return!1}}function Gh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qh(e){if(Et){var t=hr;if(t){var n=t;if(!Vv(e,t)){if(Gh(e))throw Error(ie(418));t=po(n.nextSibling);var r=mr;t&&Vv(e,t)?h0(r,n):(e.flags=e.flags&-4097|2,Et=!1,mr=e)}}else{if(Gh(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Et=!1,mr=e}}}function Kv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mr=e}function Bc(e){if(e!==mr)return!1;if(!Et)return Kv(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wh(e.type,e.memoizedProps)),t&&(t=hr)){if(Gh(e))throw p0(),Error(ie(418));for(;t;)h0(e,t),t=po(t.nextSibling)}if(Kv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hr=po(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=mr?po(e.stateNode.nextSibling):null;return!0}function p0(){for(var e=hr;e;)e=po(e.nextSibling)}function ba(){hr=mr=null,Et=!1}function Fm(e){Wr===null?Wr=[e]:Wr.push(e)}var bE=Ls.ReactCurrentBatchConfig;function il(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qv(e){var t=e._init;return t(e._payload)}function m0(e){function t(x,m){if(e){var g=x.deletions;g===null?(x.deletions=[m],x.flags|=16):g.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=yo(x,m),x.index=0,x.sibling=null,x}function i(x,m,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<m?(x.flags|=2,m):g):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,m,g,b){return m===null||m.tag!==6?(m=Uf(g,x.mode,b),m.return=x,m):(m=s(m,g),m.return=x,m)}function c(x,m,g,b){var C=g.type;return C===Di?f(x,m,g.props.children,b,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&qv(C)===m.type)?(b=s(m,g.props),b.ref=il(x,m,g),b.return=x,b):(b=_u(g.type,g.key,g.props,null,x.mode,b),b.ref=il(x,m,g),b.return=x,b)}function u(x,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Bf(g,x.mode,b),m.return=x,m):(m=s(m,g.children||[]),m.return=x,m)}function f(x,m,g,b,C){return m===null||m.tag!==7?(m=si(g,x.mode,b,C),m.return=x,m):(m=s(m,g),m.return=x,m)}function h(x,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Uf(""+m,x.mode,g),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ac:return g=_u(m.type,m.key,m.props,null,x.mode,g),g.ref=il(x,null,m),g.return=x,g;case Ii:return m=Bf(m,x.mode,g),m.return=x,m;case Ks:var b=m._init;return h(x,b(m._payload),g)}if(xl(m)||tl(m))return m=si(m,x.mode,g,null),m.return=x,m;Hc(x,m)}return null}function p(x,m,g,b){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(x,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ac:return g.key===C?c(x,m,g,b):null;case Ii:return g.key===C?u(x,m,g,b):null;case Ks:return C=g._init,p(x,m,C(g._payload),b)}if(xl(g)||tl(g))return C!==null?null:f(x,m,g,b,null);Hc(x,g)}return null}function y(x,m,g,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(g)||null,l(m,x,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ac:return x=x.get(b.key===null?g:b.key)||null,c(m,x,b,C);case Ii:return x=x.get(b.key===null?g:b.key)||null,u(m,x,b,C);case Ks:var N=b._init;return y(x,m,g,N(b._payload),C)}if(xl(b)||tl(b))return x=x.get(g)||null,f(m,x,b,C,null);Hc(m,b)}return null}function w(x,m,g,b){for(var C=null,N=null,P=m,O=m=0,$=null;P!==null&&O<g.length;O++){P.index>O?($=P,P=null):$=P.sibling;var U=p(x,P,g[O],b);if(U===null){P===null&&(P=$);break}e&&P&&U.alternate===null&&t(x,P),m=i(U,m,O),N===null?C=U:N.sibling=U,N=U,P=$}if(O===g.length)return n(x,P),Et&&Bo(x,O),C;if(P===null){for(;O<g.length;O++)P=h(x,g[O],b),P!==null&&(m=i(P,m,O),N===null?C=P:N.sibling=P,N=P);return Et&&Bo(x,O),C}for(P=r(x,P);O<g.length;O++)$=y(P,x,O,g[O],b),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?O:$.key),m=i($,m,O),N===null?C=$:N.sibling=$,N=$);return e&&P.forEach(function(G){return t(x,G)}),Et&&Bo(x,O),C}function v(x,m,g,b){var C=tl(g);if(typeof C!="function")throw Error(ie(150));if(g=C.call(g),g==null)throw Error(ie(151));for(var N=C=null,P=m,O=m=0,$=null,U=g.next();P!==null&&!U.done;O++,U=g.next()){P.index>O?($=P,P=null):$=P.sibling;var G=p(x,P,U.value,b);if(G===null){P===null&&(P=$);break}e&&P&&G.alternate===null&&t(x,P),m=i(G,m,O),N===null?C=G:N.sibling=G,N=G,P=$}if(U.done)return n(x,P),Et&&Bo(x,O),C;if(P===null){for(;!U.done;O++,U=g.next())U=h(x,U.value,b),U!==null&&(m=i(U,m,O),N===null?C=U:N.sibling=U,N=U);return Et&&Bo(x,O),C}for(P=r(x,P);!U.done;O++,U=g.next())U=y(P,x,O,U.value,b),U!==null&&(e&&U.alternate!==null&&P.delete(U.key===null?O:U.key),m=i(U,m,O),N===null?C=U:N.sibling=U,N=U);return e&&P.forEach(function(Z){return t(x,Z)}),Et&&Bo(x,O),C}function _(x,m,g,b){if(typeof g=="object"&&g!==null&&g.type===Di&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ac:e:{for(var C=g.key,N=m;N!==null;){if(N.key===C){if(C=g.type,C===Di){if(N.tag===7){n(x,N.sibling),m=s(N,g.props.children),m.return=x,x=m;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&qv(C)===N.type){n(x,N.sibling),m=s(N,g.props),m.ref=il(x,N,g),m.return=x,x=m;break e}n(x,N);break}else t(x,N);N=N.sibling}g.type===Di?(m=si(g.props.children,x.mode,b,g.key),m.return=x,x=m):(b=_u(g.type,g.key,g.props,null,x.mode,b),b.ref=il(x,m,g),b.return=x,x=b)}return a(x);case Ii:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(x,m.sibling),m=s(m,g.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=Bf(g,x.mode,b),m.return=x,x=m}return a(x);case Ks:return N=g._init,_(x,m,N(g._payload),b)}if(xl(g))return w(x,m,g,b);if(tl(g))return v(x,m,g,b);Hc(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,g),m.return=x,x=m):(n(x,m),m=Uf(g,x.mode,b),m.return=x,x=m),a(x)):n(x,m)}return _}var Sa=m0(!0),g0=m0(!1),Bu=Po(null),Hu=null,Hi=null,zm=null;function Um(){zm=Hi=Hu=null}function Bm(e){var t=Bu.current;Ct(Bu),e._currentValue=t}function Yh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Hu=e,zm=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(zm!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(Hu===null)throw Error(ie(308));Hi=e,Hu.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var qo=null;function Hm(e){qo===null?qo=[e]:qo.push(e)}function v0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hm(t)):(n.next=s.next,s.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qs=!1;function Wm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,As(e,n)}return s=r.interleaved,s===null?(t.next=t,Hm(r)):(t.next=s.next,s.next=t),r.interleaved=t,As(e,n)}function mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tm(e,n)}}function Gv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wu(e,t,n,r){var s=e.updateQueue;qs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,f=u=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(p=t,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(y,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(y,h,p):w,p==null)break e;h=It({},h,p);break e;case 2:qs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,c=h):f=f.next=y,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);li|=a,e.lanes=a,e.memoizedState=h}}function Qv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ie(191,s));s.call(r)}}}var gc={},us=Po(gc),Yl=Po(gc),Jl=Po(gc);function Go(e){if(e===gc)throw Error(ie(174));return e}function Vm(e,t){switch(wt(Jl,t),wt(Yl,e),wt(us,gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ph(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ph(t,e)}Ct(us),wt(us,t)}function ja(){Ct(us),Ct(Yl),Ct(Jl)}function x0(e){Go(Jl.current);var t=Go(us.current),n=Ph(t,e.type);t!==n&&(wt(Yl,e),wt(us,n))}function Km(e){Yl.current===e&&(Ct(us),Ct(Yl))}var Rt=Po(0);function Vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Df=[];function qm(){for(var e=0;e<Df.length;e++)Df[e]._workInProgressVersionPrimary=null;Df.length=0}var gu=Ls.ReactCurrentDispatcher,Lf=Ls.ReactCurrentBatchConfig,ai=0,At=null,nn=null,un=null,Ku=!1,Pl=!1,Xl=0,SE=0;function kn(){throw Error(ie(321))}function Gm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gr(e[n],t[n]))return!1;return!0}function Qm(e,t,n,r,s,i){if(ai=i,At=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gu.current=e===null||e.memoizedState===null?EE:kE,e=n(r,s),Pl){i=0;do{if(Pl=!1,Xl=0,25<=i)throw Error(ie(301));i+=1,un=nn=null,t.updateQueue=null,gu.current=TE,e=n(r,s)}while(Pl)}if(gu.current=qu,t=nn!==null&&nn.next!==null,ai=0,un=nn=At=null,Ku=!1,t)throw Error(ie(300));return e}function Ym(){var e=Xl!==0;return Xl=0,e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?At.memoizedState=un=e:un=un.next=e,un}function Rr(){if(nn===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=nn.next;var t=un===null?At.memoizedState:un.next;if(t!==null)un=t,nn=e;else{if(e===null)throw Error(ie(310));nn=e,e={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},un===null?At.memoizedState=un=e:un=un.next=e}return un}function Zl(e,t){return typeof t=="function"?t(e):t}function Mf(e){var t=Rr(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=nn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var f=u.lane;if((ai&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,At.lanes|=f,li|=f}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Gr(r,t.memoizedState)||(tr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,At.lanes|=i,li|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $f(e){var t=Rr(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Gr(i,t.memoizedState)||(tr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function w0(){}function _0(e,t){var n=At,r=Rr(),s=t(),i=!Gr(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,Jm(j0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,ec(9,S0.bind(null,n,r,s,t),void 0,null),mn===null)throw Error(ie(349));ai&30||b0(n,t,s)}return s}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function S0(e,t,n,r){t.value=n,t.getSnapshot=r,C0(t)&&N0(e)}function j0(e,t,n){return n(function(){C0(t)&&N0(e)})}function C0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gr(e,n)}catch{return!0}}function N0(e){var t=As(e,1);t!==null&&qr(t,e,1,-1)}function Yv(e){var t=es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:e},t.queue=e,e=e.dispatch=NE.bind(null,At,e),[t.memoizedState,e]}function ec(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=At.updateQueue,t===null?(t={lastEffect:null,stores:null},At.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function E0(){return Rr().memoizedState}function vu(e,t,n,r){var s=es();At.flags|=e,s.memoizedState=ec(1|t,n,void 0,r===void 0?null:r)}function jd(e,t,n,r){var s=Rr();r=r===void 0?null:r;var i=void 0;if(nn!==null){var a=nn.memoizedState;if(i=a.destroy,r!==null&&Gm(r,a.deps)){s.memoizedState=ec(t,n,i,r);return}}At.flags|=e,s.memoizedState=ec(1|t,n,i,r)}function Jv(e,t){return vu(8390656,8,e,t)}function Jm(e,t){return jd(2048,8,e,t)}function k0(e,t){return jd(4,2,e,t)}function T0(e,t){return jd(4,4,e,t)}function P0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R0(e,t,n){return n=n!=null?n.concat([e]):null,jd(4,4,P0.bind(null,t,e),n)}function Xm(){}function A0(e,t){var n=Rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function O0(e,t){var n=Rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function I0(e,t,n){return ai&21?(Gr(n,t)||(n=Fw(),At.lanes|=n,li|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=n)}function jE(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=Lf.transition;Lf.transition={};try{e(!1),t()}finally{ht=n,Lf.transition=r}}function D0(){return Rr().memoizedState}function CE(e,t,n){var r=vo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L0(e))M0(t,n);else if(n=v0(e,t,n,r),n!==null){var s=Wn();qr(n,e,r,s),$0(n,t,r)}}function NE(e,t,n){var r=vo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L0(e))M0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Gr(l,a)){var c=t.interleaved;c===null?(s.next=s,Hm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=v0(e,t,s,r),n!==null&&(s=Wn(),qr(n,e,r,s),$0(n,t,r))}}function L0(e){var t=e.alternate;return e===At||t!==null&&t===At}function M0(e,t){Pl=Ku=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tm(e,n)}}var qu={readContext:Pr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},EE={readContext:Pr,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:Jv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vu(4194308,4,P0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var n=es();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=es();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CE.bind(null,At,e),[r.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:Yv,useDebugValue:Xm,useDeferredValue:function(e){return es().memoizedState=e},useTransition:function(){var e=Yv(!1),t=e[0];return e=jE.bind(null,e[1]),es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=At,s=es();if(Et){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),mn===null)throw Error(ie(349));ai&30||b0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Jv(j0.bind(null,r,i,e),[e]),r.flags|=2048,ec(9,S0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=es(),t=mn.identifierPrefix;if(Et){var n=Ns,r=Cs;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=SE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kE={readContext:Pr,useCallback:A0,useContext:Pr,useEffect:Jm,useImperativeHandle:R0,useInsertionEffect:k0,useLayoutEffect:T0,useMemo:O0,useReducer:Mf,useRef:E0,useState:function(){return Mf(Zl)},useDebugValue:Xm,useDeferredValue:function(e){var t=Rr();return I0(t,nn.memoizedState,e)},useTransition:function(){var e=Mf(Zl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:w0,useSyncExternalStore:_0,useId:D0,unstable_isNewReconciler:!1},TE={readContext:Pr,useCallback:A0,useContext:Pr,useEffect:Jm,useImperativeHandle:R0,useInsertionEffect:k0,useLayoutEffect:T0,useMemo:O0,useReducer:$f,useRef:E0,useState:function(){return $f(Zl)},useDebugValue:Xm,useDeferredValue:function(e){var t=Rr();return nn===null?t.memoizedState=e:I0(t,nn.memoizedState,e)},useTransition:function(){var e=$f(Zl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:w0,useSyncExternalStore:_0,useId:D0,unstable_isNewReconciler:!1};function zr(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cd={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wn(),s=vo(e),i=Es(r,s);i.payload=t,n!=null&&(i.callback=n),t=mo(e,i,s),t!==null&&(qr(t,e,s,r),mu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wn(),s=vo(e),i=Es(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mo(e,i,s),t!==null&&(qr(t,e,s,r),mu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),r=vo(e),s=Es(n,r);s.tag=2,t!=null&&(s.callback=t),t=mo(e,s,r),t!==null&&(qr(t,e,r,n),mu(t,e,r))}};function Xv(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Kl(n,r)||!Kl(s,i):!0}function F0(e,t,n){var r=!1,s=So,i=t.contextType;return typeof i=="object"&&i!==null?i=Pr(i):(s=sr(t)?oi:In.current,r=t.contextTypes,i=(r=r!=null)?_a(e,s):So),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cd.enqueueReplaceState(t,t.state,null)}function Xh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pr(i):(i=sr(t)?oi:In.current,s.context=_a(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Jh(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cd.enqueueReplaceState(s,s.state,null),Wu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ca(e,t){try{var n="",r=t;do n+=rN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ff(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var PE=typeof WeakMap=="function"?WeakMap:Map;function z0(e,t,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qu||(Qu=!0,cp=r),Zh(e,t)},n}function U0(e,t,n){n=Es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Zh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zh(e,t),typeof r!="function"&&(go===null?go=new Set([this]):go.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ey(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new PE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=WE.bind(null,e,t,n),t.then(e,e))}function ty(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ny(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Es(-1,1),t.tag=2,mo(n,t,1))),n.lanes|=1),e)}var RE=Ls.ReactCurrentOwner,tr=!1;function Hn(e,t,n,r){t.child=e===null?g0(t,null,n,r):Sa(t,e.child,n,r)}function ry(e,t,n,r,s){n=n.render;var i=t.ref;return Xi(t,s),r=Qm(e,t,n,r,i,s),n=Ym(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(Et&&n&&Mm(t),t.flags|=1,Hn(e,t,r,s),t.child)}function sy(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ig(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,B0(e,t,i,r,s)):(e=_u(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(a,r)&&e.ref===t.ref)return Os(e,t,s)}return t.flags|=1,e=yo(i,r),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Kl(i,r)&&e.ref===t.ref)if(tr=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Os(e,t,s)}return ep(e,t,n,r,s)}function H0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Vi,cr),cr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(Vi,cr),cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,wt(Vi,cr),cr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,wt(Vi,cr),cr|=r;return Hn(e,t,s,n),t.child}function W0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ep(e,t,n,r,s){var i=sr(n)?oi:In.current;return i=_a(t,i),Xi(t,s),n=Qm(e,t,n,r,i,s),r=Ym(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(Et&&r&&Mm(t),t.flags|=1,Hn(e,t,n,s),t.child)}function oy(e,t,n,r,s){if(sr(n)){var i=!0;Fu(t)}else i=!1;if(Xi(t,s),t.stateNode===null)yu(e,t),F0(t,n,r),Xh(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pr(u):(u=sr(n)?oi:In.current,u=_a(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Zv(t,a,r,u),qs=!1;var p=t.memoizedState;a.state=p,Wu(t,r,a,s),c=t.memoizedState,l!==r||p!==c||rr.current||qs?(typeof f=="function"&&(Jh(t,n,f,r),c=t.memoizedState),(l=qs||Xv(t,n,l,r,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,y0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zr(t.type,l),a.props=u,h=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=sr(n)?oi:In.current,c=_a(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Zv(t,a,r,c),qs=!1,p=t.memoizedState,a.state=p,Wu(t,r,a,s);var w=t.memoizedState;l!==h||p!==w||rr.current||qs?(typeof y=="function"&&(Jh(t,n,y,r),w=t.memoizedState),(u=qs||Xv(t,n,u,r,p,w,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return tp(e,t,n,r,i,s)}function tp(e,t,n,r,s,i){W0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Wv(t,n,!1),Os(e,t,i);r=t.stateNode,RE.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Sa(t,e.child,null,i),t.child=Sa(t,null,l,i)):Hn(e,t,l,i),t.memoizedState=r.state,s&&Wv(t,n,!0),t.child}function V0(e){var t=e.stateNode;t.pendingContext?Hv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hv(e,t.context,!1),Vm(e,t.containerInfo)}function iy(e,t,n,r,s){return ba(),Fm(s),t.flags|=256,Hn(e,t,n,r),t.child}var np={dehydrated:null,treeContext:null,retryLane:0};function rp(e){return{baseLanes:e,cachePool:null,transitions:null}}function K0(e,t,n){var r=t.pendingProps,s=Rt.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),wt(Rt,s&1),e===null)return Qh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=kd(a,r,0,null),e=si(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rp(n),t.memoizedState=np,e):Zm(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return AE(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=yo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=yo(l,i):(i=si(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?rp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=np,r}return i=e.child,e=i.sibling,r=yo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zm(e,t){return t=kd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wc(e,t,n,r){return r!==null&&Fm(r),Sa(t,e.child,null,n),e=Zm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AE(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ff(Error(ie(422))),Wc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=kd({mode:"visible",children:r.children},s,0,null),i=si(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Sa(t,e.child,null,a),t.child.memoizedState=rp(a),t.memoizedState=np,i);if(!(t.mode&1))return Wc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ie(419)),r=Ff(i,r,void 0),Wc(e,t,a,r)}if(l=(a&e.childLanes)!==0,tr||l){if(r=mn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,As(e,s),qr(r,e,s,-1))}return og(),r=Ff(Error(ie(421))),Wc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=VE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,hr=po(s.nextSibling),mr=t,Et=!0,Wr=null,e!==null&&(Cr[Nr++]=Cs,Cr[Nr++]=Ns,Cr[Nr++]=ii,Cs=e.id,Ns=e.overflow,ii=t),t=Zm(t,r.children),t.flags|=4096,t)}function ay(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yh(e.return,t,n)}function zf(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function q0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Hn(e,t,r.children,n),r=Rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,n,t);else if(e.tag===19)ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(wt(Rt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zf(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zf(t,!0,n,null,i);break;case"together":zf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=yo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OE(e,t,n){switch(t.tag){case 3:V0(t),ba();break;case 5:x0(t);break;case 1:sr(t.type)&&Fu(t);break;case 4:Vm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;wt(Bu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(wt(Rt,Rt.current&1),t.flags|=128,null):n&t.child.childLanes?K0(e,t,n):(wt(Rt,Rt.current&1),e=Os(e,t,n),e!==null?e.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return q0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(Rt,Rt.current),r)break;return null;case 22:case 23:return t.lanes=0,H0(e,t,n)}return Os(e,t,n)}var G0,sp,Q0,Y0;G0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sp=function(){};Q0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Go(us.current);var i=null;switch(n){case"input":s=Nh(e,s),r=Nh(e,r),i=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),i=[];break;case"textarea":s=Th(e,s),r=Th(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mu)}Rh(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Y0=function(e,t,n,r){n!==r&&(t.flags|=4)};function al(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function IE(e,t,n){var r=t.pendingProps;switch($m(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return sr(t.type)&&$u(),Tn(t),null;case 3:return r=t.stateNode,ja(),Ct(rr),Ct(In),qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(fp(Wr),Wr=null))),sp(e,t),Tn(t),null;case 5:Km(t);var s=Go(Jl.current);if(n=t.type,e!==null&&t.stateNode!=null)Q0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ie(166));return Tn(t),null}if(e=Go(us.current),Bc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[is]=t,r[Ql]=i,e=(t.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)jt(_l[s],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":gv(r,i),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},jt("invalid",r);break;case"textarea":yv(r,i),jt("invalid",r)}Rh(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Uc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Uc(r.textContent,l,e),s=["children",""+l]):Fl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&jt("scroll",r)}switch(n){case"input":Oc(r),vv(r,i,!0);break;case"textarea":Oc(r),xv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[is]=t,e[Ql]=r,G0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ah(n,r),n){case"dialog":jt("cancel",e),jt("close",e),s=r;break;case"iframe":case"object":case"embed":jt("load",e),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)jt(_l[s],e);s=r;break;case"source":jt("error",e),s=r;break;case"img":case"image":case"link":jt("error",e),jt("load",e),s=r;break;case"details":jt("toggle",e),s=r;break;case"input":gv(e,r),s=Nh(e,r),jt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),jt("invalid",e);break;case"textarea":yv(e,r),s=Th(e,r),jt("invalid",e);break;default:s=r}Rh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ew(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cw(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zl(e,c):typeof c=="number"&&zl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&jt("scroll",e):c!=null&&Sm(e,i,c,a))}switch(n){case"input":Oc(e),vv(e,r,!1);break;case"textarea":Oc(e),xv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)Y0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ie(166));if(n=Go(Jl.current),Go(us.current),Bc(t)){if(r=t.stateNode,n=t.memoizedProps,r[is]=t,(i=r.nodeValue!==n)&&(e=mr,e!==null))switch(e.tag){case 3:Uc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[is]=t,t.stateNode=r}return Tn(t),null;case 13:if(Ct(Rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&hr!==null&&t.mode&1&&!(t.flags&128))p0(),ba(),t.flags|=98560,i=!1;else if(i=Bc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[is]=t}else ba(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),i=!1}else Wr!==null&&(fp(Wr),Wr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?an===0&&(an=3):og())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return ja(),sp(e,t),e===null&&ql(t.stateNode.containerInfo),Tn(t),null;case 10:return Bm(t.type._context),Tn(t),null;case 17:return sr(t.type)&&$u(),Tn(t),null;case 19:if(Ct(Rt),i=t.memoizedState,i===null)return Tn(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)al(i,!1);else{if(an!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vu(e),a!==null){for(t.flags|=128,al(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return wt(Rt,Rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ht()>Na&&(t.flags|=128,r=!0,al(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Et)return Tn(t),null}else 2*Ht()-i.renderingStartTime>Na&&n!==1073741824&&(t.flags|=128,r=!0,al(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ht(),t.sibling=null,n=Rt.current,wt(Rt,r?n&1|2:n&1),t):(Tn(t),null);case 22:case 23:return sg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?cr&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function DE(e,t){switch($m(t),t.tag){case 1:return sr(t.type)&&$u(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ja(),Ct(rr),Ct(In),qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Km(t),null;case 13:if(Ct(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Rt),null;case 4:return ja(),null;case 10:return Bm(t.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var Vc=!1,An=!1,LE=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(e,t,r)}else n.current=null}function op(e,t,n){try{n()}catch(r){$t(e,t,r)}}var ly=!1;function ME(e,t){if(Bh=Iu,e=t0(),Lm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,f=0,h=e,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=a),p===i&&++f===r&&(c=a),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hh={focusedElem:e,selectionRange:n},Iu=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:zr(t.type,v),_);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(b){$t(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return w=ly,ly=!1,w}function Rl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&op(t,n,i)}s=s.next}while(s!==r)}}function Nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ip(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function J0(e){var t=e.alternate;t!==null&&(e.alternate=null,J0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[is],delete t[Ql],delete t[Kh],delete t[xE],delete t[wE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X0(e){return e.tag===5||e.tag===3||e.tag===4}function cy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ap(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mu));else if(r!==4&&(e=e.child,e!==null))for(ap(e,t,n),e=e.sibling;e!==null;)ap(e,t,n),e=e.sibling}function lp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lp(e,t,n),e=e.sibling;e!==null;)lp(e,t,n),e=e.sibling}var xn=null,Br=!1;function Fs(e,t,n){for(n=n.child;n!==null;)Z0(e,t,n),n=n.sibling}function Z0(e,t,n){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:An||Wi(n,t);case 6:var r=xn,s=Br;xn=null,Fs(e,t,n),xn=r,Br=s,xn!==null&&(Br?(e=xn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xn.removeChild(n.stateNode));break;case 18:xn!==null&&(Br?(e=xn,n=n.stateNode,e.nodeType===8?Of(e.parentNode,n):e.nodeType===1&&Of(e,n),Wl(e)):Of(xn,n.stateNode));break;case 4:r=xn,s=Br,xn=n.stateNode.containerInfo,Br=!0,Fs(e,t,n),xn=r,Br=s;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&op(n,t,a),s=s.next}while(s!==r)}Fs(e,t,n);break;case 1:if(!An&&(Wi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$t(n,t,l)}Fs(e,t,n);break;case 21:Fs(e,t,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,Fs(e,t,n),An=r):Fs(e,t,n);break;default:Fs(e,t,n)}}function uy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new LE),t.forEach(function(r){var s=KE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:xn=l.stateNode,Br=!1;break e;case 3:xn=l.stateNode.containerInfo,Br=!0;break e;case 4:xn=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(xn===null)throw Error(ie(160));Z0(i,a,s),xn=null,Br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$t(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e_(t,e),t=t.sibling}function e_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),Zr(e),r&4){try{Rl(3,e,e.return),Nd(3,e)}catch(v){$t(e,e.return,v)}try{Rl(5,e,e.return)}catch(v){$t(e,e.return,v)}}break;case 1:Lr(t,e),Zr(e),r&512&&n!==null&&Wi(n,n.return);break;case 5:if(Lr(t,e),Zr(e),r&512&&n!==null&&Wi(n,n.return),e.flags&32){var s=e.stateNode;try{zl(s,"")}catch(v){$t(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bw(s,i),Ah(l,a);var u=Ah(l,i);for(a=0;a<c.length;a+=2){var f=c[a],h=c[a+1];f==="style"?Ew(s,h):f==="dangerouslySetInnerHTML"?Cw(s,h):f==="children"?zl(s,h):Sm(s,f,h,u)}switch(l){case"input":Eh(s,i);break;case"textarea":Sw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gi(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Gi(s,!!i.multiple,i.defaultValue,!0):Gi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ql]=i}catch(v){$t(e,e.return,v)}}break;case 6:if(Lr(t,e),Zr(e),r&4){if(e.stateNode===null)throw Error(ie(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){$t(e,e.return,v)}}break;case 3:if(Lr(t,e),Zr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(v){$t(e,e.return,v)}break;case 4:Lr(t,e),Zr(e);break;case 13:Lr(t,e),Zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ng=Ht())),r&4&&uy(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(An=(u=An)||f,Lr(t,e),An=u):Lr(t,e),Zr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Se=e,f=e.child;f!==null;){for(h=Se=f;Se!==null;){switch(p=Se,y=p.child,p.tag){case 0:case 11:case 14:case 15:Rl(4,p,p.return);break;case 1:Wi(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){$t(r,n,v)}}break;case 5:Wi(p,p.return);break;case 22:if(p.memoizedState!==null){fy(h);continue}}y!==null?(y.return=p,Se=y):fy(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Nw("display",a))}catch(v){$t(e,e.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){$t(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lr(t,e),Zr(e),r&4&&uy(e);break;case 21:break;default:Lr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X0(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zl(s,""),r.flags&=-33);var i=cy(e);lp(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=cy(e);ap(e,l,a);break;default:throw Error(ie(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $E(e,t,n){Se=e,t_(e)}function t_(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Vc;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||An;l=Vc;var u=An;if(Vc=a,(An=c)&&!u)for(Se=s;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?hy(s):c!==null?(c.return=a,Se=c):hy(s);for(;i!==null;)Se=i,t_(i),i=i.sibling;Se=s,Vc=l,An=u}dy(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):dy(e)}}function dy(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:An||Nd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!An)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:zr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qv(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qv(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}An||t.flags&512&&ip(t)}catch(p){$t(t,t.return,p)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function fy(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function hy(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nd(4,t)}catch(c){$t(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){$t(t,s,c)}}var i=t.return;try{ip(t)}catch(c){$t(t,i,c)}break;case 5:var a=t.return;try{ip(t)}catch(c){$t(t,a,c)}}}catch(c){$t(t,t.return,c)}if(t===e){Se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Se=l;break}Se=t.return}}var FE=Math.ceil,Gu=Ls.ReactCurrentDispatcher,eg=Ls.ReactCurrentOwner,kr=Ls.ReactCurrentBatchConfig,lt=0,mn=null,Yt=null,Sn=0,cr=0,Vi=Po(0),an=0,tc=null,li=0,Ed=0,tg=0,Al=null,Xn=null,ng=0,Na=1/0,_s=null,Qu=!1,cp=null,go=null,Kc=!1,lo=null,Yu=0,Ol=0,up=null,xu=-1,wu=0;function Wn(){return lt&6?Ht():xu!==-1?xu:xu=Ht()}function vo(e){return e.mode&1?lt&2&&Sn!==0?Sn&-Sn:bE.transition!==null?(wu===0&&(wu=Fw()),wu):(e=ht,e!==0||(e=window.event,e=e===void 0?16:Kw(e.type)),e):1}function qr(e,t,n,r){if(50<Ol)throw Ol=0,up=null,Error(ie(185));hc(e,n,r),(!(lt&2)||e!==mn)&&(e===mn&&(!(lt&2)&&(Ed|=n),an===4&&Ys(e,Sn)),or(e,r),n===1&&lt===0&&!(t.mode&1)&&(Na=Ht()+500,Sd&&Ro()))}function or(e,t){var n=e.callbackNode;bN(e,t);var r=Ou(e,e===mn?Sn:0);if(r===0)n!==null&&bv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bv(n),t===1)e.tag===0?_E(py.bind(null,e)):d0(py.bind(null,e)),vE(function(){!(lt&6)&&Ro()}),n=null;else{switch(zw(r)){case 1:n=km;break;case 4:n=Mw;break;case 16:n=Au;break;case 536870912:n=$w;break;default:n=Au}n=c_(n,n_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function n_(e,t){if(xu=-1,wu=0,lt&6)throw Error(ie(327));var n=e.callbackNode;if(Zi()&&e.callbackNode!==n)return null;var r=Ou(e,e===mn?Sn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ju(e,r);else{t=r;var s=lt;lt|=2;var i=s_();(mn!==e||Sn!==t)&&(_s=null,Na=Ht()+500,ri(e,t));do try{BE();break}catch(l){r_(e,l)}while(!0);Um(),Gu.current=i,lt=s,Yt!==null?t=0:(mn=null,Sn=0,t=an)}if(t!==0){if(t===2&&(s=Mh(e),s!==0&&(r=s,t=dp(e,s))),t===1)throw n=tc,ri(e,0),Ys(e,r),or(e,Ht()),n;if(t===6)Ys(e,r);else{if(s=e.current.alternate,!(r&30)&&!zE(s)&&(t=Ju(e,r),t===2&&(i=Mh(e),i!==0&&(r=i,t=dp(e,i))),t===1))throw n=tc,ri(e,0),Ys(e,r),or(e,Ht()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ie(345));case 2:Ho(e,Xn,_s);break;case 3:if(Ys(e,r),(r&130023424)===r&&(t=ng+500-Ht(),10<t)){if(Ou(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Wn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vh(Ho.bind(null,e,Xn,_s),t);break}Ho(e,Xn,_s);break;case 4:if(Ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Kr(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FE(r/1960))-r,10<r){e.timeoutHandle=Vh(Ho.bind(null,e,Xn,_s),r);break}Ho(e,Xn,_s);break;case 5:Ho(e,Xn,_s);break;default:throw Error(ie(329))}}}return or(e,Ht()),e.callbackNode===n?n_.bind(null,e):null}function dp(e,t){var n=Al;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=Ju(e,t),e!==2&&(t=Xn,Xn=n,t!==null&&fp(t)),e}function fp(e){Xn===null?Xn=e:Xn.push.apply(Xn,e)}function zE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~tg,t&=~Ed,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kr(t),r=1<<n;e[n]=-1,t&=~r}}function py(e){if(lt&6)throw Error(ie(327));Zi();var t=Ou(e,0);if(!(t&1))return or(e,Ht()),null;var n=Ju(e,t);if(e.tag!==0&&n===2){var r=Mh(e);r!==0&&(t=r,n=dp(e,r))}if(n===1)throw n=tc,ri(e,0),Ys(e,t),or(e,Ht()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,Xn,_s),or(e,Ht()),null}function rg(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(Na=Ht()+500,Sd&&Ro())}}function ci(e){lo!==null&&lo.tag===0&&!(lt&6)&&Zi();var t=lt;lt|=1;var n=kr.transition,r=ht;try{if(kr.transition=null,ht=1,e)return e()}finally{ht=r,kr.transition=n,lt=t,!(lt&6)&&Ro()}}function sg(){cr=Vi.current,Ct(Vi)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gE(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch($m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$u();break;case 3:ja(),Ct(rr),Ct(In),qm();break;case 5:Km(r);break;case 4:ja();break;case 13:Ct(Rt);break;case 19:Ct(Rt);break;case 10:Bm(r.type._context);break;case 22:case 23:sg()}n=n.return}if(mn=e,Yt=e=yo(e.current,null),Sn=cr=t,an=0,tc=null,tg=Ed=li=0,Xn=Al=null,qo!==null){for(t=0;t<qo.length;t++)if(n=qo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}qo=null}return e}function r_(e,t){do{var n=Yt;try{if(Um(),gu.current=qu,Ku){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ku=!1}if(ai=0,un=nn=At=null,Pl=!1,Xl=0,eg.current=null,n===null||n.return===null){an=1,tc=t,Yt=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=ty(a);if(y!==null){y.flags&=-257,ny(y,a,l,i,t),y.mode&1&&ey(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){ey(i,u,t),og();break e}c=Error(ie(426))}}else if(Et&&l.mode&1){var _=ty(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ny(_,a,l,i,t),Fm(Ca(c,l));break e}}i=c=Ca(c,l),an!==4&&(an=2),Al===null?Al=[i]:Al.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=z0(i,c,t);Gv(i,x);break e;case 1:l=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(go===null||!go.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=U0(i,l,t);Gv(i,b);break e}}i=i.return}while(i!==null)}i_(n)}catch(C){t=C,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function s_(){var e=Gu.current;return Gu.current=qu,e===null?qu:e}function og(){(an===0||an===3||an===2)&&(an=4),mn===null||!(li&268435455)&&!(Ed&268435455)||Ys(mn,Sn)}function Ju(e,t){var n=lt;lt|=2;var r=s_();(mn!==e||Sn!==t)&&(_s=null,ri(e,t));do try{UE();break}catch(s){r_(e,s)}while(!0);if(Um(),lt=n,Gu.current=r,Yt!==null)throw Error(ie(261));return mn=null,Sn=0,an}function UE(){for(;Yt!==null;)o_(Yt)}function BE(){for(;Yt!==null&&!hN();)o_(Yt)}function o_(e){var t=l_(e.alternate,e,cr);e.memoizedProps=e.pendingProps,t===null?i_(e):Yt=t,eg.current=null}function i_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DE(n,t),n!==null){n.flags&=32767,Yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{an=6,Yt=null;return}}else if(n=IE(n,t,cr),n!==null){Yt=n;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);an===0&&(an=5)}function Ho(e,t,n){var r=ht,s=kr.transition;try{kr.transition=null,ht=1,HE(e,t,n,r)}finally{kr.transition=s,ht=r}return null}function HE(e,t,n,r){do Zi();while(lo!==null);if(lt&6)throw Error(ie(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(SN(e,i),e===mn&&(Yt=mn=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,c_(Au,function(){return Zi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var a=ht;ht=1;var l=lt;lt|=4,eg.current=null,ME(e,n),e_(n,e),cE(Hh),Iu=!!Bh,Hh=Bh=null,e.current=n,$E(n),pN(),lt=l,ht=a,kr.transition=i}else e.current=n;if(Kc&&(Kc=!1,lo=e,Yu=s),i=e.pendingLanes,i===0&&(go=null),vN(n.stateNode),or(e,Ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qu)throw Qu=!1,e=cp,cp=null,e;return Yu&1&&e.tag!==0&&Zi(),i=e.pendingLanes,i&1?e===up?Ol++:(Ol=0,up=e):Ol=0,Ro(),null}function Zi(){if(lo!==null){var e=zw(Yu),t=kr.transition,n=ht;try{if(kr.transition=null,ht=16>e?16:e,lo===null)var r=!1;else{if(e=lo,lo=null,Yu=0,lt&6)throw Error(ie(331));var s=lt;for(lt|=4,Se=e.current;Se!==null;){var i=Se,a=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Se=u;Se!==null;){var f=Se;switch(f.tag){case 0:case 11:case 15:Rl(8,f,i)}var h=f.child;if(h!==null)h.return=f,Se=h;else for(;Se!==null;){f=Se;var p=f.sibling,y=f.return;if(J0(f),f===u){Se=null;break}if(p!==null){p.return=y,Se=p;break}Se=y}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Se=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Se=a;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Se=x;break e}Se=i.return}}var m=e.current;for(Se=m;Se!==null;){a=Se;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,Se=g;else e:for(a=m;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nd(9,l)}}catch(C){$t(l,l.return,C)}if(l===a){Se=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Se=b;break e}Se=l.return}}if(lt=s,Ro(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(yd,e)}catch{}r=!0}return r}finally{ht=n,kr.transition=t}}return!1}function my(e,t,n){t=Ca(n,t),t=z0(e,t,1),e=mo(e,t,1),t=Wn(),e!==null&&(hc(e,1,t),or(e,t))}function $t(e,t,n){if(e.tag===3)my(e,e,n);else for(;t!==null;){if(t.tag===3){my(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(go===null||!go.has(r))){e=Ca(n,e),e=U0(t,e,1),t=mo(t,e,1),e=Wn(),t!==null&&(hc(t,1,e),or(t,e));break}}t=t.return}}function WE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&n,mn===e&&(Sn&n)===n&&(an===4||an===3&&(Sn&130023424)===Sn&&500>Ht()-ng?ri(e,0):tg|=n),or(e,t)}function a_(e,t){t===0&&(e.mode&1?(t=Lc,Lc<<=1,!(Lc&130023424)&&(Lc=4194304)):t=1);var n=Wn();e=As(e,t),e!==null&&(hc(e,t,n),or(e,n))}function VE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a_(e,n)}function KE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(t),a_(e,n)}var l_;l_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rr.current)tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tr=!1,OE(e,t,n);tr=!!(e.flags&131072)}else tr=!1,Et&&t.flags&1048576&&f0(t,Uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yu(e,t),e=t.pendingProps;var s=_a(t,In.current);Xi(t,n),s=Qm(null,t,r,e,s,n);var i=Ym();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(r)?(i=!0,Fu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wm(t),s.updater=Cd,t.stateNode=s,s._reactInternals=t,Xh(t,r,e,n),t=tp(null,t,r,!0,i,n)):(t.tag=0,Et&&i&&Mm(t),Hn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=GE(r),e=zr(r,e),s){case 0:t=ep(null,t,r,e,n);break e;case 1:t=oy(null,t,r,e,n);break e;case 11:t=ry(null,t,r,e,n);break e;case 14:t=sy(null,t,r,zr(r.type,e),n);break e}throw Error(ie(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zr(r,s),ep(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zr(r,s),oy(e,t,r,s,n);case 3:e:{if(V0(t),e===null)throw Error(ie(387));r=t.pendingProps,i=t.memoizedState,s=i.element,y0(e,t),Wu(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ca(Error(ie(423)),t),t=iy(e,t,r,n,s);break e}else if(r!==s){s=Ca(Error(ie(424)),t),t=iy(e,t,r,n,s);break e}else for(hr=po(t.stateNode.containerInfo.firstChild),mr=t,Et=!0,Wr=null,n=g0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===s){t=Os(e,t,n);break e}Hn(e,t,r,n)}t=t.child}return t;case 5:return x0(t),e===null&&Qh(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Wh(r,s)?a=null:i!==null&&Wh(r,i)&&(t.flags|=32),W0(e,t),Hn(e,t,a,n),t.child;case 6:return e===null&&Qh(t),null;case 13:return K0(e,t,n);case 4:return Vm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sa(t,null,r,n):Hn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zr(r,s),ry(e,t,r,s,n);case 7:return Hn(e,t,t.pendingProps,n),t.child;case 8:return Hn(e,t,t.pendingProps.children,n),t.child;case 12:return Hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,wt(Bu,r._currentValue),r._currentValue=a,i!==null)if(Gr(i.value,a)){if(i.children===s.children&&!rr.current){t=Os(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Es(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yh(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ie(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Yh(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Hn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xi(t,n),s=Pr(s),r=r(s),t.flags|=1,Hn(e,t,r,n),t.child;case 14:return r=t.type,s=zr(r,t.pendingProps),s=zr(r.type,s),sy(e,t,r,s,n);case 15:return B0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zr(r,s),yu(e,t),t.tag=1,sr(r)?(e=!0,Fu(t)):e=!1,Xi(t,n),F0(t,r,s),Xh(t,r,s,n),tp(null,t,r,!0,e,n);case 19:return q0(e,t,n);case 22:return H0(e,t,n)}throw Error(ie(156,t.tag))};function c_(e,t){return Lw(e,t)}function qE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,n,r){return new qE(e,t,n,r)}function ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GE(e){if(typeof e=="function")return ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cm)return 11;if(e===Nm)return 14}return 2}function yo(e,t){var n=e.alternate;return n===null?(n=Er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _u(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")ig(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Di:return si(n.children,s,i,t);case jm:a=8,s|=8;break;case bh:return e=Er(12,n,t,s|2),e.elementType=bh,e.lanes=i,e;case Sh:return e=Er(13,n,t,s),e.elementType=Sh,e.lanes=i,e;case jh:return e=Er(19,n,t,s),e.elementType=jh,e.lanes=i,e;case xw:return kd(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vw:a=10;break e;case yw:a=9;break e;case Cm:a=11;break e;case Nm:a=14;break e;case Ks:a=16,r=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Er(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function si(e,t,n,r){return e=Er(7,e,r,t),e.lanes=n,e}function kd(e,t,n,r){return e=Er(22,e,r,t),e.elementType=xw,e.lanes=n,e.stateNode={isHidden:!1},e}function Uf(e,t,n){return e=Er(6,e,null,t),e.lanes=n,e}function Bf(e,t,n){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ag(e,t,n,r,s,i,a,l,c){return e=new QE(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wm(i),e}function YE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function u_(e){if(!e)return So;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(sr(n))return u0(e,n,t)}return t}function d_(e,t,n,r,s,i,a,l,c){return e=ag(n,r,!0,e,s,i,a,l,c),e.context=u_(null),n=e.current,r=Wn(),s=vo(n),i=Es(r,s),i.callback=t??null,mo(n,i,s),e.current.lanes=s,hc(e,s,r),or(e,r),e}function Td(e,t,n,r){var s=t.current,i=Wn(),a=vo(s);return n=u_(n),t.context===null?t.context=n:t.pendingContext=n,t=Es(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mo(s,t,a),e!==null&&(qr(e,s,a,i),mu(e,s,a)),a}function Xu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lg(e,t){gy(e,t),(e=e.alternate)&&gy(e,t)}function JE(){return null}var f_=typeof reportError=="function"?reportError:function(e){console.error(e)};function cg(e){this._internalRoot=e}Pd.prototype.render=cg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));Td(e,t,null,null)};Pd.prototype.unmount=cg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ci(function(){Td(null,e,null,null)}),t[Rs]=null}};function Pd(e){this._internalRoot=e}Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qs.length&&t!==0&&t<Qs[n].priority;n++);Qs.splice(n,0,e),n===0&&Vw(e)}};function ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vy(){}function XE(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Xu(a);i.call(u)}}var a=d_(t,r,e,0,null,!1,!1,"",vy);return e._reactRootContainer=a,e[Rs]=a.current,ql(e.nodeType===8?e.parentNode:e),ci(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Xu(c);l.call(u)}}var c=ag(e,0,!1,null,null,!1,!1,"",vy);return e._reactRootContainer=c,e[Rs]=c.current,ql(e.nodeType===8?e.parentNode:e),ci(function(){Td(t,c,n,r)}),c}function Ad(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Xu(a);l.call(c)}}Td(t,a,e,s)}else a=XE(n,t,e,s,r);return Xu(a)}Uw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wl(t.pendingLanes);n!==0&&(Tm(t,n|1),or(t,Ht()),!(lt&6)&&(Na=Ht()+500,Ro()))}break;case 13:ci(function(){var r=As(e,1);if(r!==null){var s=Wn();qr(r,e,1,s)}}),lg(e,1)}};Pm=function(e){if(e.tag===13){var t=As(e,134217728);if(t!==null){var n=Wn();qr(t,e,134217728,n)}lg(e,134217728)}};Bw=function(e){if(e.tag===13){var t=vo(e),n=As(e,t);if(n!==null){var r=Wn();qr(n,e,t,r)}lg(e,t)}};Hw=function(){return ht};Ww=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};Ih=function(e,t,n){switch(t){case"input":if(Eh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bd(r);if(!s)throw Error(ie(90));_w(r),Eh(r,s)}}}break;case"textarea":Sw(e,n);break;case"select":t=n.value,t!=null&&Gi(e,!!n.multiple,t,!1)}};Pw=rg;Rw=ci;var ZE={usingClientEntryPoint:!1,Events:[mc,Fi,bd,kw,Tw,rg]},ll={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ek={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iw(e),e===null?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||JE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{yd=qc.inject(ek),cs=qc}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;yr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ug(t))throw Error(ie(200));return YE(e,t,null,n)};yr.createRoot=function(e,t){if(!ug(e))throw Error(ie(299));var n=!1,r="",s=f_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ag(e,1,!1,null,null,n,!1,r,s),e[Rs]=t.current,ql(e.nodeType===8?e.parentNode:e),new cg(t)};yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=Iw(t),e=e===null?null:e.stateNode,e};yr.flushSync=function(e){return ci(e)};yr.hydrate=function(e,t,n){if(!Rd(t))throw Error(ie(200));return Ad(null,e,t,!0,n)};yr.hydrateRoot=function(e,t,n){if(!ug(e))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=f_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=d_(t,null,e,1,n??null,s,!1,i,a),e[Rs]=t.current,ql(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Pd(t)};yr.render=function(e,t,n){if(!Rd(t))throw Error(ie(200));return Ad(null,e,t,!1,n)};yr.unmountComponentAtNode=function(e){if(!Rd(e))throw Error(ie(40));return e._reactRootContainer?(ci(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[Rs]=null})}),!0):!1};yr.unstable_batchedUpdates=rg;yr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rd(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Ad(e,t,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function h_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h_)}catch(e){console.error(e)}}h_(),hw.exports=yr;var wi=hw.exports;const p_=ew(wi);var m_,yy=wi;m_=yy.createRoot,yy.hydrateRoot;const tk=1,nk=1e6;let Hf=0;function rk(){return Hf=(Hf+1)%Number.MAX_SAFE_INTEGER,Hf.toString()}const Wf=new Map,xy=e=>{if(Wf.has(e))return;const t=setTimeout(()=>{Wf.delete(e),Il({type:"REMOVE_TOAST",toastId:e})},nk);Wf.set(e,t)},sk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,tk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xy(n):e.toasts.forEach(r=>{xy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},bu=[];let Su={toasts:[]};function Il(e){Su=sk(Su,e),bu.forEach(t=>{t(Su)})}function ok({...e}){const t=rk(),n=s=>Il({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Il({type:"DISMISS_TOAST",toastId:t});return Il({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function _i(){const[e,t]=d.useState(Su);return d.useEffect(()=>(bu.push(t),()=>{const n=bu.indexOf(t);n>-1&&bu.splice(n,1)}),[e]),{...e,toast:ok,dismiss:n=>Il({type:"DISMISS_TOAST",toastId:n})}}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ik(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function g_(...e){return t=>e.forEach(n=>ik(n,t))}function tt(...e){return d.useCallback(g_(...e),e)}function ak(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];function u(h){const{scope:p,children:y,...w}=h,v=(p==null?void 0:p[e][c])||l,_=d.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:_,children:y})}function f(h,p){const y=(p==null?void 0:p[e][c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,lk(s,...t)]}function lk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Ar=d.forwardRef((e,t)=>{const{children:n,...r}=e,s=d.Children.toArray(n),i=s.find(ck);if(i){const a=i.props.children,l=s.map(c=>c===i?d.Children.count(a)>1?d.Children.only(null):d.isValidElement(a)?a.props.children:null:c);return o.jsx(hp,{...r,ref:t,children:d.isValidElement(a)?d.cloneElement(a,void 0,l):null})}return o.jsx(hp,{...r,ref:t,children:n})});Ar.displayName="Slot";var hp=d.forwardRef((e,t)=>{const{children:n,...r}=e;if(d.isValidElement(n)){const s=dk(n);return d.cloneElement(n,{...uk(r,n.props),ref:t?g_(t,s):s})}return d.Children.count(n)>1?d.Children.only(null):null});hp.displayName="SlotClone";var dg=({children:e})=>o.jsx(o.Fragment,{children:e});function ck(e){return d.isValidElement(e)&&e.type===dg}function uk(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function dk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fg(e){const t=e+"CollectionProvider",[n,r]=ak(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:w,children:v}=y,_=he.useRef(null),x=he.useRef(new Map).current;return o.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=he.forwardRef((y,w)=>{const{scope:v,children:_}=y,x=i(l,v),m=tt(w,x.collectionRef);return o.jsx(Ar,{ref:m,children:_})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=he.forwardRef((y,w)=>{const{scope:v,children:_,...x}=y,m=he.useRef(null),g=tt(w,m),b=i(u,v);return he.useEffect(()=>(b.itemMap.set(m,{ref:m,...x}),()=>void b.itemMap.delete(m))),o.jsx(Ar,{[f]:"",ref:g,children:_})});h.displayName=u;function p(y){const w=i(e+"CollectionConsumer",y);return he.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((b,C)=>x.indexOf(b.ref.current)-x.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},p,r]}function fk(e,t){const n=d.createContext(t),r=i=>{const{children:a,...l}=i,c=d.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=d.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ao(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];const u=h=>{var x;const{scope:p,children:y,...w}=h,v=((x=p==null?void 0:p[e])==null?void 0:x[c])||l,_=d.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:_,children:y})};u.displayName=i+"Provider";function f(h,p){var v;const y=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,hk(s,...t)]}function hk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var pk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],De=pk.reduce((e,t)=>{const n=d.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?Ar:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function v_(e,t){e&&wi.flushSync(()=>e.dispatchEvent(t))}function Wt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function mk(e,t=globalThis==null?void 0:globalThis.document){const n=Wt(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var gk="DismissableLayer",pp="dismissableLayer.update",vk="dismissableLayer.pointerDownOutside",yk="dismissableLayer.focusOutside",wy,y_=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vc=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=d.useContext(y_),[f,h]=d.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=d.useState({}),w=tt(t,P=>h(P)),v=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),m=f?v.indexOf(f):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,b=m>=x,C=wk(P=>{const O=P.target,$=[...u.branches].some(U=>U.contains(O));!b||$||(s==null||s(P),a==null||a(P),P.defaultPrevented||l==null||l())},p),N=_k(P=>{const O=P.target;[...u.branches].some(U=>U.contains(O))||(i==null||i(P),a==null||a(P),P.defaultPrevented||l==null||l())},p);return mk(P=>{m===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),d.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wy=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),_y(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wy)}},[f,p,n,u]),d.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),_y())},[f,u]),d.useEffect(()=>{const P=()=>y({});return document.addEventListener(pp,P),()=>document.removeEventListener(pp,P)},[]),o.jsx(De.div,{...c,ref:w,style:{pointerEvents:g?b?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,C.onPointerDownCapture)})});vc.displayName=gk;var xk="DismissableLayerBranch",x_=d.forwardRef((e,t)=>{const n=d.useContext(y_),r=d.useRef(null),s=tt(t,r);return d.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(De.div,{...e,ref:s})});x_.displayName=xk;function wk(e,t=globalThis==null?void 0:globalThis.document){const n=Wt(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){w_(vk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _k(e,t=globalThis==null?void 0:globalThis.document){const n=Wt(e),r=d.useRef(!1);return d.useEffect(()=>{const s=i=>{i.target&&!r.current&&w_(yk,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _y(){const e=new CustomEvent(pp);document.dispatchEvent(e)}function w_(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?v_(s,i):s.dispatchEvent(i)}var bk=vc,Sk=x_,Cn=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},jk="Portal",Od=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=d.useState(!1);Cn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?p_.createPortal(o.jsx(De.div,{...r,ref:t}),a):null});Od.displayName=jk;function Ck(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Ir=e=>{const{present:t,children:n}=e,r=Nk(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),i=tt(r.ref,Ek(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:i}):null};Ir.displayName="Presence";function Nk(e){const[t,n]=d.useState(),r=d.useRef({}),s=d.useRef(e),i=d.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Ck(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Gc(r.current);i.current=l==="mounted"?u:"none"},[l]),Cn(()=>{const u=r.current,f=s.current;if(f!==e){const p=i.current,y=Gc(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Cn(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=y=>{const v=Gc(r.current).includes(y.animationName);if(y.target===t&&v&&(c("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},p=y=>{y.target===t&&(i.current=Gc(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Gc(e){return(e==null?void 0:e.animationName)||"none"}function Ek(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=kk({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=Wt(n),c=d.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[i,e,s,l]);return[a,c]}function kk({defaultProp:e,onChange:t}){const n=d.useState(e),[r]=n,s=d.useRef(r),i=Wt(t);return d.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Tk="VisuallyHidden",yc=d.forwardRef((e,t)=>o.jsx(De.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));yc.displayName=Tk;var Pk=yc,hg="ToastProvider",[pg,Rk,Ak]=fg("Toast"),[__,n$]=Ao("Toast",[Ak]),[Ok,Id]=__(hg),b_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=d.useState(null),[u,f]=d.useState(0),h=d.useRef(!1),p=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hg}\`. Expected non-empty \`string\`.`),o.jsx(pg.Provider,{scope:t,children:o.jsx(Ok,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>f(y=>y+1),[]),onToastRemove:d.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:a})})};b_.displayName=hg;var S_="ToastViewport",Ik=["F8"],mp="toast.viewportPause",gp="toast.viewportResume",j_=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Ik,label:s="Notifications ({hotkey})",...i}=e,a=Id(S_,n),l=Rk(n),c=d.useRef(null),u=d.useRef(null),f=d.useRef(null),h=d.useRef(null),p=tt(t,h,a.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;d.useEffect(()=>{const _=x=>{var g;r.length!==0&&r.every(b=>x[b]||x.code===b)&&((g=h.current)==null||g.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),d.useEffect(()=>{const _=c.current,x=h.current;if(w&&_&&x){const m=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(mp);x.dispatchEvent(N),a.isClosePausedRef.current=!0}},g=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(gp);x.dispatchEvent(N),a.isClosePausedRef.current=!1}},b=N=>{!_.contains(N.relatedTarget)&&g()},C=()=>{_.contains(document.activeElement)||g()};return _.addEventListener("focusin",m),_.addEventListener("focusout",b),_.addEventListener("pointermove",m),_.addEventListener("pointerleave",C),window.addEventListener("blur",m),window.addEventListener("focus",g),()=>{_.removeEventListener("focusin",m),_.removeEventListener("focusout",b),_.removeEventListener("pointermove",m),_.removeEventListener("pointerleave",C),window.removeEventListener("blur",m),window.removeEventListener("focus",g)}}},[w,a.isClosePausedRef]);const v=d.useCallback(({tabbingDirection:_})=>{const m=l().map(g=>{const b=g.ref.current,C=[b,...qk(b)];return _==="forwards"?C:C.reverse()});return(_==="forwards"?m.reverse():m).flat()},[l]);return d.useEffect(()=>{const _=h.current;if(_){const x=m=>{var C,N,P;const g=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!g){const O=document.activeElement,$=m.shiftKey;if(m.target===_&&$){(C=u.current)==null||C.focus();return}const Z=v({tabbingDirection:$?"backwards":"forwards"}),me=Z.findIndex(ee=>ee===O);Vf(Z.slice(me+1))?m.preventDefault():$?(N=u.current)==null||N.focus():(P=f.current)==null||P.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[l,v]),o.jsxs(Sk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&o.jsx(vp,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});Vf(_)}}),o.jsx(pg.Slot,{scope:n,children:o.jsx(De.ol,{tabIndex:-1,...i,ref:p})}),w&&o.jsx(vp,{ref:f,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});Vf(_)}})]})});j_.displayName=S_;var C_="ToastFocusProxy",vp=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Id(C_,n);return o.jsx(yc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});vp.displayName=C_;var Dd="Toast",Dk="toast.swipeStart",Lk="toast.swipeMove",Mk="toast.swipeCancel",$k="toast.swipeEnd",N_=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=jo({prop:r,defaultProp:s,onChange:i});return o.jsx(Ir,{present:n||l,children:o.jsx(Uk,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Wt(e.onPause),onResume:Wt(e.onResume),onSwipeStart:ke(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ke(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});N_.displayName=Dd;var[Fk,zk]=__(Dd,{onClose(){}}),Uk=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:y,...w}=e,v=Id(Dd,n),[_,x]=d.useState(null),m=tt(t,ee=>x(ee)),g=d.useRef(null),b=d.useRef(null),C=s||v.duration,N=d.useRef(0),P=d.useRef(C),O=d.useRef(0),{onToastAdd:$,onToastRemove:U}=v,G=Wt(()=>{var ve;(_==null?void 0:_.contains(document.activeElement))&&((ve=v.viewport)==null||ve.focus()),a()}),Z=d.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(O.current),N.current=new Date().getTime(),O.current=window.setTimeout(G,ee))},[G]);d.useEffect(()=>{const ee=v.viewport;if(ee){const ve=()=>{Z(P.current),u==null||u()},re=()=>{const ge=new Date().getTime()-N.current;P.current=P.current-ge,window.clearTimeout(O.current),c==null||c()};return ee.addEventListener(mp,re),ee.addEventListener(gp,ve),()=>{ee.removeEventListener(mp,re),ee.removeEventListener(gp,ve)}}},[v.viewport,C,c,u,Z]),d.useEffect(()=>{i&&!v.isClosePausedRef.current&&Z(C)},[i,C,v.isClosePausedRef,Z]),d.useEffect(()=>($(),()=>U()),[$,U]);const me=d.useMemo(()=>_?O_(_):null,[_]);return v.viewport?o.jsxs(o.Fragment,{children:[me&&o.jsx(Bk,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:me}),o.jsx(Fk,{scope:n,onClose:G,children:wi.createPortal(o.jsx(pg.ItemSlot,{scope:n,children:o.jsx(bk,{asChild:!0,onEscapeKeyDown:ke(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||G(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,ee=>{ee.key==="Escape"&&(l==null||l(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:ke(e.onPointerDown,ee=>{ee.button===0&&(g.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:ke(e.onPointerMove,ee=>{if(!g.current)return;const ve=ee.clientX-g.current.x,re=ee.clientY-g.current.y,ge=!!b.current,L=["left","right"].includes(v.swipeDirection),Q=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ce=L?Q(0,ve):0,E=L?0:Q(0,re),M=ee.pointerType==="touch"?10:2,z={x:ce,y:E},oe={originalEvent:ee,delta:z};ge?(b.current=z,Qc(Lk,h,oe,{discrete:!1})):by(z,v.swipeDirection,M)?(b.current=z,Qc(Dk,f,oe,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(ve)>M||Math.abs(re)>M)&&(g.current=null)}),onPointerUp:ke(e.onPointerUp,ee=>{const ve=b.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),b.current=null,g.current=null,ve){const ge=ee.currentTarget,L={originalEvent:ee,delta:ve};by(ve,v.swipeDirection,v.swipeThreshold)?Qc($k,y,L,{discrete:!0}):Qc(Mk,p,L,{discrete:!0}),ge.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Bk=e=>{const{__scopeToast:t,children:n,...r}=e,s=Id(Dd,t),[i,a]=d.useState(!1),[l,c]=d.useState(!1);return Vk(()=>a(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Od,{asChild:!0,children:o.jsx(yc,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},Hk="ToastTitle",E_=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(De.div,{...r,ref:t})});E_.displayName=Hk;var Wk="ToastDescription",k_=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(De.div,{...r,ref:t})});k_.displayName=Wk;var T_="ToastAction",P_=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(A_,{altText:n,asChild:!0,children:o.jsx(mg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${T_}\`. Expected non-empty \`string\`.`),null)});P_.displayName=T_;var R_="ToastClose",mg=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=zk(R_,n);return o.jsx(A_,{asChild:!0,children:o.jsx(De.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,s.onClose)})})});mg.displayName=R_;var A_=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function O_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Kk(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...O_(r))}}),t}function Qc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?v_(s,i):s.dispatchEvent(i)}var by=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function Vk(e=()=>{}){const t=Wt(e);Cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Kk(e){return e.nodeType===e.ELEMENT_NODE}function qk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Gk=b_,I_=j_,D_=N_,L_=E_,M_=k_,$_=P_,F_=mg;function z_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=z_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function U_(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=z_(e))&&(r&&(r+=" "),r+=t);return r}const Sy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jy=U_,Ua=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return jy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=i==null?void 0:i[u];if(f===null)return null;const p=Sy(f)||Sy(h);return s[u][p]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...y}=f;return Object.entries(y).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...i,...l}[v]):{...i,...l}[v]===_})?[...u,h,p]:u},[]);return jy(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>d.createElement("svg",{ref:c,...Yk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:B_("lucide",s),...l},[...a.map(([u,f])=>d.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const n=d.forwardRef(({className:r,...s},i)=>d.createElement(Jk,{ref:i,iconNode:t,className:B_(`lucide-${Qk(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=$e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=$e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=$e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=$e("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=$e("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=$e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=$e("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=$e("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=$e("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=$e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=$e("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=$e("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=$e("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=$e("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=$e("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=$e("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wg="-",mT=e=>{const t=vT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(wg);return l[0]===""&&l.length!==1&&l.shift(),Q_(l,t)||gT(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Q_=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Q_(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(wg);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Ey=/^\[(.+)\]$/,gT=e=>{if(Ey.test(e)){const t=Ey.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},vT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return xT(Object.entries(e.classGroups),n).forEach(([i,a])=>{xp(a,r,i,t)}),r},xp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ky(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(yT(s)){xp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{xp(a,ky(t,i),n,r)})})},ky=(e,t)=>{let n=e;return t.split(wg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yT=e=>e.isThemeGetter,xT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,wT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Y_="!",_T=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,f=0,h;for(let _=0;_<l.length;_++){let x=l[_];if(u===0){if(x===s&&(r||l.slice(_,_+i)===t)){c.push(l.slice(f,_)),f=_+i;continue}if(x==="/"){h=_;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?l:l.substring(f),y=p.startsWith(Y_),w=y?p.substring(1):p,v=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},bT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},ST=e=>({cache:wT(e.cacheSize),parseClassName:_T(e),...mT(e)}),jT=/\s+/,CT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(jT);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(u);let w=!!y,v=r(w?p.substring(0,y):p);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=r(p),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const _=bT(f).join(":"),x=h?_+Y_:_,m=x+v;if(i.includes(m))continue;i.push(m);const g=s(v,w);for(let b=0;b<g.length;++b){const C=g[b];i.push(x+C)}l=u+(l.length>0?" "+l:l)}return l};function NT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=J_(t))&&(r&&(r+=" "),r+=n);return r}const J_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=J_(e[r]))&&(n&&(n+=" "),n+=t);return n};function ET(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((f,h)=>h(f),e());return n=ST(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=CT(c,n);return s(c,f),f}return function(){return i(NT.apply(null,arguments))}}const St=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},X_=/^\[(?:([a-z-]+):)?(.+)\]$/i,kT=/^\d+\/\d+$/,TT=new Set(["px","full","screen"]),PT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vs=e=>na(e)||TT.has(e)||kT.test(e),zs=e=>Wa(e,"length",BT),na=e=>!!e&&!Number.isNaN(Number(e)),qf=e=>Wa(e,"number",na),cl=e=>!!e&&Number.isInteger(Number(e)),DT=e=>e.endsWith("%")&&na(e.slice(0,-1)),He=e=>X_.test(e),Us=e=>PT.test(e),LT=new Set(["length","size","percentage"]),MT=e=>Wa(e,LT,Z_),$T=e=>Wa(e,"position",Z_),FT=new Set(["image","url"]),zT=e=>Wa(e,FT,WT),UT=e=>Wa(e,"",HT),ul=()=>!0,Wa=(e,t,n)=>{const r=X_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},BT=e=>RT.test(e)&&!AT.test(e),Z_=()=>!1,HT=e=>OT.test(e),WT=e=>IT.test(e),VT=()=>{const e=St("colors"),t=St("spacing"),n=St("blur"),r=St("brightness"),s=St("borderColor"),i=St("borderRadius"),a=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),u=St("grayscale"),f=St("hueRotate"),h=St("invert"),p=St("gap"),y=St("gradientColorStops"),w=St("gradientColorStopPositions"),v=St("inset"),_=St("margin"),x=St("opacity"),m=St("padding"),g=St("saturate"),b=St("scale"),C=St("sepia"),N=St("skew"),P=St("space"),O=St("translate"),$=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",He,t],Z=()=>[He,t],me=()=>["",vs,zs],ee=()=>["auto",na,He],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",He],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[na,He];return{cacheSize:500,separator:":",theme:{colors:[ul],spacing:[vs,zs],blur:["none","",Us,He],brightness:E(),borderColor:[e],borderRadius:["none","","full",Us,He],borderSpacing:Z(),borderWidth:me(),contrast:E(),grayscale:Q(),hueRotate:E(),invert:Q(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[DT,zs],inset:G(),margin:G(),opacity:E(),padding:Z(),saturate:E(),scale:E(),sepia:Q(),skew:E(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),He]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cl,He]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",cl,He]}],"grid-cols":[{"grid-cols":[ul]}],"col-start-end":[{col:["auto",{span:["full",cl,He]},He]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[ul]}],"row-start-end":[{row:["auto",{span:[cl,He]},He]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,t]}],"min-w":[{"min-w":[He,t,"min","max","fit"]}],"max-w":[{"max-w":[He,t,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[He,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qf]}],"font-family":[{font:[ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",na,qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vs,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vs,zs]}],"underline-offset":[{"underline-offset":["auto",vs,He]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),$T]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[vs,He]}],"outline-w":[{outline:[vs,zs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[vs,zs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Us,UT]}],"shadow-color":[{shadow:[ul]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Us,He]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[cl,He]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vs,zs,qf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KT=ET(VT);function ae(...e){return KT(U_(e))}const qT=Gk,eb=d.forwardRef(({className:e,...t},n)=>o.jsx(I_,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eb.displayName=I_.displayName;const GT=Ua("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tb=d.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(D_,{ref:r,className:ae(GT({variant:t}),e),...n}));tb.displayName=D_.displayName;const QT=d.forwardRef(({className:e,...t},n)=>o.jsx($_,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));QT.displayName=$_.displayName;const nb=d.forwardRef(({className:e,...t},n)=>o.jsx(F_,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(di,{className:"h-4 w-4"})}));nb.displayName=F_.displayName;const rb=d.forwardRef(({className:e,...t},n)=>o.jsx(L_,{ref:n,className:ae("text-sm font-semibold",e),...t}));rb.displayName=L_.displayName;const sb=d.forwardRef(({className:e,...t},n)=>o.jsx(M_,{ref:n,className:ae("text-sm opacity-90",e),...t}));sb.displayName=M_.displayName;function YT(){const{toasts:e}=_i();return o.jsxs(qT,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(tb,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(rb,{children:n}),r&&o.jsx(sb,{children:r})]}),s,o.jsx(nb,{})]},t)}),o.jsx(eb,{})]})}var Ty=["light","dark"],JT="(prefers-color-scheme: dark)",XT=d.createContext(void 0),ZT={setTheme:e=>{},themes:[]},eP=()=>{var e;return(e=d.useContext(XT))!=null?e:ZT};d.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Ty.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,v=!1,_=!0)=>{let x=a?a[w]:w,m=v?w+"|| ''":`'${x}'`,g="";return s&&_&&!v&&Ty.includes(w)&&(g+=`d.style.colorScheme = '${w}';`),n==="class"?v||x?g+=`c.add(${m})`:g+="null":x&&(g+=`d[s](n,${m})`),g},y=e?`!function(){${f}${p(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${JT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var tP=e=>{switch(e){case"success":return sP;case"info":return iP;case"warning":return oP;case"error":return aP;default:return null}},nP=Array(12).fill(0),rP=({visible:e})=>he.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},he.createElement("div",{className:"sonner-spinner"},nP.map((t,n)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sP=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oP=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iP=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aP=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lP=()=>{let[e,t]=he.useState(document.hidden);return he.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},wp=1,cP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:wp++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async i=>{if(dP(i)&&!i.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async i=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||wp++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},lr=new cP,uP=(e,t)=>{let n=(t==null?void 0:t.id)||wp++;return lr.addToast({title:e,...t,id:n}),n},dP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fP=uP,hP=()=>lr.toasts,q=Object.assign(fP,{success:lr.success,info:lr.info,warning:lr.warning,error:lr.error,custom:lr.custom,message:lr.message,promise:lr.promise,dismiss:lr.dismiss,loading:lr.loading},{getHistory:hP});function pP(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}pP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jc(e){return e.label!==void 0}var mP=3,gP="32px",vP=4e3,yP=356,xP=14,wP=20,_P=200;function bP(...e){return e.filter(Boolean).join(" ")}var SP=e=>{var t,n,r,s,i,a,l,c,u,f;let{invert:h,toast:p,unstyled:y,interacting:w,setHeights:v,visibleToasts:_,heights:x,index:m,toasts:g,expanded:b,removeToast:C,defaultRichColors:N,closeButton:P,style:O,cancelButtonStyle:$,actionButtonStyle:U,className:G="",descriptionClassName:Z="",duration:me,position:ee,gap:ve,loadingIcon:re,expandByDefault:ge,classNames:L,icons:Q,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:E,cn:M}=e,[z,oe]=he.useState(!1),[J,V]=he.useState(!1),[te,de]=he.useState(!1),[ye,xe]=he.useState(!1),[Ae,Te]=he.useState(0),[ze,qe]=he.useState(0),Le=he.useRef(null),Ve=he.useRef(null),ct=m===0,Dt=m+1<=_,Ze=p.type,pt=p.dismissible!==!1,Jt=p.className||"",mt=p.descriptionClassName||"",nt=he.useMemo(()=>x.findIndex(Ne=>Ne.toastId===p.id)||0,[x,p.id]),Nt=he.useMemo(()=>{var Ne;return(Ne=p.closeButton)!=null?Ne:P},[p.closeButton,P]),_t=he.useMemo(()=>p.duration||me||vP,[p.duration,me]),Kt=he.useRef(0),st=he.useRef(0),gn=he.useRef(0),Ft=he.useRef(null),[vn,Nn]=ee.split("-"),yn=he.useMemo(()=>x.reduce((Ne,Ue,Me)=>Me>=nt?Ne:Ne+Ue.height,0),[x,nt]),cn=lP(),Xt=p.invert||h,kt=Ze==="loading";st.current=he.useMemo(()=>nt*ve+yn,[nt,yn]),he.useEffect(()=>{oe(!0)},[]),he.useLayoutEffect(()=>{if(!z)return;let Ne=Ve.current,Ue=Ne.style.height;Ne.style.height="auto";let Me=Ne.getBoundingClientRect().height;Ne.style.height=Ue,qe(Me),v(Tt=>Tt.find(Ke=>Ke.toastId===p.id)?Tt.map(Ke=>Ke.toastId===p.id?{...Ke,height:Me}:Ke):[{toastId:p.id,height:Me,position:p.position},...Tt])},[z,p.title,p.description,v,p.id]);let bt=he.useCallback(()=>{V(!0),Te(st.current),v(Ne=>Ne.filter(Ue=>Ue.toastId!==p.id)),setTimeout(()=>{C(p)},_P)},[p,C,v,st]);he.useEffect(()=>{if(p.promise&&Ze==="loading"||p.duration===1/0||p.type==="loading")return;let Ne,Ue=_t;return b||w||E&&cn?(()=>{if(gn.current<Kt.current){let Me=new Date().getTime()-Kt.current;Ue=Ue-Me}gn.current=new Date().getTime()})():Ue!==1/0&&(Kt.current=new Date().getTime(),Ne=setTimeout(()=>{var Me;(Me=p.onAutoClose)==null||Me.call(p,p),bt()},Ue)),()=>clearTimeout(Ne)},[b,w,ge,p,_t,bt,p.promise,Ze,E,cn]),he.useEffect(()=>{let Ne=Ve.current;if(Ne){let Ue=Ne.getBoundingClientRect().height;return qe(Ue),v(Me=>[{toastId:p.id,height:Ue,position:p.position},...Me]),()=>v(Me=>Me.filter(Tt=>Tt.toastId!==p.id))}},[v,p.id]),he.useEffect(()=>{p.delete&&bt()},[bt,p.delete]);function Dn(){return Q!=null&&Q.loading?he.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},Q.loading):re?he.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},re):he.createElement(rP,{visible:Ze==="loading"})}return he.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ve,className:M(G,Jt,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Ze],(n=p==null?void 0:p.classNames)==null?void 0:n[Ze]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":z,"data-promise":!!p.promise,"data-removed":J,"data-visible":Dt,"data-y-position":vn,"data-x-position":Nn,"data-index":m,"data-front":ct,"data-swiping":te,"data-dismissible":pt,"data-type":Ze,"data-invert":Xt,"data-swipe-out":ye,"data-expanded":!!(b||ge&&z),style:{"--index":m,"--toasts-before":m,"--z-index":g.length-m,"--offset":`${J?Ae:st.current}px`,"--initial-height":ge?"auto":`${ze}px`,...O,...p.style},onPointerDown:Ne=>{kt||!pt||(Le.current=new Date,Te(st.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(de(!0),Ft.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,Ue,Me,Tt;if(ye||!pt)return;Ft.current=null;let Ke=Number(((Ne=Ve.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ln=new Date().getTime()-((Ue=Le.current)==null?void 0:Ue.getTime()),wr=Math.abs(Ke)/Ln;if(Math.abs(Ke)>=wP||wr>.11){Te(st.current),(Me=p.onDismiss)==null||Me.call(p,p),bt(),xe(!0);return}(Tt=Ve.current)==null||Tt.style.setProperty("--swipe-amount","0px"),de(!1)},onPointerMove:Ne=>{var Ue;if(!Ft.current||!pt)return;let Me=Ne.clientY-Ft.current.y,Tt=Ne.clientX-Ft.current.x,Ke=(vn==="top"?Math.min:Math.max)(0,Me),Ln=Ne.pointerType==="touch"?10:2;Math.abs(Ke)>Ln?(Ue=Ve.current)==null||Ue.style.setProperty("--swipe-amount",`${Me}px`):Math.abs(Tt)>Ln&&(Ft.current=null)}},Nt&&!p.jsx?he.createElement("button",{"aria-label":ce,"data-disabled":kt,"data-close-button":!0,onClick:kt||!pt?()=>{}:()=>{var Ne;bt(),(Ne=p.onDismiss)==null||Ne.call(p,p)},className:M(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||he.isValidElement(p.title)?p.jsx||p.title:he.createElement(he.Fragment,null,Ze||p.icon||p.promise?he.createElement("div",{"data-icon":"",className:M(L==null?void 0:L.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Dn():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[Ze])||tP(Ze):null):null,he.createElement("div",{"data-content":"",className:M(L==null?void 0:L.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},he.createElement("div",{"data-title":"",className:M(L==null?void 0:L.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?he.createElement("div",{"data-description":"",className:M(Z,mt,L==null?void 0:L.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),he.isValidElement(p.cancel)?p.cancel:p.cancel&&Jc(p.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||$,onClick:Ne=>{var Ue,Me;Jc(p.cancel)&&pt&&((Me=(Ue=p.cancel).onClick)==null||Me.call(Ue,Ne),bt())},className:M(L==null?void 0:L.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,he.isValidElement(p.action)?p.action:p.action&&Jc(p.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||U,onClick:Ne=>{var Ue,Me;Jc(p.action)&&(Ne.defaultPrevented||((Me=(Ue=p.action).onClick)==null||Me.call(Ue,Ne),bt()))},className:M(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Py(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var jP=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,theme:c="light",richColors:u,duration:f,style:h,visibleToasts:p=mP,toastOptions:y,dir:w=Py(),gap:v=xP,loadingIcon:_,icons:x,containerAriaLabel:m="Notifications",pauseWhenPageIsHidden:g,cn:b=bP}=e,[C,N]=he.useState([]),P=he.useMemo(()=>Array.from(new Set([n].concat(C.filter(E=>E.position).map(E=>E.position)))),[C,n]),[O,$]=he.useState([]),[U,G]=he.useState(!1),[Z,me]=he.useState(!1),[ee,ve]=he.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=he.useRef(null),ge=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=he.useRef(null),Q=he.useRef(!1),ce=he.useCallback(E=>{var M;(M=C.find(z=>z.id===E.id))!=null&&M.delete||lr.dismiss(E.id),N(z=>z.filter(({id:oe})=>oe!==E.id))},[C]);return he.useEffect(()=>lr.subscribe(E=>{if(E.dismiss){N(M=>M.map(z=>z.id===E.id?{...z,delete:!0}:z));return}setTimeout(()=>{p_.flushSync(()=>{N(M=>{let z=M.findIndex(oe=>oe.id===E.id);return z!==-1?[...M.slice(0,z),{...M[z],...E},...M.slice(z+1)]:[E,...M]})})})}),[]),he.useEffect(()=>{if(c!=="system"){ve(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ve("dark"):ve("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:E})=>{ve(E?"dark":"light")})},[c]),he.useEffect(()=>{C.length<=1&&G(!1)},[C]),he.useEffect(()=>{let E=M=>{var z,oe;r.every(J=>M[J]||M.code===J)&&(G(!0),(z=re.current)==null||z.focus()),M.code==="Escape"&&(document.activeElement===re.current||(oe=re.current)!=null&&oe.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),he.useEffect(()=>{if(re.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,Q.current=!1)}},[re.current]),C.length?he.createElement("section",{"aria-label":`${m} ${ge}`,tabIndex:-1},P.map((E,M)=>{var z;let[oe,J]=E.split("-");return he.createElement("ol",{key:E,dir:w==="auto"?Py():w,tabIndex:-1,ref:re,className:a,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":oe,"data-x-position":J,style:{"--front-toast-height":`${((z=O[0])==null?void 0:z.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||gP,"--width":`${yP}px`,"--gap":`${v}px`,...h},onBlur:V=>{Q.current&&!V.currentTarget.contains(V.relatedTarget)&&(Q.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,L.current=V.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{Z||G(!1)},onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},C.filter(V=>!V.position&&M===0||V.position===E).map((V,te)=>{var de,ye;return he.createElement(SP,{key:V.id,icons:x,index:te,toast:V,defaultRichColors:u,duration:(de=y==null?void 0:y.duration)!=null?de:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:p,closeButton:(ye=y==null?void 0:y.closeButton)!=null?ye:i,interacting:Z,position:E,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ce,toasts:C.filter(xe=>xe.position==V.position),heights:O.filter(xe=>xe.position==V.position),setHeights:$,expandByDefault:s,gap:v,loadingIcon:_,expanded:U,pauseWhenPageIsHidden:g,cn:b})}))})):null};const CP=({...e})=>{const{theme:t="system"}=eP();return o.jsx(jP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var NP=dw.useId||(()=>{}),EP=0;function ks(e){const[t,n]=d.useState(NP());return Cn(()=>{e||n(r=>r??String(EP++))},[e]),e||(t?`radix-${t}`:"")}const kP=["top","right","bottom","left"],Co=Math.min,fr=Math.max,Zu=Math.round,Xc=Math.floor,No=e=>({x:e,y:e}),TP={left:"right",right:"left",bottom:"top",top:"bottom"},PP={start:"end",end:"start"};function _p(e,t,n){return fr(e,Co(t,n))}function Is(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function Va(e){return e.split("-")[1]}function _g(e){return e==="x"?"y":"x"}function bg(e){return e==="y"?"height":"width"}function Eo(e){return["top","bottom"].includes(Ds(e))?"y":"x"}function Sg(e){return _g(Eo(e))}function RP(e,t,n){n===void 0&&(n=!1);const r=Va(e),s=Sg(e),i=bg(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=ed(a)),[a,ed(a)]}function AP(e){const t=ed(e);return[bp(e),t,bp(t)]}function bp(e){return e.replace(/start|end/g,t=>PP[t])}function OP(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function IP(e,t,n,r){const s=Va(e);let i=OP(Ds(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(bp)))),i}function ed(e){return e.replace(/left|right|bottom|top/g,t=>TP[t])}function DP(e){return{top:0,right:0,bottom:0,left:0,...e}}function ob(e){return typeof e!="number"?DP(e):{top:e,right:e,bottom:e,left:e}}function td(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ry(e,t,n){let{reference:r,floating:s}=e;const i=Eo(t),a=Sg(t),l=bg(a),c=Ds(t),u=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:f,y:r.y-s.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-s.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Va(t)){case"start":y[a]-=p*(n&&u?-1:1);break;case"end":y[a]+=p*(n&&u?-1:1);break}return y}const LP=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=Ry(u,r,c),p=r,y={},w=0;for(let v=0;v<l.length;v++){const{name:_,fn:x}=l[v],{x:m,y:g,data:b,reset:C}=await x({x:f,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:u,platform:a,elements:{reference:e,floating:t}});f=m??f,h=g??h,y={...y,[_]:{...y[_],...b}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:f,y:h}=Ry(u,p,c)),v=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:y}};async function nc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=Is(t,e),w=ob(y),_=l[p?h==="floating"?"reference":"floating":h],x=td(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),m=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},C=td(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:g,strategy:c}):m);return{top:(x.top-C.top+w.top)/b.y,bottom:(C.bottom-x.bottom+w.bottom)/b.y,left:(x.left-C.left+w.left)/b.x,right:(C.right-x.right+w.right)/b.x}}const MP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Is(e,t)||{};if(u==null)return{};const h=ob(f),p={x:n,y:r},y=Sg(s),w=bg(y),v=await a.getDimensions(u),_=y==="y",x=_?"top":"left",m=_?"bottom":"right",g=_?"clientHeight":"clientWidth",b=i.reference[w]+i.reference[y]-p[y]-i.floating[w],C=p[y]-i.reference[y],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=N?N[g]:0;(!P||!await(a.isElement==null?void 0:a.isElement(N)))&&(P=l.floating[g]||i.floating[w]);const O=b/2-C/2,$=P/2-v[w]/2-1,U=Co(h[x],$),G=Co(h[m],$),Z=U,me=P-v[w]-G,ee=P/2-v[w]/2+O,ve=_p(Z,ee,me),re=!c.arrow&&Va(s)!=null&&ee!==ve&&i.reference[w]/2-(ee<Z?U:G)-v[w]/2<0,ge=re?ee<Z?ee-Z:ee-me:0;return{[y]:p[y]+ge,data:{[y]:ve,centerOffset:ee-ve-ge,...re&&{alignmentOffset:ge}},reset:re}}}),$P=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Is(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ds(s),m=Eo(l),g=Ds(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(g||!v?[ed(l)]:AP(l)),N=w!=="none";!p&&N&&C.push(...IP(l,v,w,b));const P=[l,...C],O=await nc(t,_),$=[];let U=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&$.push(O[x]),h){const ee=RP(s,a,b);$.push(O[ee[0]],O[ee[1]])}if(U=[...U,{placement:s,overflows:$}],!$.every(ee=>ee<=0)){var G,Z;const ee=(((G=i.flip)==null?void 0:G.index)||0)+1,ve=P[ee];if(ve)return{data:{index:ee,overflows:U},reset:{placement:ve}};let re=(Z=U.filter(ge=>ge.overflows[0]<=0).sort((ge,L)=>ge.overflows[1]-L.overflows[1])[0])==null?void 0:Z.placement;if(!re)switch(y){case"bestFit":{var me;const ge=(me=U.filter(L=>{if(N){const Q=Eo(L.placement);return Q===m||Q==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(Q=>Q>0).reduce((Q,ce)=>Q+ce,0)]).sort((L,Q)=>L[1]-Q[1])[0])==null?void 0:me[0];ge&&(re=ge);break}case"initialPlacement":re=l;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function Ay(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oy(e){return kP.some(t=>e[t]>=0)}const FP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Is(e,t);switch(r){case"referenceHidden":{const i=await nc(t,{...s,elementContext:"reference"}),a=Ay(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Oy(a)}}}case"escaped":{const i=await nc(t,{...s,altBoundary:!0}),a=Ay(i,n.floating);return{data:{escapedOffsets:a,escaped:Oy(a)}}}default:return{}}}}};async function zP(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ds(n),l=Va(n),c=Eo(n)==="y",u=["left","top"].includes(a)?-1:1,f=i&&c?-1:1,h=Is(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*f,y:p*u}:{x:p*u,y:y*f}}const UP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await zP(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},BP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x,y:m}=_;return{x,y:m}}},...c}=Is(e,t),u={x:n,y:r},f=await nc(t,c),h=Eo(Ds(s)),p=_g(h);let y=u[p],w=u[h];if(i){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",m=y+f[_],g=y-f[x];y=_p(m,y,g)}if(a){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",m=w+f[_],g=w-f[x];w=_p(m,w,g)}const v=l.fn({...t,[p]:y,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:a}}}}}},HP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Is(e,t),f={x:n,y:r},h=Eo(s),p=_g(h);let y=f[p],w=f[h];const v=Is(l,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const g=p==="y"?"height":"width",b=i.reference[p]-i.floating[g]+_.mainAxis,C=i.reference[p]+i.reference[g]-_.mainAxis;y<b?y=b:y>C&&(y=C)}if(u){var x,m;const g=p==="y"?"width":"height",b=["top","left"].includes(Ds(s)),C=i.reference[h]-i.floating[g]+(b&&((x=a.offset)==null?void 0:x[h])||0)+(b?0:_.crossAxis),N=i.reference[h]+i.reference[g]+(b?0:((m=a.offset)==null?void 0:m[h])||0)-(b?_.crossAxis:0);w<C?w=C:w>N&&(w=N)}return{[p]:y,[h]:w}}}},WP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Is(e,t),f=await nc(t,u),h=Ds(s),p=Va(s),y=Eo(s)==="y",{width:w,height:v}=i.floating;let _,x;h==="top"||h==="bottom"?(_=h,x=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,_=p==="end"?"top":"bottom");const m=v-f.top-f.bottom,g=w-f.left-f.right,b=Co(v-f[_],m),C=Co(w-f[x],g),N=!t.middlewareData.shift;let P=b,O=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=m),N&&!p){const U=fr(f.left,0),G=fr(f.right,0),Z=fr(f.top,0),me=fr(f.bottom,0);y?O=w-2*(U!==0||G!==0?U+G:fr(f.left,f.right)):P=v-2*(Z!==0||me!==0?Z+me:fr(f.top,f.bottom))}await c({...t,availableWidth:O,availableHeight:P});const $=await a.getDimensions(l.floating);return w!==$.width||v!==$.height?{reset:{rects:!0}}:{}}}};function $d(){return typeof window<"u"}function Ka(e){return ib(e)?(e.nodeName||"").toLowerCase():"#document"}function gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(ib(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ib(e){return $d()?e instanceof Node||e instanceof gr(e).Node:!1}function Qr(e){return $d()?e instanceof Element||e instanceof gr(e).Element:!1}function fs(e){return $d()?e instanceof HTMLElement||e instanceof gr(e).HTMLElement:!1}function Iy(e){return!$d()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gr(e).ShadowRoot}function xc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function VP(e){return["table","td","th"].includes(Ka(e))}function Fd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jg(e){const t=Cg(),n=Qr(e)?Yr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function KP(e){let t=ko(e);for(;fs(t)&&!ka(t);){if(jg(t))return t;if(Fd(t))return null;t=ko(t)}return null}function Cg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ka(e){return["html","body","#document"].includes(Ka(e))}function Yr(e){return gr(e).getComputedStyle(e)}function zd(e){return Qr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ko(e){if(Ka(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Iy(e)&&e.host||hs(e);return Iy(t)?t.host:t}function ab(e){const t=ko(e);return ka(t)?e.ownerDocument?e.ownerDocument.body:e.body:fs(t)&&xc(t)?t:ab(t)}function rc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=ab(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=gr(s);if(i){const l=Sp(a);return t.concat(a,a.visualViewport||[],xc(s)?s:[],l&&n?rc(l):[])}return t.concat(s,rc(s,[],n))}function Sp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lb(e){const t=Yr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=fs(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Zu(n)!==i||Zu(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Ng(e){return Qr(e)?e:e.contextElement}function ra(e){const t=Ng(e);if(!fs(t))return No(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=lb(t);let a=(i?Zu(n.width):n.width)/r,l=(i?Zu(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const qP=No(0);function cb(e){const t=gr(e);return!Cg()||!t.visualViewport?qP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gr(e)?!1:t}function fi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Ng(e);let a=No(1);t&&(r?Qr(r)&&(a=ra(r)):a=ra(e));const l=GP(i,n,r)?cb(i):No(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,f=s.width/a.x,h=s.height/a.y;if(i){const p=gr(i),y=r&&Qr(r)?gr(r):r;let w=p,v=Sp(w);for(;v&&r&&y!==w;){const _=ra(v),x=v.getBoundingClientRect(),m=Yr(v),g=x.left+(v.clientLeft+parseFloat(m.paddingLeft))*_.x,b=x.top+(v.clientTop+parseFloat(m.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,h*=_.y,c+=g,u+=b,w=gr(v),v=Sp(w)}}return td({width:f,height:h,x:c,y:u})}function QP(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=hs(r),l=t?Fd(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=No(1);const f=No(0),h=fs(r);if((h||!h&&!i)&&((Ka(r)!=="body"||xc(a))&&(c=zd(r)),fs(r))){const p=fi(r);u=ra(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}}function YP(e){return Array.from(e.getClientRects())}function jp(e,t){const n=zd(e).scrollLeft;return t?t.left+n:fi(hs(e)).left+n}function JP(e){const t=hs(e),n=zd(e),r=e.ownerDocument.body,s=fr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+jp(e);const l=-n.scrollTop;return Yr(r).direction==="rtl"&&(a+=fr(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function XP(e,t){const n=gr(e),r=hs(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Cg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function ZP(e,t){const n=fi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=fs(e)?ra(e):No(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function Dy(e,t,n){let r;if(t==="viewport")r=XP(e,n);else if(t==="document")r=JP(hs(e));else if(Qr(t))r=ZP(t,n);else{const s=cb(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return td(r)}function ub(e,t){const n=ko(e);return n===t||!Qr(n)||ka(n)?!1:Yr(n).position==="fixed"||ub(n,t)}function eR(e,t){const n=t.get(e);if(n)return n;let r=rc(e,[],!1).filter(l=>Qr(l)&&Ka(l)!=="body"),s=null;const i=Yr(e).position==="fixed";let a=i?ko(e):e;for(;Qr(a)&&!ka(a);){const l=Yr(a),c=jg(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xc(a)&&!c&&ub(e,a))?r=r.filter(f=>f!==a):s=l,a=ko(a)}return t.set(e,r),r}function tR(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Fd(t)?[]:eR(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,f)=>{const h=Dy(t,f,s);return u.top=fr(h.top,u.top),u.right=Co(h.right,u.right),u.bottom=Co(h.bottom,u.bottom),u.left=fr(h.left,u.left),u},Dy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nR(e){const{width:t,height:n}=lb(e);return{width:t,height:n}}function rR(e,t,n){const r=fs(t),s=hs(t),i=n==="fixed",a=fi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=No(0);if(r||!r&&!i)if((Ka(t)!=="body"||xc(s))&&(l=zd(t)),r){const y=fi(t,!0,i,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&(c.x=jp(s));let u=0,f=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();f=y.top+l.scrollTop,u=y.left+l.scrollLeft-jp(s,y)}const h=a.left+l.scrollLeft-c.x-u,p=a.top+l.scrollTop-c.y-f;return{x:h,y:p,width:a.width,height:a.height}}function Gf(e){return Yr(e).position==="static"}function Ly(e,t){if(!fs(e)||Yr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hs(e)===n&&(n=n.ownerDocument.body),n}function db(e,t){const n=gr(e);if(Fd(e))return n;if(!fs(e)){let s=ko(e);for(;s&&!ka(s);){if(Qr(s)&&!Gf(s))return s;s=ko(s)}return n}let r=Ly(e,t);for(;r&&VP(r)&&Gf(r);)r=Ly(r,t);return r&&ka(r)&&Gf(r)&&!jg(r)?n:r||KP(e)||n}const sR=async function(e){const t=this.getOffsetParent||db,n=this.getDimensions,r=await n(e.floating);return{reference:rR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oR(e){return Yr(e).direction==="rtl"}const iR={convertOffsetParentRelativeRectToViewportRelativeRect:QP,getDocumentElement:hs,getClippingRect:tR,getOffsetParent:db,getElementRects:sR,getClientRects:YP,getDimensions:nR,getScale:ra,isElement:Qr,isRTL:oR};function aR(e,t){let n=null,r;const s=hs(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:f,width:h,height:p}=e.getBoundingClientRect();if(l||t(),!h||!p)return;const y=Xc(f),w=Xc(s.clientWidth-(u+h)),v=Xc(s.clientHeight-(f+p)),_=Xc(u),m={rootMargin:-y+"px "+-w+"px "+-v+"px "+-_+"px",threshold:fr(0,Co(1,c))||1};let g=!0;function b(C){const N=C[0].intersectionRatio;if(N!==c){if(!g)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}g=!1}try{n=new IntersectionObserver(b,{...m,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,m)}n.observe(e)}return a(!0),i}function lR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ng(e),f=s||i?[...u?rc(u):[],...rc(t)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?aR(u,n):null;let p=-1,y=null;a&&(y=new ResizeObserver(x=>{let[m]=x;m&&m.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var g;(g=y)==null||g.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let w,v=c?fi(e):null;c&&_();function _(){const x=fi(e);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,w=requestAnimationFrame(_)}return n(),()=>{var x;f.forEach(m=>{s&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),h==null||h(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const cR=UP,uR=BP,dR=$P,fR=WP,hR=FP,My=MP,pR=HP,mR=(e,t,n)=>{const r=new Map,s={platform:iR,...n},i={...s.platform,_c:r};return LP(e,t,{...s,platform:i})};var ju=typeof document<"u"?d.useLayoutEffect:d.useEffect;function nd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!nd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!nd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function fb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $y(e,t){const n=fb(e);return Math.round(t*n)/n}function Qf(e){const t=d.useRef(e);return ju(()=>{t.current=e}),t}function gR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=d.useState(r);nd(p,r)||y(r);const[w,v]=d.useState(null),[_,x]=d.useState(null),m=d.useCallback(L=>{L!==N.current&&(N.current=L,v(L))},[]),g=d.useCallback(L=>{L!==P.current&&(P.current=L,x(L))},[]),b=i||w,C=a||_,N=d.useRef(null),P=d.useRef(null),O=d.useRef(f),$=c!=null,U=Qf(c),G=Qf(s),Z=Qf(u),me=d.useCallback(()=>{if(!N.current||!P.current)return;const L={placement:t,strategy:n,middleware:p};G.current&&(L.platform=G.current),mR(N.current,P.current,L).then(Q=>{const ce={...Q,isPositioned:Z.current!==!1};ee.current&&!nd(O.current,ce)&&(O.current=ce,wi.flushSync(()=>{h(ce)}))})},[p,t,n,G,Z]);ju(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const ee=d.useRef(!1);ju(()=>(ee.current=!0,()=>{ee.current=!1}),[]),ju(()=>{if(b&&(N.current=b),C&&(P.current=C),b&&C){if(U.current)return U.current(b,C,me);me()}},[b,C,me,U,$]);const ve=d.useMemo(()=>({reference:N,floating:P,setReference:m,setFloating:g}),[m,g]),re=d.useMemo(()=>({reference:b,floating:C}),[b,C]),ge=d.useMemo(()=>{const L={position:n,left:0,top:0};if(!re.floating)return L;const Q=$y(re.floating,f.x),ce=$y(re.floating,f.y);return l?{...L,transform:"translate("+Q+"px, "+ce+"px)",...fb(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ce}},[n,l,re.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:me,refs:ve,elements:re,floatingStyles:ge}),[f,me,ve,re,ge])}const vR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?My({element:r.current,padding:s}).fn(n):{}:r?My({element:r,padding:s}).fn(n):{}}}},yR=(e,t)=>({...cR(e),options:[e,t]}),xR=(e,t)=>({...uR(e),options:[e,t]}),wR=(e,t)=>({...pR(e),options:[e,t]}),_R=(e,t)=>({...dR(e),options:[e,t]}),bR=(e,t)=>({...fR(e),options:[e,t]}),SR=(e,t)=>({...hR(e),options:[e,t]}),jR=(e,t)=>({...vR(e),options:[e,t]});var CR="Arrow",hb=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(De.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});hb.displayName=CR;var NR=hb;function ER(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];function u(h){const{scope:p,children:y,...w}=h,v=(p==null?void 0:p[e][c])||l,_=d.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:_,children:y})}function f(h,p){const y=(p==null?void 0:p[e][c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,kR(s,...t)]}function kR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function pb(e){const[t,n]=d.useState(void 0);return Cn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Eg="Popper",[mb,Ud]=ER(Eg),[TR,gb]=mb(Eg),vb=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return o.jsx(TR,{scope:t,anchor:r,onAnchorChange:s,children:n})};vb.displayName=Eg;var yb="PopperAnchor",xb=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=gb(yb,n),a=d.useRef(null),l=tt(t,a);return d.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(De.div,{...s,ref:l})});xb.displayName=yb;var kg="PopperContent",[PR,RR]=mb(kg),wb=d.forwardRef((e,t)=>{var te,de,ye,xe,Ae,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,_=gb(kg,n),[x,m]=d.useState(null),g=tt(t,ze=>m(ze)),[b,C]=d.useState(null),N=pb(b),P=(N==null?void 0:N.width)??0,O=(N==null?void 0:N.height)??0,$=r+(i!=="center"?"-"+i:""),U=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(u)?u:[u],Z=G.length>0,me={padding:U,boundary:G.filter(OR),altBoundary:Z},{refs:ee,floatingStyles:ve,placement:re,isPositioned:ge,middlewareData:L}=gR({strategy:"fixed",placement:$,whileElementsMounted:(...ze)=>lR(...ze,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[yR({mainAxis:s+O,alignmentAxis:a}),c&&xR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wR():void 0,...me}),c&&_R({...me}),bR({...me,apply:({elements:ze,rects:qe,availableWidth:Le,availableHeight:Ve})=>{const{width:ct,height:Dt}=qe.reference,Ze=ze.floating.style;Ze.setProperty("--radix-popper-available-width",`${Le}px`),Ze.setProperty("--radix-popper-available-height",`${Ve}px`),Ze.setProperty("--radix-popper-anchor-width",`${ct}px`),Ze.setProperty("--radix-popper-anchor-height",`${Dt}px`)}}),b&&jR({element:b,padding:l}),IR({arrowWidth:P,arrowHeight:O}),p&&SR({strategy:"referenceHidden",...me})]}),[Q,ce]=Sb(re),E=Wt(w);Cn(()=>{ge&&(E==null||E())},[ge,E]);const M=(te=L.arrow)==null?void 0:te.x,z=(de=L.arrow)==null?void 0:de.y,oe=((ye=L.arrow)==null?void 0:ye.centerOffset)!==0,[J,V]=d.useState();return Cn(()=>{x&&V(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:ge?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(xe=L.transformOrigin)==null?void 0:xe.x,(Ae=L.transformOrigin)==null?void 0:Ae.y].join(" "),...((Te=L.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(PR,{scope:n,placedSide:Q,onArrowChange:C,arrowX:M,arrowY:z,shouldHideArrow:oe,children:o.jsx(De.div,{"data-side":Q,"data-align":ce,...v,ref:g,style:{...v.style,animation:ge?void 0:"none"}})})})});wb.displayName=kg;var _b="PopperArrow",AR={top:"bottom",right:"left",bottom:"top",left:"right"},bb=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=RR(_b,r),a=AR[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(NR,{...s,ref:n,style:{...s.style,display:"block"}})})});bb.displayName=_b;function OR(e){return e!==null}var IR=e=>({name:"transformOrigin",options:e,fn(t){var _,x,m;const{placement:n,rects:r,middlewareData:s}=t,a=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=Sb(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,y=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=a?h:`${p}px`,v=`${-c}px`):u==="top"?(w=a?h:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=a?h:`${y}px`):u==="left"&&(w=`${r.floating.width+c}px`,v=a?h:`${y}px`),{data:{x:w,y:v}}}});function Sb(e){const[t,n="center"]=e.split("-");return[t,n]}var jb=vb,Cb=xb,Nb=wb,Eb=bb,[Bd,r$]=Ao("Tooltip",[Ud]),Hd=Ud(),kb="TooltipProvider",DR=700,Cp="tooltip.open",[LR,Tg]=Bd(kb),Tb=e=>{const{__scopeTooltip:t,delayDuration:n=DR,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[a,l]=d.useState(!0),c=d.useRef(!1),u=d.useRef(0);return d.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),o.jsx(LR,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:d.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:d.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:i})};Tb.displayName=kb;var Wd="Tooltip",[MR,Vd]=Bd(Wd),Pb=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,c=Tg(Wd,e.__scopeTooltip),u=Hd(t),[f,h]=d.useState(null),p=ks(),y=d.useRef(0),w=a??c.disableHoverableContent,v=l??c.delayDuration,_=d.useRef(!1),[x=!1,m]=jo({prop:r,defaultProp:s,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(Cp))):c.onClose(),i==null||i(P)}}),g=d.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),b=d.useCallback(()=>{window.clearTimeout(y.current),y.current=0,_.current=!1,m(!0)},[m]),C=d.useCallback(()=>{window.clearTimeout(y.current),y.current=0,m(!1)},[m]),N=d.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{_.current=!0,m(!0),y.current=0},v)},[v,m]);return d.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),o.jsx(jb,{...u,children:o.jsx(MR,{scope:t,contentId:p,open:x,stateAttribute:g,trigger:f,onTriggerChange:h,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayed?N():b()},[c.isOpenDelayed,N,b]),onTriggerLeave:d.useCallback(()=>{w?C():(window.clearTimeout(y.current),y.current=0)},[C,w]),onOpen:b,onClose:C,disableHoverableContent:w,children:n})})};Pb.displayName=Wd;var Np="TooltipTrigger",Rb=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Vd(Np,n),i=Tg(Np,n),a=Hd(n),l=d.useRef(null),c=tt(t,l,s.onTriggerChange),u=d.useRef(!1),f=d.useRef(!1),h=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Cb,{asChild:!0,...a,children:o.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ke(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ke(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ke(e.onBlur,s.onClose),onClick:ke(e.onClick,s.onClose)})})});Rb.displayName=Np;var $R="TooltipPortal",[s$,FR]=Bd($R,{forceMount:void 0}),Ta="TooltipContent",Ab=d.forwardRef((e,t)=>{const n=FR(Ta,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Vd(Ta,e.__scopeTooltip);return o.jsx(Ir,{present:r||a.open,children:a.disableHoverableContent?o.jsx(Ob,{side:s,...i,ref:t}):o.jsx(zR,{side:s,...i,ref:t})})}),zR=d.forwardRef((e,t)=>{const n=Vd(Ta,e.__scopeTooltip),r=Tg(Ta,e.__scopeTooltip),s=d.useRef(null),i=tt(t,s),[a,l]=d.useState(null),{trigger:c,onClose:u}=n,f=s.current,{onPointerInTransitChange:h}=r,p=d.useCallback(()=>{l(null),h(!1)},[h]),y=d.useCallback((w,v)=>{const _=w.currentTarget,x={x:w.clientX,y:w.clientY},m=WR(x,_.getBoundingClientRect()),g=VR(x,m),b=KR(v.getBoundingClientRect()),C=GR([...g,...b]);l(C),h(!0)},[h]);return d.useEffect(()=>()=>p(),[p]),d.useEffect(()=>{if(c&&f){const w=_=>y(_,f),v=_=>y(_,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",v)}}},[c,f,y,p]),d.useEffect(()=>{if(a){const w=v=>{const _=v.target,x={x:v.clientX,y:v.clientY},m=(c==null?void 0:c.contains(_))||(f==null?void 0:f.contains(_)),g=!qR(x,a);m?p():g&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,a,u,p]),o.jsx(Ob,{...e,ref:i})}),[UR,BR]=Bd(Wd,{isInside:!1}),Ob=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Vd(Ta,n),u=Hd(n),{onClose:f}=c;return d.useEffect(()=>(document.addEventListener(Cp,f),()=>document.removeEventListener(Cp,f)),[f]),d.useEffect(()=>{if(c.trigger){const h=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),o.jsx(vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:o.jsxs(Nb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(dg,{children:r}),o.jsx(UR,{scope:n,isInside:!0,children:o.jsx(Pk,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Ab.displayName=Ta;var Ib="TooltipArrow",HR=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Hd(n);return BR(Ib,n).isInside?null:o.jsx(Eb,{...s,...r,ref:t})});HR.displayName=Ib;function WR(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function VR(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function KR(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function qR(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,f=t[a].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function GR(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QR(t)}function QR(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var YR=Tb,JR=Pb,XR=Rb,Db=Ab;const Lb=YR,ZR=JR,e2=XR,Mb=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(Db,{ref:r,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Mb.displayName=Db.displayName;var qa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hi=typeof window>"u"||"Deno"in globalThis;function br(){}function t2(e,t){return typeof e=="function"?e(t):e}function Ep(e){return typeof e=="number"&&e>=0&&e!==1/0}function $b(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sa(e,t){return typeof e=="function"?e(t):e}function Vr(e,t){return typeof e=="function"?e(t):e}function Fy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Pg(a,t.options))return!1}else if(!sc(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function zy(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(pi(t.options.mutationKey)!==pi(i))return!1}else if(!sc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Pg(e,t){return((t==null?void 0:t.queryKeyHashFn)||pi)(e)}function pi(e){return JSON.stringify(e,(t,n)=>kp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function sc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!sc(e[n],t[n])):!1}function Fb(e,t){if(e===t)return e;const n=Uy(e)&&Uy(t);if(n||kp(e)&&kp(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=Fb(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function rd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Uy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kp(e){if(!By(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!By(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function By(e){return Object.prototype.toString.call(e)==="[object Object]"}function n2(e){return new Promise(t=>{setTimeout(t,e)})}function Tp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Fb(e,t):t}function r2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function s2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Rg=Symbol();function zb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Rg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Yo,Xs,aa,Wx,o2=(Wx=class extends qa{constructor(){super();Oe(this,Yo);Oe(this,Xs);Oe(this,aa);be(this,aa,t=>{if(!hi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,Xs)||this.setEventListener(T(this,aa))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Xs))==null||t.call(this),be(this,Xs,void 0))}setEventListener(t){var n;be(this,aa,t),(n=T(this,Xs))==null||n.call(this),be(this,Xs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){T(this,Yo)!==t&&(be(this,Yo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof T(this,Yo)=="boolean"?T(this,Yo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yo=new WeakMap,Xs=new WeakMap,aa=new WeakMap,Wx),Ag=new o2,la,Zs,ca,Vx,i2=(Vx=class extends qa{constructor(){super();Oe(this,la,!0);Oe(this,Zs);Oe(this,ca);be(this,ca,t=>{if(!hi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,Zs)||this.setEventListener(T(this,ca))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Zs))==null||t.call(this),be(this,Zs,void 0))}setEventListener(t){var n;be(this,ca,t),(n=T(this,Zs))==null||n.call(this),be(this,Zs,t(this.setOnline.bind(this)))}setOnline(t){T(this,la)!==t&&(be(this,la,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return T(this,la)}},la=new WeakMap,Zs=new WeakMap,ca=new WeakMap,Vx),sd=new i2;function Pp(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function a2(e){return Math.min(1e3*2**e,3e4)}function Ub(e){return(e??"online")==="online"?sd.isOnline():!0}var Bb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yf(e){return e instanceof Bb}function Hb(e){let t=!1,n=0,r=!1,s;const i=Pp(),a=v=>{var _;r||(p(new Bb(v)),(_=e.abort)==null||_.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ag.isFocused()&&(e.networkMode==="always"||sd.isOnline())&&e.canRun(),f=()=>Ub(e.networkMode)&&e.canRun(),h=v=>{var _;r||(r=!0,(_=e.onSuccess)==null||_.call(e,v),s==null||s(),i.resolve(v))},p=v=>{var _;r||(r=!0,(_=e.onError)==null||_.call(e,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var _;s=x=>{(r||u())&&v(x)},(_=e.onPause)==null||_.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(r)return;let v;const _=n===0?e.initialPromise:void 0;try{v=_??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(h).catch(x=>{var N;if(r)return;const m=e.retry??(hi?0:3),g=e.retryDelay??a2,b=typeof g=="function"?g(n,x):g,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,x);if(t||!C){p(x);return}n++,(N=e.onFail)==null||N.call(e,n,x),n2(b).then(()=>u()?void 0:y()).then(()=>{t?p(x):w()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?w():y().then(w),i)}}function l2(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var rn=l2(),Jo,Kx,Wb=(Kx=class{constructor(){Oe(this,Jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ep(this.gcTime)&&be(this,Jo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hi?1/0:5*60*1e3))}clearGcTimeout(){T(this,Jo)&&(clearTimeout(T(this,Jo)),be(this,Jo,void 0))}},Jo=new WeakMap,Kx),ua,da,_r,Rn,lc,Xo,Ur,ys,qx,c2=(qx=class extends Wb{constructor(t){super();Oe(this,Ur);Oe(this,ua);Oe(this,da);Oe(this,_r);Oe(this,Rn);Oe(this,lc);Oe(this,Xo);be(this,Xo,!1),be(this,lc,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,_r,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,ua,u2(this.options)),this.state=t.state??T(this,ua),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,Rn))==null?void 0:t.promise}setOptions(t){this.options={...T(this,lc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,_r).remove(this)}setData(t,n){const r=Tp(this.state.data,t,this.options);return We(this,Ur,ys).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){We(this,Ur,ys).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=T(this,Rn))==null?void 0:r.promise;return(s=T(this,Rn))==null||s.cancel(t),n?n.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,ua))}isActive(){return this.observers.some(t=>Vr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!$b(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(T(this,Rn)&&(T(this,Xo)?T(this,Rn).cancel({revert:!0}):T(this,Rn).cancelRetry()),this.scheduleGc()),T(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,Ur,ys).call(this,{type:"invalidate"})}fetch(t,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,Rn))return T(this,Rn).continueRetry(),T(this,Rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(be(this,Xo,!0),r.signal)})},i=()=>{const h=zb(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),be(this,Xo,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),be(this,da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&We(this,Ur,ys).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var p,y,w,v;Yf(h)&&h.silent||We(this,Ur,ys).call(this,{type:"error",error:h}),Yf(h)||((y=(p=T(this,_r).config).onError)==null||y.call(p,h,this),(v=(w=T(this,_r).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.scheduleGc()};return be(this,Rn,Hb({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,y,w,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(_){l(_);return}(y=(p=T(this,_r).config).onSuccess)==null||y.call(p,h,this),(v=(w=T(this,_r).config).onSettled)==null||v.call(w,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{We(this,Ur,ys).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{We(this,Ur,ys).call(this,{type:"pause"})},onContinue:()=>{We(this,Ur,ys).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),T(this,Rn).start()}},ua=new WeakMap,da=new WeakMap,_r=new WeakMap,Rn=new WeakMap,lc=new WeakMap,Xo=new WeakMap,Ur=new WeakSet,ys=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Vb(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Yf(s)&&s.revert&&T(this,da)?{...T(this,da),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,_r).notify({query:this,type:"updated",action:t})})},qx);function Vb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ub(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function u2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ns,Gx,d2=(Gx=class extends qa{constructor(t={}){super();Oe(this,ns);this.config=t,be(this,ns,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Pg(s,n);let a=this.get(i);return a||(a=new c2({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){T(this,ns).has(t.queryHash)||(T(this,ns).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=T(this,ns).get(t.queryHash);n&&(t.destroy(),n===t&&T(this,ns).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,ns).get(t)}getAll(){return[...T(this,ns).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Fy(t,r)):n}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ns=new WeakMap,Gx),rs,Un,Zo,ss,Hs,Qx,f2=(Qx=class extends Wb{constructor(t){super();Oe(this,ss);Oe(this,rs);Oe(this,Un);Oe(this,Zo);this.mutationId=t.mutationId,be(this,Un,t.mutationCache),be(this,rs,[]),this.state=t.state||Kb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,rs).includes(t)||(T(this,rs).push(t),this.clearGcTimeout(),T(this,Un).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,rs,T(this,rs).filter(n=>n!==t)),this.scheduleGc(),T(this,Un).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,rs).length||(this.state.status==="pending"?this.scheduleGc():T(this,Un).remove(this))}continue(){var t;return((t=T(this,Zo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,f,h,p,y,w,v,_,x,m,g,b,C,N,P;be(this,Zo,Hb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,$)=>{We(this,ss,Hs).call(this,{type:"failed",failureCount:O,error:$})},onPause:()=>{We(this,ss,Hs).call(this,{type:"pause"})},onContinue:()=>{We(this,ss,Hs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Un).canRun(this)}));const n=this.state.status==="pending",r=!T(this,Zo).canStart();try{if(!n){We(this,ss,Hs).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=T(this,Un).config).onMutate)==null?void 0:i.call(s,t,this));const $=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));$!==this.state.context&&We(this,ss,Hs).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const O=await T(this,Zo).start();return await((u=(c=T(this,Un).config).onSuccess)==null?void 0:u.call(c,O,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,O,t,this.state.context)),await((y=(p=T(this,Un).config).onSettled)==null?void 0:y.call(p,O,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,O,null,t,this.state.context)),We(this,ss,Hs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((x=(_=T(this,Un).config).onError)==null?void 0:x.call(_,O,t,this.state.context,this)),await((g=(m=this.options).onError)==null?void 0:g.call(m,O,t,this.state.context)),await((C=(b=T(this,Un).config).onSettled)==null?void 0:C.call(b,void 0,O,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,O,t,this.state.context)),O}finally{We(this,ss,Hs).call(this,{type:"error",error:O})}}finally{T(this,Un).runNext(this)}}},rs=new WeakMap,Un=new WeakMap,Zo=new WeakMap,ss=new WeakSet,Hs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rn.batch(()=>{T(this,rs).forEach(r=>{r.onMutationUpdate(t)}),T(this,Un).notify({mutation:this,type:"updated",action:t})})},Qx);function Kb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ar,cc,Yx,h2=(Yx=class extends qa{constructor(t={}){super();Oe(this,ar);Oe(this,cc);this.config=t,be(this,ar,new Map),be(this,cc,Date.now())}build(t,n,r){const s=new f2({mutationCache:this,mutationId:++Pc(this,cc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Zc(t),r=T(this,ar).get(n)??[];r.push(t),T(this,ar).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Zc(t);if(T(this,ar).has(n)){const s=(r=T(this,ar).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?T(this,ar).delete(n):T(this,ar).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=T(this,ar).get(Zc(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=T(this,ar).get(Zc(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...T(this,ar).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zy(n,r))}findAll(t={}){return this.getAll().filter(n=>zy(t,n))}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(t.map(n=>n.continue().catch(br))))}},ar=new WeakMap,cc=new WeakMap,Yx);function Zc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Hy(e){return{onFetch:(t,n)=>{var f,h,p,y,w;const r=t.options,s=(p=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const _=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=zb(t.options,t.fetchOptions),m=async(g,b,C)=>{if(v)return Promise.reject();if(b==null&&g.pages.length)return Promise.resolve(g);const N={queryKey:t.queryKey,pageParam:b,direction:C?"backward":"forward",meta:t.options.meta};_(N);const P=await x(N),{maxPages:O}=t.options,$=C?s2:r2;return{pages:$(g.pages,P,O),pageParams:$(g.pageParams,b,O)}};if(s&&i.length){const g=s==="backward",b=g?p2:Wy,C={pages:i,pageParams:a},N=b(r,C);l=await m(C,N,g)}else{const g=e??i.length;do{const b=c===0?a[0]??r.initialPageParam:Wy(r,l);if(c>0&&b==null)break;l=await m(l,b),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var v,_;return(_=(v=t.options).persister)==null?void 0:_.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Wy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function p2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Mt,eo,to,fa,ha,no,pa,ma,Jx,m2=(Jx=class{constructor(e={}){Oe(this,Mt);Oe(this,eo);Oe(this,to);Oe(this,fa);Oe(this,ha);Oe(this,no);Oe(this,pa);Oe(this,ma);be(this,Mt,e.queryCache||new d2),be(this,eo,e.mutationCache||new h2),be(this,to,e.defaultOptions||{}),be(this,fa,new Map),be(this,ha,new Map),be(this,no,0)}mount(){Pc(this,no)._++,T(this,no)===1&&(be(this,pa,Ag.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Mt).onFocus())})),be(this,ma,sd.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Mt).onOnline())})))}unmount(){var e,t;Pc(this,no)._--,T(this,no)===0&&((e=T(this,pa))==null||e.call(this),be(this,pa,void 0),(t=T(this,ma))==null||t.call(this),be(this,ma,void 0))}isFetching(e){return T(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,eo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,Mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=T(this,Mt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(sa(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return T(this,Mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=T(this,Mt).get(r.queryHash),i=s==null?void 0:s.state.data,a=t2(t,i);if(a!==void 0)return T(this,Mt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return rn.batch(()=>T(this,Mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,Mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=T(this,Mt);rn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=T(this,Mt),r={type:"active",...e};return rn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=rn.batch(()=>T(this,Mt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(br).catch(br)}invalidateQueries(e={},t={}){return rn.batch(()=>{if(T(this,Mt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=rn.batch(()=>T(this,Mt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(br)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(br)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=T(this,Mt).build(this,t);return n.isStaleByTime(sa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(br).catch(br)}fetchInfiniteQuery(e){return e.behavior=Hy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(br).catch(br)}ensureInfiniteQueryData(e){return e.behavior=Hy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sd.isOnline()?T(this,eo).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Mt)}getMutationCache(){return T(this,eo)}getDefaultOptions(){return T(this,to)}setDefaultOptions(e){be(this,to,e)}setQueryDefaults(e,t){T(this,fa).set(pi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,fa).values()];let n={};return t.forEach(r=>{sc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){T(this,ha).set(pi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,ha).values()];let n={};return t.forEach(r=>{sc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,to).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Pg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Rg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,to).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,Mt).clear(),T(this,eo).clear()}},Mt=new WeakMap,eo=new WeakMap,to=new WeakMap,fa=new WeakMap,ha=new WeakMap,no=new WeakMap,pa=new WeakMap,ma=new WeakMap,Jx),Yn,et,uc,Bn,ei,ga,ro,os,dc,va,ya,ti,ni,so,xa,ut,bl,Rp,Ap,Op,Ip,Dp,Lp,Mp,qb,Xx,g2=(Xx=class extends qa{constructor(t,n){super();Oe(this,ut);Oe(this,Yn);Oe(this,et);Oe(this,uc);Oe(this,Bn);Oe(this,ei);Oe(this,ga);Oe(this,ro);Oe(this,os);Oe(this,dc);Oe(this,va);Oe(this,ya);Oe(this,ti);Oe(this,ni);Oe(this,so);Oe(this,xa,new Set);this.options=n,be(this,Yn,t),be(this,os,null),be(this,ro,Pp()),this.options.experimental_prefetchInRender||T(this,ro).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,et).addObserver(this),Vy(T(this,et),this.options)?We(this,ut,bl).call(this):this.updateResult(),We(this,ut,Ip).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $p(T(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $p(T(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,ut,Dp).call(this),We(this,ut,Lp).call(this),T(this,et).removeObserver(this)}setOptions(t,n){const r=this.options,s=T(this,et);if(this.options=T(this,Yn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vr(this.options.enabled,T(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,ut,Mp).call(this),T(this,et).setOptions(this.options),r._defaulted&&!rd(this.options,r)&&T(this,Yn).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,et),observer:this});const i=this.hasListeners();i&&Ky(T(this,et),s,this.options,r)&&We(this,ut,bl).call(this),this.updateResult(n),i&&(T(this,et)!==s||Vr(this.options.enabled,T(this,et))!==Vr(r.enabled,T(this,et))||sa(this.options.staleTime,T(this,et))!==sa(r.staleTime,T(this,et)))&&We(this,ut,Rp).call(this);const a=We(this,ut,Ap).call(this);i&&(T(this,et)!==s||Vr(this.options.enabled,T(this,et))!==Vr(r.enabled,T(this,et))||a!==T(this,so))&&We(this,ut,Op).call(this,a)}getOptimisticResult(t){const n=T(this,Yn).getQueryCache().build(T(this,Yn),t),r=this.createResult(n,t);return y2(this,r)&&(be(this,Bn,r),be(this,ga,this.options),be(this,ei,T(this,et).state)),r}getCurrentResult(){return T(this,Bn)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){T(this,xa).add(t)}getCurrentQuery(){return T(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=T(this,Yn).defaultQueryOptions(t),r=T(this,Yn).getQueryCache().build(T(this,Yn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return We(this,ut,bl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Bn)))}createResult(t,n){var O;const r=T(this,et),s=this.options,i=T(this,Bn),a=T(this,ei),l=T(this,ga),u=t!==r?t.state:T(this,uc),{state:f}=t;let h={...f},p=!1,y;if(n._optimisticResults){const $=this.hasListeners(),U=!$&&Vy(t,n),G=$&&Ky(t,r,n,s);(U||G)&&(h={...h,...Vb(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:_}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(a==null?void 0:a.data)&&n.select===T(this,dc))y=T(this,va);else try{be(this,dc,n.select),y=n.select(h.data),y=Tp(i==null?void 0:i.data,y,n),be(this,va,y),be(this,os,null)}catch($){be(this,os,$)}else y=h.data;if(n.placeholderData!==void 0&&y===void 0&&_==="pending"){let $;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))$=i.data;else if($=typeof n.placeholderData=="function"?n.placeholderData((O=T(this,ya))==null?void 0:O.state.data,T(this,ya)):n.placeholderData,n.select&&$!==void 0)try{$=n.select($),be(this,os,null)}catch(U){be(this,os,U)}$!==void 0&&(_="success",y=Tp(i==null?void 0:i.data,$,n),p=!0)}T(this,os)&&(w=T(this,os),y=T(this,va),v=Date.now(),_="error");const x=h.fetchStatus==="fetching",m=_==="pending",g=_==="error",b=m&&x,C=y!==void 0,P={status:_,fetchStatus:h.fetchStatus,isPending:m,isSuccess:_==="success",isError:g,isInitialLoading:b,isLoading:b,data:y,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!m,isLoadingError:g&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:g&&C,isStale:Og(t,n),refetch:this.refetch,promise:T(this,ro)};if(this.options.experimental_prefetchInRender){const $=Z=>{P.status==="error"?Z.reject(P.error):P.data!==void 0&&Z.resolve(P.data)},U=()=>{const Z=be(this,ro,P.promise=Pp());$(Z)},G=T(this,ro);switch(G.status){case"pending":t.queryHash===r.queryHash&&$(G);break;case"fulfilled":(P.status==="error"||P.data!==G.value)&&U();break;case"rejected":(P.status!=="error"||P.error!==G.reason)&&U();break}}return P}updateResult(t){const n=T(this,Bn),r=this.createResult(T(this,et),this.options);if(be(this,ei,T(this,et).state),be(this,ga,this.options),T(this,ei).data!==void 0&&be(this,ya,T(this,et)),rd(r,n))return;be(this,Bn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!T(this,xa).size)return!0;const c=new Set(l??T(this,xa));return this.options.throwOnError&&c.add("error"),Object.keys(T(this,Bn)).some(u=>{const f=u;return T(this,Bn)[f]!==n[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),We(this,ut,qb).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,ut,Ip).call(this)}},Yn=new WeakMap,et=new WeakMap,uc=new WeakMap,Bn=new WeakMap,ei=new WeakMap,ga=new WeakMap,ro=new WeakMap,os=new WeakMap,dc=new WeakMap,va=new WeakMap,ya=new WeakMap,ti=new WeakMap,ni=new WeakMap,so=new WeakMap,xa=new WeakMap,ut=new WeakSet,bl=function(t){We(this,ut,Mp).call(this);let n=T(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(br)),n},Rp=function(){We(this,ut,Dp).call(this);const t=sa(this.options.staleTime,T(this,et));if(hi||T(this,Bn).isStale||!Ep(t))return;const r=$b(T(this,Bn).dataUpdatedAt,t)+1;be(this,ti,setTimeout(()=>{T(this,Bn).isStale||this.updateResult()},r))},Ap=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,et)):this.options.refetchInterval)??!1},Op=function(t){We(this,ut,Lp).call(this),be(this,so,t),!(hi||Vr(this.options.enabled,T(this,et))===!1||!Ep(T(this,so))||T(this,so)===0)&&be(this,ni,setInterval(()=>{(this.options.refetchIntervalInBackground||Ag.isFocused())&&We(this,ut,bl).call(this)},T(this,so)))},Ip=function(){We(this,ut,Rp).call(this),We(this,ut,Op).call(this,We(this,ut,Ap).call(this))},Dp=function(){T(this,ti)&&(clearTimeout(T(this,ti)),be(this,ti,void 0))},Lp=function(){T(this,ni)&&(clearInterval(T(this,ni)),be(this,ni,void 0))},Mp=function(){const t=T(this,Yn).getQueryCache().build(T(this,Yn),this.options);if(t===T(this,et))return;const n=T(this,et);be(this,et,t),be(this,uc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},qb=function(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(T(this,Bn))}),T(this,Yn).getQueryCache().notify({query:T(this,et),type:"observerResultsUpdated"})})},Xx);function v2(e,t){return Vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vy(e,t){return v2(e,t)||e.state.data!==void 0&&$p(e,t,t.refetchOnMount)}function $p(e,t,n){if(Vr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Og(e,t)}return!1}function Ky(e,t,n,r){return(e!==t||Vr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Og(e,n)}function Og(e,t){return Vr(t.enabled,e)!==!1&&e.isStaleByTime(sa(t.staleTime,e))}function y2(e,t){return!rd(e.getCurrentResult(),t)}var oo,io,Jn,js,Ts,Cu,Fp,Zx,x2=(Zx=class extends qa{constructor(n,r){super();Oe(this,Ts);Oe(this,oo);Oe(this,io);Oe(this,Jn);Oe(this,js);be(this,oo,n),this.setOptions(r),this.bindMethods(),We(this,Ts,Cu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=T(this,oo).defaultMutationOptions(n),rd(this.options,r)||T(this,oo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Jn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&pi(r.mutationKey)!==pi(this.options.mutationKey)?this.reset():((s=T(this,Jn))==null?void 0:s.state.status)==="pending"&&T(this,Jn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,Jn))==null||n.removeObserver(this)}onMutationUpdate(n){We(this,Ts,Cu).call(this),We(this,Ts,Fp).call(this,n)}getCurrentResult(){return T(this,io)}reset(){var n;(n=T(this,Jn))==null||n.removeObserver(this),be(this,Jn,void 0),We(this,Ts,Cu).call(this),We(this,Ts,Fp).call(this)}mutate(n,r){var s;return be(this,js,r),(s=T(this,Jn))==null||s.removeObserver(this),be(this,Jn,T(this,oo).getMutationCache().build(T(this,oo),this.options)),T(this,Jn).addObserver(this),T(this,Jn).execute(n)}},oo=new WeakMap,io=new WeakMap,Jn=new WeakMap,js=new WeakMap,Ts=new WeakSet,Cu=function(){var r;const n=((r=T(this,Jn))==null?void 0:r.state)??Kb();be(this,io,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Fp=function(n){rn.batch(()=>{var r,s,i,a,l,c,u,f;if(T(this,js)&&this.hasListeners()){const h=T(this,io).variables,p=T(this,io).context;(n==null?void 0:n.type)==="success"?((s=(r=T(this,js)).onSuccess)==null||s.call(r,n.data,h,p),(a=(i=T(this,js)).onSettled)==null||a.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((c=(l=T(this,js)).onError)==null||c.call(l,n.error,h,p),(f=(u=T(this,js)).onSettled)==null||f.call(u,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(T(this,io))})})},Zx),Gb=d.createContext(void 0),Ig=e=>{const t=d.useContext(Gb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},w2=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Gb.Provider,{value:e,children:t})),Qb=d.createContext(!1),_2=()=>d.useContext(Qb);Qb.Provider;function b2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var S2=d.createContext(b2()),j2=()=>d.useContext(S2);function Yb(e,t){return typeof e=="function"?e(...t):!!e}function Jb(){}var C2=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},N2=e=>{d.useEffect(()=>{e.clearReset()},[e])},E2=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Yb(n,[e.error,r]),k2=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},T2=(e,t)=>e.isLoading&&e.isFetching&&!t,P2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,qy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function R2(e,t,n){var f,h,p,y,w;const r=Ig(),s=_2(),i=j2(),a=r.defaultQueryOptions(e);(h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=s?"isRestoring":"optimistic",k2(a),C2(a,i),N2(i);const l=!r.getQueryCache().get(a.queryHash),[c]=d.useState(()=>new t(r,a)),u=c.getOptimisticResult(a);if(d.useSyncExternalStore(d.useCallback(v=>{const _=s?()=>{}:c.subscribe(rn.batchCalls(v));return c.updateResult(),_},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),P2(a,u))throw qy(a,c,i);if(E2({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw u.error;if((y=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,a,u),a.experimental_prefetchInRender&&!hi&&T2(u,s)){const v=l?qy(a,c,i):(w=r.getQueryCache().get(a.queryHash))==null?void 0:w.promise;v==null||v.catch(Jb).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function dl(e,t){return R2(e,g2)}function Pn(e,t){const n=Ig(),[r]=d.useState(()=>new x2(n,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const s=d.useSyncExternalStore(d.useCallback(a=>r.subscribe(rn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=d.useCallback((a,l)=>{r.mutate(a,l).catch(Jb)},[r]);if(s.error&&Yb(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}var co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(co||(co={}));const Gy="popstate";function A2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return zp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:od(s)}return I2(t,n,null,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O2(){return Math.random().toString(36).substr(2,8)}function Qy(e,t){return{usr:e.state,key:e.key,idx:t}}function zp(e,t,n,r){return n===void 0&&(n=null),oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ga(t):t,{state:n,key:t&&t.key||r||O2()})}function od(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function I2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=co.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(oc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){l=co.Pop;let _=f(),x=_==null?null:_-u;u=_,c&&c({action:l,location:v.location,delta:x})}function p(_,x){l=co.Push;let m=zp(v.location,_,x);u=f()+1;let g=Qy(m,u),b=v.createHref(m);try{a.pushState(g,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}i&&c&&c({action:l,location:v.location,delta:1})}function y(_,x){l=co.Replace;let m=zp(v.location,_,x);u=f();let g=Qy(m,u),b=v.createHref(m);a.replaceState(g,"",b),i&&c&&c({action:l,location:v.location,delta:0})}function w(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:od(_);return m=m.replace(/ $/,"%20"),Ot(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let v={get action(){return l},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Gy,h),c=_,()=>{s.removeEventListener(Gy,h),c=null}},createHref(_){return t(s,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:y,go(_){return a.go(_)}};return v}var Yy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yy||(Yy={}));function D2(e,t,n){return n===void 0&&(n="/"),L2(e,t,n,!1)}function L2(e,t,n,r){let s=typeof t=="string"?Ga(t):t,i=Pa(s.pathname||"/",n);if(i==null)return null;let a=Zb(e);M2(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=G2(i);l=K2(a[c],u,r)}return l}function Zb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=wo([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(Ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Zb(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:W2(u,i.index),routesMeta:f})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of eS(i.path))s(i,a,c)}),t}function eS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=eS(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function M2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:V2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $2=/^:[\w-]+$/,F2=3,z2=2,U2=1,B2=10,H2=-2,Jy=e=>e==="*";function W2(e,t){let n=e.split("/"),r=n.length;return n.some(Jy)&&(r+=H2),t&&(r+=z2),n.filter(s=>!Jy(s)).reduce((s,i)=>s+($2.test(i)?F2:i===""?U2:B2),r)}function V2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function K2(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=id({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=id({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:wo([i,h.pathname]),pathnameBase:X2(wo([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=wo([i,h.pathnameBase]))}return a}function id(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:p,isOptional:y}=f;if(p==="*"){let v=l[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return y&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function q2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function G2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Q2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ga(e):e;return{pathname:n?n.startsWith("/")?n:Y2(n,t):t,search:Z2(r),hash:eA(s)}}function Y2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dg(e,t){let n=J2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ga(e):(s=oc({},e),Ot(!s.pathname||!s.pathname.includes("?"),Jf("?","pathname","search",s)),Ot(!s.pathname||!s.pathname.includes("#"),Jf("#","pathname","hash",s)),Ot(!s.search||!s.search.includes("#"),Jf("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=Q2(s,l),u=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const wo=e=>e.join("/").replace(/\/\/+/g,"/"),X2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tS=["post","put","patch","delete"];new Set(tS);const nA=["get",...tS];new Set(nA);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}const Kd=d.createContext(null),nS=d.createContext(null),Ms=d.createContext(null),qd=d.createContext(null),ps=d.createContext({outlet:null,matches:[],isDataRoute:!1}),rS=d.createContext(null);function rA(e,t){let{relative:n}=t===void 0?{}:t;Qa()||Ot(!1);let{basename:r,navigator:s}=d.useContext(Ms),{hash:i,pathname:a,search:l}=Gd(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:wo([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Qa(){return d.useContext(qd)!=null}function Oo(){return Qa()||Ot(!1),d.useContext(qd).location}function sS(e){d.useContext(Ms).static||d.useLayoutEffect(e)}function Io(){let{isDataRoute:e}=d.useContext(ps);return e?yA():sA()}function sA(){Qa()||Ot(!1);let e=d.useContext(Kd),{basename:t,future:n,navigator:r}=d.useContext(Ms),{matches:s}=d.useContext(ps),{pathname:i}=Oo(),a=JSON.stringify(Dg(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return sS(()=>{l.current=!0}),d.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Lg(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:wo([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,a,i,e])}const oA=d.createContext(null);function iA(e){let t=d.useContext(ps).outlet;return t&&d.createElement(oA.Provider,{value:e},t)}function oS(){let{matches:e}=d.useContext(ps),t=e[e.length-1];return t?t.params:{}}function Gd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(Ms),{matches:s}=d.useContext(ps),{pathname:i}=Oo(),a=JSON.stringify(Dg(s,r.v7_relativeSplatPath));return d.useMemo(()=>Lg(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function aA(e,t){return lA(e,t)}function lA(e,t,n,r){Qa()||Ot(!1);let{navigator:s}=d.useContext(Ms),{matches:i}=d.useContext(ps),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Oo(),f;if(t){var h;let _=typeof t=="string"?Ga(t):t;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||Ot(!1),f=_}else f=u;let p=f.pathname||"/",y=p;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=D2(e,{pathname:y}),v=hA(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:wo([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:wo([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&v?d.createElement(qd.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:co.Pop}},v):v}function cA(){let e=vA(),t=tA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const uA=d.createElement(cA,null);class dA extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(ps.Provider,{value:this.props.routeContext},d.createElement(rS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fA(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(Kd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(ps.Provider,{value:t},r)}function hA(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||Ot(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:y}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,p)=>{let y,w=!1,v=null,_=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||uA,c&&(u<0&&p===0?(w=!0,_=null):u===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,p+1)),m=()=>{let g;return y?g=v:w?g=_:h.route.Component?g=d.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=f,d.createElement(fA,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?d.createElement(dA,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var iS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iS||{}),ad=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ad||{});function pA(e){let t=d.useContext(Kd);return t||Ot(!1),t}function mA(e){let t=d.useContext(nS);return t||Ot(!1),t}function gA(e){let t=d.useContext(ps);return t||Ot(!1),t}function aS(e){let t=gA(),n=t.matches[t.matches.length-1];return n.route.id||Ot(!1),n.route.id}function vA(){var e;let t=d.useContext(rS),n=mA(ad.UseRouteError),r=aS(ad.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function yA(){let{router:e}=pA(iS.UseNavigateStable),t=aS(ad.UseNavigateStable),n=d.useRef(!1);return sS(()=>{n.current=!0}),d.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ic({fromRouteId:t},i)))},[e,t])}function xA(e){let{to:t,replace:n,state:r,relative:s}=e;Qa()||Ot(!1);let{future:i,static:a}=d.useContext(Ms),{matches:l}=d.useContext(ps),{pathname:c}=Oo(),u=Io(),f=Lg(t,Dg(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return d.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function wA(e){return iA(e.context)}function Qn(e){Ot(!1)}function _A(e){let{basename:t="/",children:n=null,location:r,navigationType:s=co.Pop,navigator:i,static:a=!1,future:l}=e;Qa()&&Ot(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:i,static:a,future:ic({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ga(r));let{pathname:f="/",search:h="",hash:p="",state:y=null,key:w="default"}=r,v=d.useMemo(()=>{let _=Pa(f,c);return _==null?null:{location:{pathname:_,search:h,hash:p,state:y,key:w},navigationType:s}},[c,f,h,p,y,w,s]);return v==null?null:d.createElement(Ms.Provider,{value:u},d.createElement(qd.Provider,{children:n,value:v}))}function bA(e){let{children:t,location:n}=e;return aA(Up(t),n)}new Promise(()=>{});function Up(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let i=[...t,s];if(r.type===d.Fragment){n.push.apply(n,Up(r.props.children,i));return}r.type!==Qn&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Up(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ld.apply(this,arguments)}function lS(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function SA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jA(e,t){return e.button===0&&(!t||t==="_self")&&!SA(e)}const CA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NA=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],EA="6";try{window.__reactRouterVersion=EA}catch{}const kA=d.createContext({isTransitioning:!1}),TA="startTransition",Xy=dw[TA];function PA(e){let{basename:t,children:n,future:r,window:s}=e,i=d.useRef();i.current==null&&(i.current=A2({window:s,v5Compat:!0}));let a=i.current,[l,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=d.useCallback(h=>{u&&Xy?Xy(()=>c(h)):c(h)},[c,u]);return d.useLayoutEffect(()=>a.listen(f),[a,f]),d.createElement(_A,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const RA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OA=d.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,p=lS(t,CA),{basename:y}=d.useContext(Ms),w,v=!1;if(typeof u=="string"&&AA.test(u)&&(w=u,RA))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),C=Pa(b.pathname,y);b.origin===g.origin&&C!=null?u=C+b.search+b.hash:v=!0}catch{}let _=rA(u,{relative:s}),x=LA(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:h});function m(g){r&&r(g),g.defaultPrevented||x(g)}return d.createElement("a",ld({},p,{href:w||_,onClick:v||i?r:m,ref:n,target:c}))}),IA=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:f}=t,h=lS(t,NA),p=Gd(c,{relative:h.relative}),y=Oo(),w=d.useContext(nS),{navigator:v,basename:_}=d.useContext(Ms),x=w!=null&&MA(p)&&u===!0,m=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,g=y.pathname,b=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(g=g.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&_&&(b=Pa(b,_)||b);const C=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let N=g===m||!a&&g.startsWith(m)&&g.charAt(C)==="/",P=b!=null&&(b===m||!a&&b.startsWith(m)&&b.charAt(m.length)==="/"),O={isActive:N,isPending:P,isTransitioning:x},$=N?r:void 0,U;typeof i=="function"?U=i(O):U=[i,N?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(O):l;return d.createElement(OA,ld({},h,{"aria-current":$,className:U,ref:n,style:G,to:c,viewTransition:u}),typeof f=="function"?f(O):f)});var Bp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bp||(Bp={}));var Zy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zy||(Zy={}));function DA(e){let t=d.useContext(Kd);return t||Ot(!1),t}function LA(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Io(),u=Oo(),f=Gd(e,{relative:a});return d.useCallback(h=>{if(jA(h,n)){h.preventDefault();let p=r!==void 0?r:od(u)===od(f);c(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,f,r,s,n,e,i,a,l])}function MA(e,t){t===void 0&&(t={});let n=d.useContext(kA);n==null&&Ot(!1);let{basename:r}=DA(Bp.useViewTransitionState),s=Gd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return id(s.pathname,a)!=null||id(s.pathname,i)!=null}const $A="modulepreload",FA=function(e){return"/"+e},ex={},wc=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=FA(c),c in ex)return;ex[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":$A,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},zA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ya);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Mg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class UA extends Mg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tx extends Mg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nx extends Mg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hp||(Hp={}));var BA=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class HA{constructor(t,{headers:n={},customFetch:r,region:s=Hp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=zA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return BA(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(l["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(l["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(v=>{throw new UA(v)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new tx(h);if(!h.ok)throw new nx(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield h.json():y==="application/octet-stream"?w=yield h.blob():y==="text/event-stream"?w=h:y==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof nx||s instanceof tx?s.context:void 0}}})}}var Zn={},$g={},Qd={},_c={},Yd={},Jd={},WA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ra=WA();const VA=Ra.fetch,cS=Ra.fetch.bind(Ra),uS=Ra.Headers,KA=Ra.Request,qA=Ra.Response,Ya=Object.freeze(Object.defineProperty({__proto__:null,Headers:uS,Request:KA,Response:qA,default:cS,fetch:VA},Symbol.toStringTag,{value:"Module"})),GA=TC(Ya);var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});let QA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xd.default=QA;var dS=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jd,"__esModule",{value:!0});const YA=dS(GA),JA=dS(Xd);let XA=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=YA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let f=null,h=null,p=null,y=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&x&&x.length>1&&(p=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,y=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{f=JSON.parse(_),Array.isArray(f)&&i.status===404&&(h=[],f=null,y=200,w="OK")}catch{i.status===404&&_===""?(y=204,w="No Content"):f={message:_}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,y=200,w="OK"),f&&this.shouldThrowOnError)throw new JA.default(f)}return{error:f,data:h,count:p,status:y,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Jd.default=XA;var ZA=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yd,"__esModule",{value:!0});const eO=ZA(Jd);let tO=class extends eO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Yd.default=tO;var nO=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const rO=nO(Yd);let sO=class extends rO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};_c.default=sO;var oO=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qd,"__esModule",{value:!0});const fl=oO(_c);let iO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new fl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new fl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new fl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Qd.default=iO;var fS=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($g,"__esModule",{value:!0});const aO=fS(Qd),lO=fS(_c);let cO=class hS{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new aO.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(l="POST",u=n);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new lO.default({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};$g.default=cO;var Ja=Tr&&Tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.PostgrestError=Zn.PostgrestBuilder=Zn.PostgrestTransformBuilder=Zn.PostgrestFilterBuilder=Zn.PostgrestQueryBuilder=Zn.PostgrestClient=void 0;const pS=Ja($g);Zn.PostgrestClient=pS.default;const mS=Ja(Qd);Zn.PostgrestQueryBuilder=mS.default;const gS=Ja(_c);Zn.PostgrestFilterBuilder=gS.default;const vS=Ja(Yd);Zn.PostgrestTransformBuilder=vS.default;const yS=Ja(Jd);Zn.PostgrestBuilder=yS.default;const xS=Ja(Xd);Zn.PostgrestError=xS.default;var uO=Zn.default={PostgrestClient:pS.default,PostgrestQueryBuilder:mS.default,PostgrestFilterBuilder:gS.default,PostgrestTransformBuilder:vS.default,PostgrestBuilder:yS.default,PostgrestError:xS.default};const{PostgrestClient:dO,PostgrestQueryBuilder:d$,PostgrestFilterBuilder:f$,PostgrestTransformBuilder:h$,PostgrestBuilder:p$,PostgrestError:m$}=uO;class fO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hO="2.15.5",pO=`realtime-js/${hO}`,mO="1.0.0",Wp=1e4,gO=1e3,vO=100;var Dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dl||(Dl={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var Vp;(function(e){e.websocket="websocket"})(Vp||(Vp={}));var Vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vo||(Vo={}));class yO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class wS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xt||(xt={}));const rx=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=xO(a,e,t,s),i),{})},xO=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?_S(i,a):Kp(a)},_S=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return SO(t,n)}switch(e){case xt.bool:return wO(t);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return _O(t);case xt.json:case xt.jsonb:return bO(t);case xt.timestamp:return jO(t);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return Kp(t);default:return Kp(t)}},Kp=e=>e,wO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_O=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},SO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>_S(t,l))}return e},jO=e=>typeof e=="string"?e.replace(" ","T"):e,bS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xf{constructor(t,n,r={},s=Wp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sx||(sx={}));class Ll{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ll.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ll.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ll.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const h=i[u];if(h){const p=f.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),w=f.filter(_=>y.indexOf(_.presence_ref)<0),v=h.filter(_=>p.indexOf(_.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(y=>y.presence_ref),p=f.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...p)}r(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ox;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ox||(ox={}));var Ml;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ml||(Ml={}));var bs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bs||(bs={}));class Fg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xf(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new wS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ll(this),this.broadcastEndpointURL=bS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Ml.PRESENCE]&&this.bindings[Ml.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(bs.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(bs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t==null||t(bs.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,x=[];for(let m=0;m<_;m++){const g=v[m],{filter:{event:b,schema:C,table:N,filter:P}}=g,O=y&&y[m];if(O&&O.event===b&&O.schema===C&&O.table===N&&O.filter===P)x.push(Object.assign(Object.assign({},g),{id:O.id}));else{this.unsubscribe(),this.state=en.errored,t==null||t(bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(bs.SUBSCRIBED);return}}).receive("error",y=>{this.state=en.errored,t==null||t(bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===en.joined&&t===Ml.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xf(this,Hr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Hr;if(r&&[l,c,u,f].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,v,_;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(v=y.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(y=>y.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var w,v,_,x,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const b=y.id,C=(w=y.filter)===null||w===void 0?void 0:w.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(m=(x=y==null?void 0:y.filter)===null||x===void 0?void 0:x.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:v,table:_,commit_timestamp:x,type:m,errors:g}=w;p=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:x,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(w))}y.callback(p,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Fg.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=rx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=rx(t.columns,t.old_record)),n}}const Zf=()=>{},eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CO=[1e3,2e3,5e3,1e4],NO=1e4,EO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kO{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wp,this.transport=null,this.heartbeatIntervalMs=eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zf,this.ref=0,this.reconnectTimer=null,this.logger=Zf,this.conn=null,this.sendBuffer=[],this.serializer=new yO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>wc(async()=>{const{default:l}=await Promise.resolve().then(()=>Ya);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Vp.websocket}`,this.httpEndpoint=bS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mO}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dl.connecting:return Vo.Connecting;case Dl.open:return Vo.Open;case Dl.closing:return Vo.Closing;default:return Vo.Closed}}isConnected(){return this.connectionState()===Vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Fg(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([EO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:pO};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Hr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,c,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Wp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:eu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Zf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>CO[h-1]||NO,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class zg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function tn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TO extends zg{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qp extends zg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var PO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const SS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ya);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},RO=()=>PO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wc(()=>Promise.resolve().then(()=>Ya),void 0)).Response:Response}),Gp=e=>{if(Array.isArray(e))return e.map(n=>Gp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Gp(r)}),t},AO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var bi=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const eh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OO=(e,t,n)=>bi(void 0,void 0,void 0,function*(){const r=yield RO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new TO(eh(s),i,a))}).catch(s=>{t(new qp(eh(s),s))}):t(new qp(eh(e),e))}),IO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(AO(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function bc(e,t,n,r,s,i){return bi(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,IO(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>OO(c,l,r))})})}function cd(e,t,n,r){return bi(this,void 0,void 0,function*(){return bc(e,"GET",t,n,r)})}function ts(e,t,n,r,s){return bi(this,void 0,void 0,function*(){return bc(e,"POST",t,r,s,n)})}function Qp(e,t,n,r,s){return bi(this,void 0,void 0,function*(){return bc(e,"PUT",t,r,s,n)})}function DO(e,t,n,r){return bi(this,void 0,void 0,function*(){return bc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jS(e,t,n,r,s){return bi(this,void 0,void 0,function*(){return bc(e,"DELETE",t,r,s,n)})}var Fn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const LO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ix={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MO{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=SS(s)}uploadOrUpdate(t,n,r,s){return Fn(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},ix),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(t=="PUT"?Qp:ts)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(tn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Fn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ix.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield Qp(this.fetch,l.toString(),c,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(tn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new zg("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(tn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Fn(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(tn(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Fn(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(tn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ts(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(tn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Fn(this,void 0,void 0,function*(){try{const s=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(tn(s))return{data:null,error:s};throw s}})}download(t,n){return Fn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield cd(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(tn(l))return{data:null,error:l};throw l}})}info(t){return Fn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield cd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gp(r),error:null}}catch(r){if(tn(r))return{data:null,error:r};throw r}})}exists(t){return Fn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield DO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(tn(r)&&r instanceof qp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield jS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Fn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LO),n),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(tn(s))return{data:null,error:s};throw s}})}listV2(t,n){return Fn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(tn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const $O="2.11.1",FO={"X-Client-Info":`storage-js/${$O}`};var ji=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class zO{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},FO),n),this.fetch=SS(r)}listBuckets(){return ji(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(tn(t))return{data:null,error:t};throw t}})}getBucket(t){return ji(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ji(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(tn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ji(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(tn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ji(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ji(this,void 0,void 0,function*(){try{return{data:yield jS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(tn(n))return{data:null,error:n};throw n}})}}class UO extends zO{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new MO(this.url,this.headers,t,this.fetch)}}const BO="2.57.2";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const HO={"X-Client-Info":`supabase-js-${Sl}/${BO}`},WO={headers:HO},VO={schema:"public"},KO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qO={};var GO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const QO=e=>{let t;return e?t=e:typeof fetch>"u"?t=cS:t=fetch,(...n)=>t(...n)},YO=()=>typeof Headers>"u"?uS:Headers,JO=(e,t,n)=>{const r=QO(n),s=YO();return(i,a)=>GO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var XO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function ZO(e){return e.endsWith("/")?e:e+"/"}function eI(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:f,global:h}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>XO(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const CS="2.71.1",Ai=30*1e3,Yp=3,th=Yp*Ai,tI="http://localhost:9999",nI="supabase.auth.token",rI={"X-Client-Info":`gotrue-js/${CS}`},Jp="X-Supabase-Api-Version",NS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oI=10*60*1e3;class Ug extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iI extends Ug{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aI(e){return Be(e)&&e.name==="AuthApiError"}class ES extends Ug{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Do extends Ug{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ws extends Do{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lI(e){return Be(e)&&e.name==="AuthSessionMissingError"}class tu extends Do{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nu extends Do{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ru extends Do{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cI(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class ax extends Do{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xp extends Do{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nh(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class lx extends Do{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Zp extends Do{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cx=` 	
\r=`.split(""),uI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cx.length;t+=1)e[cx[t].charCodeAt(0)]=-2;for(let t=0;t<ud.length;t+=1)e[ud[t].charCodeAt(0)]=t;return e})();function ux(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ud[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ud[r]),t.queuedBits-=6}}function kS(e,t,n){const r=uI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dx(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{hI(a,r,n)};for(let a=0;a<e.length;a+=1)kS(e.charCodeAt(a),s,i);return t.join("")}function dI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}dI(r,t)}}function hI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)kS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function mI(e){const t=[];return fI(e,n=>t.push(n)),new Uint8Array(t)}function gI(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ux(s,n,r)),ux(null,n,r),t.join("")}function vI(e){return Math.round(Date.now()/1e3)+e}function yI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mr=()=>typeof window<"u"&&typeof document<"u",zo={tested:!1,writable:!1},TS=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zo.tested)return zo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zo.tested=!0,zo.writable=!0}catch{zo.tested=!0,zo.writable=!1}return zo.writable};function xI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const PS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ya);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Oi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Uo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bs=async(e,t)=>{await e.removeItem(t)};class Zd{constructor(){this.promise=new Zd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Zd.promiseConstructor=Promise;function rh(e){const t=e.split(".");if(t.length!==3)throw new Zp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sI.test(t[r]))throw new Zp("JWT not in base64url format");return{header:JSON.parse(dx(t[0])),payload:JSON.parse(dx(t[1])),signature:pI(t[2]),raw:{header:t[0],payload:t[1]}}}async function _I(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bI(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function SI(e){return("0"+e.toString(16)).substr(-2)}function jI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,SI).join("")}async function CI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function NI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(e,t,n=!1){const r=jI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Oi(e,`${t}-code-verifier`,s);const i=await NI(r);return[i,r===i?"plain":"s256"]}const EI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kI(e){const t=e.headers.get(Jp);if(!t||!t.match(EI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ni(e){if(!RI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fx(e){return JSON.parse(JSON.stringify(e))}var AI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OI=[502,503,504];async function hx(e){var t;if(!wI(e))throw new Xp(Wo(e),0);if(OI.includes(e.status))throw new Xp(Wo(e),e.status);let n;try{n=await e.json()}catch(i){throw new ES(Wo(i),i)}let r;const s=kI(e);if(s&&s.getTime()>=NS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lx(Wo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ws}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new lx(Wo(n),e.status,n.weak_password.reasons);throw new iI(Wo(n),e.status||500,r)}const II=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Qe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Jp]||(i[Jp]=NS["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await DI(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function DI(e,t,n,r,s,i){const a=II(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Xp(Wo(c),0)}if(l.ok||await hx(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await hx(c)}}function xs(e){var t;let n=null;FI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function px(e){const t=xs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LI(e){return{data:e,error:null}}function MI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=AI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function $I(e){return e}function FI(e){return e.access_token&&e.refresh_token&&e.expires_in}const oh=["global","local","others"];var zI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class UI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=PS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=oh[0]){if(oh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oh.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Js})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zI(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Js})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$I});if(f.error)throw f.error;const h=await f.json(),p=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ni(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ni(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Js})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ni(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Js})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ni(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ni(t.userId),Ni(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}function mx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function BI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ei={debug:!!(globalThis&&TS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HI extends RS{}async function WI(e,t,n){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ei.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}BI();const VI={url:tI,storageKey:nI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gx(e,t,n){return await n()}const ki={};class ac{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ac.nextInstanceID,ac.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},VI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new UI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=PS(s.fetch),this.lock=s.lock||gx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Mr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WI:this.lock=gx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:TS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mx(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ki[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ki[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Mr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cI(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Be(n)?{error:n}:{error:new ES("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xs}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:f,password:h,options:p}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Ci(this.storage,this.storageKey)),i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:w},xform:xs})}else if("phone"in t){const{phone:f,password:h,options:p}=t;i=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:xs})}else throw new nu("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:px})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:px})}else throw new nu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,a,l,c,u,f,h,p,y;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:_,wallet:x,statement:m,options:g}=t;let b;if(Mr())if(typeof x=="object")b=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const C=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(f=g==null?void 0:g.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:_,error:x}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:gI(v)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:xs});if(x)throw x;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new tu}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:x})}catch(_){if(Be(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Uo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xs});if(await Bs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new tu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Be(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new tu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ci(this.storage,this.storageKey));const{error:h}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new nu("You must provide either an email or phone number.")}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xs});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Ci(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:LI})}catch(i){if(Be(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ws;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new nu("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<th:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Uo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=sh()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ws}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Js})})}catch(n){if(Be(n))return lI(n)&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ws;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ci(this.storage,this.storageKey));const{data:u,error:f}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Js});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ws;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=rh(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ws;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Mr())throw new ru("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ru(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ax("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ru("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ax("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new ru("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let p=f+h;c&&(p=parseInt(c));const y=p-f;y*1e3<=Ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=p-h;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,f);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(aI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ci(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Be(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,f;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Mr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Be(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bI(async s=>(s>0&&await _I(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&nh(i)&&Date.now()+a-r<Ai})}catch(r){if(this._debug(n,"error",r),Be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Mr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Uo(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Oi(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:sh()}else if(s&&!s.user&&!s.user){const a=await Uo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Bs(this.storage,this.storageKey+"-user"),await Oi(this.storage,this.storageKey,s)):s.user=sh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<th;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${th}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),nh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zd;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const a={session:null,error:i};return nh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=fx(s);await Oi(this.storage,this.storageKey,i)}else{const s=fx(n);await Oi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await Bs(this.storage,this.storageKey+"-code-verifier"),await Bs(this.storage,this.storageKey+"-user"),this.userStorage&&await Bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ai);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ai}ms, refresh threshold is ${Yp} ticks`),s<=Yp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ci(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rh(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+oI>s)return r;const{data:i,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=rh(r);n!=null&&n.allowExpired||TI(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const f=PI(s.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,a,mI(`${l}.${c}`)))throw new Zp("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}ac.nextInstanceID=0;const KI=ac;class qI extends KI{constructor(t){super(t)}}var GI=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{u(r.next(f))}catch(h){a(h)}}function c(f){try{u(r.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class QI{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=ZO(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:VO,realtime:qO,auth:Object.assign(Object.assign({},KO),{storageKey:u}),global:WO},h=eI(r??{},f);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=JO(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new dO(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new UO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new HA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return GI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qI({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new kO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YI=(e,t,n)=>new QI(e,t,n);function JI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}JI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Aa={url:"https://zcxknllsrqipcrkffdla.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjeGtubGxzcnFpcGNya2ZmZGxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNDQwNjMsImV4cCI6MjA3MjcyMDA2M30.jeIVQhSJKVo3ZX84P-sEcVdXTjCaYXeXzPKp3ERyTak",projectId:"zcxknllsrqipcrkffdla"},se=YI(Aa.url,Aa.anonKey,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),AS=d.createContext(void 0),Bg=()=>{const e=d.useContext(AS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},XI=({children:e})=>{const[t,n]=d.useState(null),[r,s]=d.useState(null),[i,a]=d.useState(!0);d.useEffect(()=>{const{data:{subscription:h}}=se.auth.onAuthStateChange((p,y)=>{s(y),n((y==null?void 0:y.user)??null),a(!1)});return se.auth.getSession().then(({data:{session:p}})=>{s(p),n((p==null?void 0:p.user)??null),a(!1)}),()=>h.unsubscribe()},[]);const l=async(h,p)=>{const{error:y}=await se.auth.signInWithPassword({email:h,password:p});return{error:y}},c=async(h,p)=>{const y=`${window.location.origin}/`,{error:w}=await se.auth.signUp({email:h,password:p,options:{emailRedirectTo:y}});return{error:w}},u=async()=>{await se.auth.signOut()},f=!!r;return o.jsx(AS.Provider,{value:{user:t,session:r,isAuthenticated:f,signIn:l,signUp:c,signOut:u,loading:i},children:e})},ih=768;function ZI(){const[e,t]=d.useState(void 0);return d.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ih-1}px)`),r=()=>{t(window.innerWidth<ih)};return n.addEventListener("change",r),t(window.innerWidth<ih),()=>n.removeEventListener("change",r)},[]),!!e}const ef=Ua("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=d.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?Ar:"button";return o.jsx(a,{className:ae(ef({variant:t,size:n,className:e})),ref:i,...s})});H.displayName="Button";const Pe=d.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Pe.displayName="Input";var eD="Separator",vx="horizontal",tD=["horizontal","vertical"],OS=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=vx,...s}=e,i=nD(r)?r:vx,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(De.div,{"data-orientation":i,...l,...s,ref:t})});OS.displayName=eD;function nD(e){return tD.includes(e)}var IS=OS;const Gs=d.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>o.jsx(IS,{ref:s,decorative:n,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Gs.displayName=IS.displayName;var ah="focusScope.autoFocusOnMount",lh="focusScope.autoFocusOnUnmount",yx={bubbles:!1,cancelable:!0},rD="FocusScope",Hg=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=d.useState(null),u=Wt(s),f=Wt(i),h=d.useRef(null),p=tt(t,v=>c(v)),y=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let v=function(g){if(y.paused||!l)return;const b=g.target;l.contains(b)?h.current=b:Vs(h.current,{select:!0})},_=function(g){if(y.paused||!l)return;const b=g.relatedTarget;b!==null&&(l.contains(b)||Vs(h.current,{select:!0}))},x=function(g){if(document.activeElement===document.body)for(const C of g)C.removedNodes.length>0&&Vs(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const m=new MutationObserver(x);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),m.disconnect()}}},[r,l,y.paused]),d.useEffect(()=>{if(l){wx.add(y);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(ah,yx);l.addEventListener(ah,u),l.dispatchEvent(x),x.defaultPrevented||(sD(cD(DS(l)),{select:!0}),document.activeElement===v&&Vs(l))}return()=>{l.removeEventListener(ah,u),setTimeout(()=>{const x=new CustomEvent(lh,yx);l.addEventListener(lh,f),l.dispatchEvent(x),x.defaultPrevented||Vs(v??document.body,{select:!0}),l.removeEventListener(lh,f),wx.remove(y)},0)}}},[l,u,f,y]);const w=d.useCallback(v=>{if(!n&&!r||y.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(_&&x){const m=v.currentTarget,[g,b]=oD(m);g&&b?!v.shiftKey&&x===b?(v.preventDefault(),n&&Vs(g,{select:!0})):v.shiftKey&&x===g&&(v.preventDefault(),n&&Vs(b,{select:!0})):x===m&&v.preventDefault()}},[n,r,y.paused]);return o.jsx(De.div,{tabIndex:-1,...a,ref:p,onKeyDown:w})});Hg.displayName=rD;function sD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vs(r,{select:t}),document.activeElement!==n)return}function oD(e){const t=DS(e),n=xx(t,e),r=xx(t.reverse(),e);return[n,r]}function DS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xx(e,t){for(const n of e)if(!iD(n,{upTo:t}))return n}function iD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aD(e){return e instanceof HTMLInputElement&&"select"in e}function Vs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aD(e)&&t&&e.select()}}var wx=lD();function lD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_x(e,t),e.unshift(t)},remove(t){var n;e=_x(e,t),(n=e[0])==null||n.resume()}}}function _x(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cD(e){return e.filter(t=>t.tagName!=="A")}var ch=0;function LS(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bx()),document.body.insertAdjacentElement("beforeend",e[1]??bx()),ch++,()=>{ch===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ch--}},[])}function bx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var as=function(){return as=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},as.apply(this,arguments)};function MS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function uD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Nu="right-scroll-bar-position",Eu="width-before-scroll-bar",dD="with-scroll-bars-hidden",fD="--removed-body-scroll-bar-size";function uh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hD(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var pD=typeof window<"u"?d.useLayoutEffect:d.useEffect,Sx=new WeakMap;function mD(e,t){var n=hD(null,function(r){return e.forEach(function(s){return uh(s,r)})});return pD(function(){var r=Sx.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||uh(l,null)}),i.forEach(function(l){s.has(l)||uh(l,a)})}Sx.set(n,e)},[e]),n}function gD(e){return e}function vD(e,t){t===void 0&&(t=gD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var f=a;a=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),n}}}};return s}function yD(e){e===void 0&&(e={});var t=vD(null);return t.options=as({async:!0,ssr:!1},e),t}var $S=function(e){var t=e.sideCar,n=MS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,as({},n))};$S.isSideCarExport=!0;function xD(e,t){return e.useMedium(t),$S}var FS=yD(),dh=function(){},tf=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:dh,onWheelCapture:dh,onTouchMoveCapture:dh}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,y=e.noIsolation,w=e.inert,v=e.allowPinchZoom,_=e.as,x=_===void 0?"div":_,m=e.gapMode,g=MS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,C=mD([n,t]),N=as(as({},g),s);return d.createElement(d.Fragment,null,f&&d.createElement(b,{sideCar:FS,removeScrollBar:u,shards:h,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:m}),a?d.cloneElement(d.Children.only(l),as(as({},N),{ref:C})):d.createElement(x,as({},N,{className:c,ref:C}),l))});tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tf.classNames={fullWidth:Eu,zeroRight:Nu};var wD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _D(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wD();return t&&e.setAttribute("nonce",t),e}function bD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_D())&&(bD(t,n),SD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CD=function(){var e=jD();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zS=function(){var e=CD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},ND={left:0,top:0,right:0,gap:0},fh=function(e){return parseInt(e||"",10)||0},ED=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fh(n),fh(r),fh(s)]},kD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ND;var t=ED(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TD=zS(),oa="data-scroll-locked",PD=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oa,`] {
    `).concat(fD,": ").concat(l,`px;
  }
`)},jx=function(){var e=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(e)?e:0},RD=function(){d.useEffect(function(){return document.body.setAttribute(oa,(jx()+1).toString()),function(){var e=jx()-1;e<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,e.toString())}},[])},AD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;RD();var i=d.useMemo(function(){return kD(s)},[s]);return d.createElement(TD,{styles:PD(i,!t,s,n?"":"!important")})},em=!1;if(typeof window<"u")try{var su=Object.defineProperty({},"passive",{get:function(){return em=!0,!0}});window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{em=!1}var Ti=em?{passive:!1}:!1,OD=function(e){return e.tagName==="TEXTAREA"},US=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OD(e)&&n[t]==="visible")},ID=function(e){return US(e,"overflowY")},DD=function(e){return US(e,"overflowX")},Cx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BS(e,r);if(s){var i=HS(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},LD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},BS=function(e,t){return e==="v"?ID(t):DD(t)},HS=function(e,t){return e==="v"?LD(t):MD(t)},$D=function(e,t){return e==="h"&&t==="rtl"?-1:1},FD=function(e,t,n,r,s){var i=$D(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,f=a>0,h=0,p=0;do{var y=HS(e,l),w=y[0],v=y[1],_=y[2],x=v-_-i*w;(w||x)&&BS(e,l)&&(h+=x,p+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(p)<1||!s))&&(u=!0),u},ou=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nx=function(e){return[e.deltaX,e.deltaY]},Ex=function(e){return e&&"current"in e?e.current:e},zD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BD=0,Pi=[];function HD(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(BD++)[0],i=d.useState(zS)[0],a=d.useRef(e);d.useEffect(function(){a.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=uD([e.lockRef.current],(e.shards||[]).map(Ex),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=ou(v),m=n.current,g="deltaX"in v?v.deltaX:m[0]-x[0],b="deltaY"in v?v.deltaY:m[1]-x[1],C,N=v.target,P=Math.abs(g)>Math.abs(b)?"h":"v";if("touches"in v&&P==="h"&&N.type==="range")return!1;var O=Cx(P,N);if(!O)return!0;if(O?C=P:(C=P==="v"?"h":"v",O=Cx(P,N)),!O)return!1;if(!r.current&&"changedTouches"in v&&(g||b)&&(r.current=C),!C)return!0;var $=r.current||C;return FD($,_,v,$==="h"?g:b,!0)},[]),c=d.useCallback(function(v){var _=v;if(!(!Pi.length||Pi[Pi.length-1]!==i)){var x="deltaY"in _?Nx(_):ou(_),m=t.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&zD(C.delta,x)})[0];if(m&&m.should){_.cancelable&&_.preventDefault();return}if(!m){var g=(a.current.shards||[]).map(Ex).filter(Boolean).filter(function(C){return C.contains(_.target)}),b=g.length>0?l(_,g[0]):!a.current.noIsolation;b&&_.cancelable&&_.preventDefault()}}},[]),u=d.useCallback(function(v,_,x,m){var g={name:v,delta:_,target:x,should:m,shadowParent:WD(x)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(b){return b!==g})},1)},[]),f=d.useCallback(function(v){n.current=ou(v),r.current=void 0},[]),h=d.useCallback(function(v){u(v.type,Nx(v),v.target,l(v,e.lockRef.current))},[]),p=d.useCallback(function(v){u(v.type,ou(v),v.target,l(v,e.lockRef.current))},[]);d.useEffect(function(){return Pi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ti),document.addEventListener("touchmove",c,Ti),document.addEventListener("touchstart",f,Ti),function(){Pi=Pi.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ti),document.removeEventListener("touchmove",c,Ti),document.removeEventListener("touchstart",f,Ti)}},[]);var y=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(i,{styles:UD(s)}):null,y?d.createElement(AD,{gapMode:e.gapMode}):null)}function WD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VD=xD(FS,HD);var Wg=d.forwardRef(function(e,t){return d.createElement(tf,as({},e,{ref:t,sideCar:VD}))});Wg.classNames=tf.classNames;var KD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ri=new WeakMap,iu=new WeakMap,au={},hh=0,WS=function(e){return e&&(e.host||WS(e.parentNode))},qD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},GD=function(e,t,n,r){var s=qD(t,Array.isArray(e)?e:[e]);au[n]||(au[n]=new WeakMap);var i=au[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))f(p);else try{var y=p.getAttribute(r),w=y!==null&&y!=="false",v=(Ri.get(p)||0)+1,_=(i.get(p)||0)+1;Ri.set(p,v),i.set(p,_),a.push(p),v===1&&w&&iu.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return f(t),l.clear(),hh++,function(){a.forEach(function(h){var p=Ri.get(h)-1,y=i.get(h)-1;Ri.set(h,p),i.set(h,y),p||(iu.has(h)||h.removeAttribute(r),iu.delete(h)),y||h.removeAttribute(n)}),hh--,hh||(Ri=new WeakMap,Ri=new WeakMap,iu=new WeakMap,au={})}},VS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=KD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),GD(r,s,n,"aria-hidden")):function(){return null}},Vg="Dialog",[KS,qS]=Ao(Vg),[QD,Jr]=KS(Vg),GS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=d.useRef(null),c=d.useRef(null),[u=!1,f]=jo({prop:r,defaultProp:s,onChange:i});return o.jsx(QD,{scope:t,triggerRef:l,contentRef:c,contentId:ks(),titleId:ks(),descriptionId:ks(),open:u,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(h=>!h),[f]),modal:a,children:n})};GS.displayName=Vg;var QS="DialogTrigger",YS=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Jr(QS,n),i=tt(t,s.triggerRef);return o.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gg(s.open),...r,ref:i,onClick:ke(e.onClick,s.onOpenToggle)})});YS.displayName=QS;var Kg="DialogPortal",[YD,JS]=KS(Kg,{forceMount:void 0}),XS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Jr(Kg,t);return o.jsx(YD,{scope:t,forceMount:n,children:d.Children.map(r,a=>o.jsx(Ir,{present:n||i.open,children:o.jsx(Od,{asChild:!0,container:s,children:a})}))})};XS.displayName=Kg;var dd="DialogOverlay",ZS=d.forwardRef((e,t)=>{const n=JS(dd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Jr(dd,e.__scopeDialog);return i.modal?o.jsx(Ir,{present:r||i.open,children:o.jsx(JD,{...s,ref:t})}):null});ZS.displayName=dd;var JD=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Jr(dd,n);return o.jsx(Wg,{as:Ar,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(De.div,{"data-state":Gg(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),mi="DialogContent",e1=d.forwardRef((e,t)=>{const n=JS(mi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Jr(mi,e.__scopeDialog);return o.jsx(Ir,{present:r||i.open,children:i.modal?o.jsx(XD,{...s,ref:t}):o.jsx(ZD,{...s,ref:t})})});e1.displayName=mi;var XD=d.forwardRef((e,t)=>{const n=Jr(mi,e.__scopeDialog),r=d.useRef(null),s=tt(t,n.contentRef,r);return d.useEffect(()=>{const i=r.current;if(i)return VS(i)},[]),o.jsx(t1,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,i=>i.preventDefault())})}),ZD=d.forwardRef((e,t)=>{const n=Jr(mi,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return o.jsx(t1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),t1=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Jr(mi,n),c=d.useRef(null),u=tt(t,c);return LS(),o.jsxs(o.Fragment,{children:[o.jsx(Hg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(vc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Gg(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(tL,{titleId:l.titleId}),o.jsx(rL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qg="DialogTitle",n1=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Jr(qg,n);return o.jsx(De.h2,{id:s.titleId,...r,ref:t})});n1.displayName=qg;var r1="DialogDescription",s1=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Jr(r1,n);return o.jsx(De.p,{id:s.descriptionId,...r,ref:t})});s1.displayName=r1;var o1="DialogClose",i1=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Jr(o1,n);return o.jsx(De.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,()=>s.onOpenChange(!1))})});i1.displayName=o1;function Gg(e){return e?"open":"closed"}var a1="DialogTitleWarning",[eL,l1]=fk(a1,{contentName:mi,titleName:qg,docsSlug:"dialog"}),tL=({titleId:e})=>{const t=l1(a1),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},nL="DialogDescriptionWarning",rL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l1(nL).contentName}}.`;return d.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Qg=GS,c1=YS,Yg=XS,Sc=ZS,jc=e1,Cc=n1,Nc=s1,nf=i1;const sL=Qg,oL=Yg,u1=d.forwardRef(({className:e,...t},n)=>o.jsx(Sc,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));u1.displayName=Sc.displayName;const iL=Ua("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),d1=d.forwardRef(({side:e="right",className:t,children:n,...r},s)=>o.jsxs(oL,{children:[o.jsx(u1,{}),o.jsxs(jc,{ref:s,className:ae(iL({side:e}),t),...r,children:[n,o.jsxs(nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(di,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));d1.displayName=jc.displayName;const aL=d.forwardRef(({className:e,...t},n)=>o.jsx(Cc,{ref:n,className:ae("text-lg font-semibold text-foreground",e),...t}));aL.displayName=Cc.displayName;const lL=d.forwardRef(({className:e,...t},n)=>o.jsx(Nc,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));lL.displayName=Nc.displayName;function kx({className:e,...t}){return o.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",e),...t})}const cL="sidebar:state",uL=60*60*24*7,dL="16rem",fL="18rem",hL="3rem",pL="b",f1=d.createContext(null);function Ec(){const e=d.useContext(f1);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const h1=d.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:i,...a},l)=>{const c=ZI(),[u,f]=d.useState(!1),[h,p]=d.useState(e),y=t??h,w=d.useCallback(m=>{const g=typeof m=="function"?m(y):m;n?n(g):p(g),document.cookie=`${cL}=${g}; path=/; max-age=${uL}`},[n,y]),v=d.useCallback(()=>c?f(m=>!m):w(m=>!m),[c,w,f]);d.useEffect(()=>{const m=g=>{g.key===pL&&(g.metaKey||g.ctrlKey)&&(g.preventDefault(),v())};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[v]);const _=y?"expanded":"collapsed",x=d.useMemo(()=>({state:_,open:y,setOpen:w,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:v}),[_,y,w,c,u,f,v]);return o.jsx(f1.Provider,{value:x,children:o.jsx(Lb,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":dL,"--sidebar-width-icon":hL,...s},className:ae("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...a,children:i})})})});h1.displayName="SidebarProvider";const p1=d.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:f}=Ec();return n==="none"?o.jsx("div",{className:ae("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...i,children:s}):l?o.jsx(sL,{open:u,onOpenChange:f,...i,children:o.jsx(d1,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":fL},side:e,children:o.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):o.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[o.jsx("div",{className:ae("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:ae("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});p1.displayName="Sidebar";const m1=d.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=Ec();return o.jsxs(H,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ae("h-7 w-7",e),onClick:i=>{t==null||t(i),s()},...n,children:[o.jsx(sT,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});m1.displayName="SidebarTrigger";const mL=d.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Ec();return o.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ae("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});mL.displayName="SidebarRail";const gL=d.forwardRef(({className:e,...t},n)=>o.jsx("main",{ref:n,className:ae("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));gL.displayName="SidebarInset";const vL=d.forwardRef(({className:e,...t},n)=>o.jsx(Pe,{ref:n,"data-sidebar":"input",className:ae("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));vL.displayName="SidebarInput";const yL=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,"data-sidebar":"header",className:ae("flex flex-col gap-2 p-2",e),...t}));yL.displayName="SidebarHeader";const xL=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,"data-sidebar":"footer",className:ae("flex flex-col gap-2 p-2",e),...t}));xL.displayName="SidebarFooter";const wL=d.forwardRef(({className:e,...t},n)=>o.jsx(Gs,{ref:n,"data-sidebar":"separator",className:ae("mx-2 w-auto bg-sidebar-border",e),...t}));wL.displayName="SidebarSeparator";const g1=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,"data-sidebar":"content",className:ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));g1.displayName="SidebarContent";const v1=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,"data-sidebar":"group",className:ae("relative flex w-full min-w-0 flex-col p-2",e),...t}));v1.displayName="SidebarGroup";const y1=d.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Ar:"div";return o.jsx(s,{ref:r,"data-sidebar":"group-label",className:ae("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});y1.displayName="SidebarGroupLabel";const _L=d.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Ar:"button";return o.jsx(s,{ref:r,"data-sidebar":"group-action",className:ae("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});_L.displayName="SidebarGroupAction";const x1=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,"data-sidebar":"group-content",className:ae("w-full text-sm",e),...t}));x1.displayName="SidebarGroupContent";const w1=d.forwardRef(({className:e,...t},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu",className:ae("flex w-full min-w-0 flex-col gap-1",e),...t}));w1.displayName="SidebarMenu";const _1=d.forwardRef(({className:e,...t},n)=>o.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ae("group/menu-item relative",e),...t}));_1.displayName="SidebarMenuItem";const bL=Ua("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),b1=d.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:i,...a},l)=>{const c=e?Ar:"button",{isMobile:u,state:f}=Ec(),h=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:ae(bL({variant:n,size:r}),i),...a});return s?(typeof s=="string"&&(s={children:s}),o.jsxs(ZR,{children:[o.jsx(e2,{asChild:!0,children:h}),o.jsx(Mb,{side:"right",align:"center",hidden:f!=="collapsed"||u,...s})]})):h});b1.displayName="SidebarMenuButton";const SL=d.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const i=t?Ar:"button";return o.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ae("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});SL.displayName="SidebarMenuAction";const jL=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ae("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));jL.displayName="SidebarMenuBadge";const CL=d.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=d.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ae("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&o.jsx(kx,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(kx,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});CL.displayName="SidebarMenuSkeleton";const NL=d.forwardRef(({className:e,...t},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ae("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));NL.displayName="SidebarMenuSub";const EL=d.forwardRef(({...e},t)=>o.jsx("li",{ref:t,...e}));EL.displayName="SidebarMenuSubItem";const kL=d.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},i)=>{const a=e?Ar:"a";return o.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:ae("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});kL.displayName="SidebarMenuSubButton";const TL=[{title:"  ",url:"/admin/teachers",icon:cT,group:"management"},{title:" ",url:"/admin/textbooks",icon:ea,group:"management"},{title:" ",url:"/admin/materials",icon:Ld,group:"management"},{title:"  V2",url:"/admin/materials-v2",icon:pT,group:"management"},{title:" DB ",url:"/admin/images",icon:Zk,group:"management"},{title:" ",url:"/admin/users",icon:hT,group:"management"}],PL={management:"",system:""};function RL(){const{state:e}=Ec(),n=Oo().pathname,r=e==="collapsed",s=l=>n===l,i=l=>l?"bg-mango-green-light text-mango-green font-medium border-l-4 border-mango-green":"hover:bg-mango-green-soft text-muted-foreground hover:text-foreground transition-all duration-200",a=TL.reduce((l,c)=>(l[c.group]||(l[c.group]=[]),l[c.group].push(c),l),{});return o.jsx(p1,{className:`${r?"w-16":"w-64"} border-r border-border bg-card/30 backdrop-blur-sm`,children:o.jsx(g1,{className:"p-4",children:Object.entries(a).map(([l,c])=>o.jsxs(v1,{className:"mb-6",children:[!r&&o.jsx(y1,{className:"text-muted-foreground font-semibold mb-3 px-2",children:PL[l]}),o.jsx(x1,{children:o.jsx(w1,{children:c.map(u=>o.jsx(_1,{className:"mb-1",children:o.jsx(b1,{asChild:!0,children:o.jsxs(IA,{to:u.url,className:`flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 ${i(s(u.url))}`,children:[o.jsx(u.icon,{className:"h-5 w-5 flex-shrink-0"}),!r&&o.jsx("span",{className:"font-medium",children:u.title})]})})},u.title))})})]},l))})})}function AL(){const{signOut:e,user:t}=Bg(),n=Io(),r=async()=>{await e(),n("/login")};return o.jsx(h1,{children:o.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[o.jsx(RL,{}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:o.jsxs("div",{className:"flex items-center justify-between h-full px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(m1,{className:"lg:hidden"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-mango-green to-primary rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"M"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"MangoFactory"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"hidden sm:block text-right",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:(t==null?void 0:t.email)||""}),o.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-mango-green-light to-mango-green rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold",children:""})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:r,className:"hover:bg-destructive/10 hover:text-destructive",children:o.jsx(nT,{className:"w-4 h-4"})})]})]})}),o.jsx("main",{className:"flex-1 p-6 bg-background",children:o.jsx(wA,{})})]})]})})}const ph=({children:e})=>{const{isAuthenticated:t,loading:n}=Bg();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(xA,{to:"/login",replace:!0})},Vt=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vt.displayName="Card";const ln=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));ln.displayName="CardHeader";const pn=d.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));pn.displayName="CardTitle";const ls=d.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));ls.displayName="CardDescription";const dn=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));dn.displayName="CardContent";const OL=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));OL.displayName="CardFooter";var IL="Label",S1=d.forwardRef((e,t)=>o.jsx(De.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));S1.displayName=IL;var j1=S1;const DL=Ua("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=d.forwardRef(({className:e,...t},n)=>o.jsx(j1,{ref:n,className:ae(DL(),e),...t}));W.displayName=j1.displayName;function LL(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];function u(h){const{scope:p,children:y,...w}=h,v=(p==null?void 0:p[e][c])||l,_=d.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:_,children:y})}function f(h,p){const y=(p==null?void 0:p[e][c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,ML(s,...t)]}function ML(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var $L=d.createContext(void 0);function rf(e){const t=d.useContext($L);return e||t||"ltr"}var mh="rovingFocusGroup.onEntryFocus",FL={bubbles:!1,cancelable:!0},sf="RovingFocusGroup",[tm,C1,zL]=fg(sf),[UL,N1]=LL(sf,[zL]),[BL,HL]=UL(sf),E1=d.forwardRef((e,t)=>o.jsx(tm.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(tm.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(WL,{...e,ref:t})})}));E1.displayName=sf;var WL=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,p=d.useRef(null),y=tt(t,p),w=rf(i),[v=null,_]=jo({prop:a,defaultProp:l,onChange:c}),[x,m]=d.useState(!1),g=Wt(u),b=C1(n),C=d.useRef(!1),[N,P]=d.useState(0);return d.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(mh,g),()=>O.removeEventListener(mh,g)},[g]),o.jsx(BL,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:d.useCallback(O=>_(O),[_]),onItemShiftTab:d.useCallback(()=>m(!0),[]),onFocusableItemAdd:d.useCallback(()=>P(O=>O+1),[]),onFocusableItemRemove:d.useCallback(()=>P(O=>O-1),[]),children:o.jsx(De.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{C.current=!0}),onFocus:ke(e.onFocus,O=>{const $=!C.current;if(O.target===O.currentTarget&&$&&!x){const U=new CustomEvent(mh,FL);if(O.currentTarget.dispatchEvent(U),!U.defaultPrevented){const G=b().filter(re=>re.focusable),Z=G.find(re=>re.active),me=G.find(re=>re.id===v),ve=[Z,me,...G].filter(Boolean).map(re=>re.ref.current);P1(ve,f)}}C.current=!1}),onBlur:ke(e.onBlur,()=>m(!1))})})}),k1="RovingFocusGroupItem",T1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=e,l=ks(),c=i||l,u=HL(k1,n),f=u.currentTabStopId===c,h=C1(n),{onFocusableItemAdd:p,onFocusableItemRemove:y}=u;return d.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),o.jsx(tm.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(De.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:ke(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:ke(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ke(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=qL(w,u.orientation,u.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(m=>m.focusable).map(m=>m.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const m=x.indexOf(w.currentTarget);x=u.loop?GL(x,m+1):x.slice(m+1)}setTimeout(()=>P1(x))}})})})});T1.displayName=k1;var VL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qL(e,t,n){const r=KL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return VL[r]}function P1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function GL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var QL=E1,YL=T1,Jg="Tabs",[JL,g$]=Ao(Jg,[N1]),R1=N1(),[XL,Xg]=JL(Jg),A1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=rf(l),[h,p]=jo({prop:r,onChange:s,defaultProp:i});return o.jsx(XL,{scope:n,baseId:ks(),value:h,onValueChange:p,orientation:a,dir:f,activationMode:c,children:o.jsx(De.div,{dir:f,"data-orientation":a,...u,ref:t})})});A1.displayName=Jg;var O1="TabsList",I1=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Xg(O1,n),a=R1(n);return o.jsx(QL,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});I1.displayName=O1;var D1="TabsTrigger",L1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Xg(D1,n),l=R1(n),c=F1(a.baseId,r),u=z1(a.baseId,r),f=r===a.value;return o.jsx(YL,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(De.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ke(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:ke(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:ke(e.onFocus,()=>{const h=a.activationMode!=="manual";!f&&!s&&h&&a.onValueChange(r)})})})});L1.displayName=D1;var M1="TabsContent",$1=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=Xg(M1,n),c=F1(l.baseId,r),u=z1(l.baseId,r),f=r===l.value,h=d.useRef(f);return d.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(Ir,{present:s||f,children:({present:p})=>o.jsx(De.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});$1.displayName=M1;function F1(e,t){return`${e}-trigger-${t}`}function z1(e,t){return`${e}-content-${t}`}var ZL=A1,U1=I1,B1=L1,H1=$1;const Oa=ZL,gi=d.forwardRef(({className:e,...t},n)=>o.jsx(U1,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));gi.displayName=U1.displayName;const _n=d.forwardRef(({className:e,...t},n)=>o.jsx(B1,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));_n.displayName=B1.displayName;const bn=d.forwardRef(({className:e,...t},n)=>o.jsx(H1,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bn.displayName=H1.displayName;const eM=()=>{const[e,t]=d.useState(""),[n,r]=d.useState(""),[s,i]=d.useState(""),[a,l]=d.useState(!1),[c,u]=d.useState(!1),{signIn:f,signUp:h,isAuthenticated:p}=Bg(),y=Io(),{toast:w}=_i();d.useEffect(()=>{p&&y("/admin")},[p,y]);const v=async m=>{m.preventDefault(),u(!0);const{error:g}=await f(e,n);g?w({title:" ",description:g.message,variant:"destructive"}):(w({title:" ",description:"  ."}),y("/admin")),u(!1)},_=async m=>{m.preventDefault(),u(!0);try{const{data:g,error:b}=await se.functions.invoke("verify-admin-access",{body:{accessCode:s}});if(b)throw b;g.valid?(l(!0),w({title:"  ",description:"    ."})):w({title:"  ",description:"  .",variant:"destructive"})}catch(g){console.error("Error verifying access code:",g),w({title:"  ",description:"  .",variant:"destructive"})}u(!1)},x=async m=>{m.preventDefault(),u(!0);const{error:g}=await h(e,n);w(g?{title:" ",description:g.message,variant:"destructive"}:{title:" ",description:" ."}),u(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted/20 p-4",children:o.jsxs(Vt,{className:"w-full max-w-md",children:[o.jsxs(ln,{className:"text-center",children:[o.jsx(pn,{className:"text-2xl font-bold",children:"MANGO "}),o.jsx(ls,{children:"  "})]}),o.jsx(dn,{children:o.jsxs(Oa,{defaultValue:"code",className:"w-full",children:[o.jsxs(gi,{className:"grid w-full grid-cols-3",children:[o.jsx(_n,{value:"code",children:" "}),o.jsx(_n,{value:"signin",disabled:!a,children:""}),o.jsx(_n,{value:"signup",disabled:!a,children:""})]}),o.jsx(bn,{value:"code",children:o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"code",children:" "}),o.jsx(Pe,{id:"code",type:"text",placeholder:"",value:s,onChange:m=>i(m.target.value),required:!0})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:c||s.length===0,children:c?" ...":" "})]})}),o.jsx(bn,{value:"signin",children:o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"email",children:""}),o.jsx(Pe,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:m=>t(m.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"password",children:""}),o.jsx(Pe,{id:"password",type:"password",value:n,onChange:m=>r(m.target.value),required:!0})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:c,children:c?" ...":""})]})}),o.jsx(bn,{value:"signup",children:o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"signup-email",children:""}),o.jsx(Pe,{id:"signup-email",type:"email",placeholder:"admin@example.com",value:e,onChange:m=>t(m.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"signup-password",children:""}),o.jsx(Pe,{id:"signup-password",type:"password",value:n,onChange:m=>r(m.target.value),required:!0})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:c,children:c?" ...":""})]})})]})})]})})},tM=()=>{const e=Io(),[t,n]=d.useState(""),[r,s]=d.useState(!1),{toast:i}=_i(),a=async l=>{l.preventDefault(),s(!0);try{const{data:c,error:u}=await se.functions.invoke("verify-admin-access",{body:{accessCode:t}});if(u){console.error("Error verifying access code:",u),i({title:" ",description:"  .",variant:"destructive"});return}c!=null&&c.valid?(i({title:" ",description:"  ."}),e("/admin")):i({title:" ",description:"  .",variant:"destructive"})}catch(c){console.error("Error verifying access code:",c),i({title:" ",description:"  .",variant:"destructive"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-mango-green-soft via-background to-mango-green-light",children:o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center space-y-8",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-mango-green to-primary rounded-2xl flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"M"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"MangoFactory"}),o.jsx("p",{className:"text-muted-foreground",children:"   "})]})]}),o.jsxs(Vt,{className:"w-full max-w-md mx-auto",children:[o.jsxs(ln,{className:"text-center",children:[o.jsx(pn,{children:" "}),o.jsx(ls,{children:"  "})]}),o.jsxs(dn,{children:[o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"access-code",children:" "}),o.jsx(Pe,{id:"access-code",type:"text",placeholder:"",value:t,onChange:l=>n(l.target.value),required:!0})]}),o.jsx(H,{type:"submit",className:"w-full bg-mango-green hover:bg-mango-green/90",disabled:r||t.length===0,children:r?" ...":""})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:o.jsx(H,{variant:"outline",onClick:()=>e("/login"),className:"w-full",children:" "})})]})]})]})})})};function nM(){return o.jsx("div",{className:"space-y-8",children:o.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"     "})]})})})}const rM=Ua("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function it({className:e,variant:t,...n}){return o.jsx("div",{className:ae(rM({variant:t}),e),...n})}function nm(e,[t,n]){return Math.min(n,Math.max(t,e))}function W1(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sM=[" ","Enter","ArrowUp","ArrowDown"],oM=[" ","Enter"],kc="Select",[of,af,iM]=fg(kc),[Xa,v$]=Ao(kc,[iM,Ud]),lf=Ud(),[aM,Lo]=Xa(kc),[lM,cM]=Xa(kc),V1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:p,required:y,form:w}=e,v=lf(t),[_,x]=d.useState(null),[m,g]=d.useState(null),[b,C]=d.useState(!1),N=rf(u),[P=!1,O]=jo({prop:r,defaultProp:s,onChange:i}),[$,U]=jo({prop:a,defaultProp:l,onChange:c}),G=d.useRef(null),Z=_?w||!!_.closest("form"):!0,[me,ee]=d.useState(new Set),ve=Array.from(me).map(re=>re.props.value).join(";");return o.jsx(jb,{...v,children:o.jsxs(aM,{required:y,scope:t,trigger:_,onTriggerChange:x,valueNode:m,onValueNodeChange:g,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:ks(),value:$,onValueChange:U,open:P,onOpenChange:O,dir:N,triggerPointerDownPosRef:G,disabled:p,children:[o.jsx(of.Provider,{scope:t,children:o.jsx(lM,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(re=>{ee(ge=>new Set(ge).add(re))},[]),onNativeOptionRemove:d.useCallback(re=>{ee(ge=>{const L=new Set(ge);return L.delete(re),L})},[]),children:n})}),Z?o.jsxs(gj,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:h,value:$,onChange:re=>U(re.target.value),disabled:p,form:w,children:[$===void 0?o.jsx("option",{value:""}):null,Array.from(me)]},ve):null]})})};V1.displayName=kc;var K1="SelectTrigger",q1=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=lf(n),a=Lo(K1,n),l=a.disabled||r,c=tt(t,a.onTriggerChange),u=af(n),f=d.useRef("touch"),[h,p,y]=vj(v=>{const _=u().filter(g=>!g.disabled),x=_.find(g=>g.value===a.value),m=yj(_,v,x);m!==void 0&&a.onValueChange(m.value)}),w=v=>{l||(a.onOpenChange(!0),y()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(Cb,{asChild:!0,...i,children:o.jsx(De.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mj(a.value)?"":void 0,...s,ref:c,onClick:ke(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&w(v)}),onPointerDown:ke(s.onPointerDown,v=>{f.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ke(s.onKeyDown,v=>{const _=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(_&&v.key===" ")&&sM.includes(v.key)&&(w(),v.preventDefault())})})})});q1.displayName=K1;var G1="SelectValue",Q1=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=Lo(G1,n),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,h=tt(t,c.onValueNodeChange);return Cn(()=>{u(f)},[u,f]),o.jsx(De.span,{...l,ref:h,style:{pointerEvents:"none"},children:mj(c.value)?o.jsx(o.Fragment,{children:a}):i})});Q1.displayName=G1;var uM="SelectIcon",Y1=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(De.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});Y1.displayName=uM;var dM="SelectPortal",J1=e=>o.jsx(Od,{asChild:!0,...e});J1.displayName=dM;var vi="SelectContent",X1=d.forwardRef((e,t)=>{const n=Lo(vi,e.__scopeSelect),[r,s]=d.useState();if(Cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?wi.createPortal(o.jsx(Z1,{scope:e.__scopeSelect,children:o.jsx(of.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(ej,{...e,ref:t})});X1.displayName=vi;var $r=10,[Z1,Mo]=Xa(vi),fM="SelectContentImpl",ej=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:_,...x}=e,m=Lo(vi,n),[g,b]=d.useState(null),[C,N]=d.useState(null),P=tt(t,te=>b(te)),[O,$]=d.useState(null),[U,G]=d.useState(null),Z=af(n),[me,ee]=d.useState(!1),ve=d.useRef(!1);d.useEffect(()=>{if(g)return VS(g)},[g]),LS();const re=d.useCallback(te=>{const[de,...ye]=Z().map(Te=>Te.ref.current),[xe]=ye.slice(-1),Ae=document.activeElement;for(const Te of te)if(Te===Ae||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===de&&C&&(C.scrollTop=0),Te===xe&&C&&(C.scrollTop=C.scrollHeight),Te==null||Te.focus(),document.activeElement!==Ae))return},[Z,C]),ge=d.useCallback(()=>re([O,g]),[re,O,g]);d.useEffect(()=>{me&&ge()},[me,ge]);const{onOpenChange:L,triggerPointerDownPosRef:Q}=m;d.useEffect(()=>{if(g){let te={x:0,y:0};const de=xe=>{var Ae,Te;te={x:Math.abs(Math.round(xe.pageX)-(((Ae=Q.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Te=Q.current)==null?void 0:Te.y)??0))}},ye=xe=>{te.x<=10&&te.y<=10?xe.preventDefault():g.contains(xe.target)||L(!1),document.removeEventListener("pointermove",de),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ye,{capture:!0})}}},[g,L,Q]),d.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[ce,E]=vj(te=>{const de=Z().filter(Ae=>!Ae.disabled),ye=de.find(Ae=>Ae.ref.current===document.activeElement),xe=yj(de,te,ye);xe&&setTimeout(()=>xe.ref.current.focus())}),M=d.useCallback((te,de,ye)=>{const xe=!ve.current&&!ye;(m.value!==void 0&&m.value===de||xe)&&($(te),xe&&(ve.current=!0))},[m.value]),z=d.useCallback(()=>g==null?void 0:g.focus(),[g]),oe=d.useCallback((te,de,ye)=>{const xe=!ve.current&&!ye;(m.value!==void 0&&m.value===de||xe)&&G(te)},[m.value]),J=r==="popper"?rm:tj,V=J===rm?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return o.jsx(Z1,{scope:n,content:g,viewport:C,onViewportChange:N,itemRefCallback:M,selectedItem:O,onItemLeave:z,itemTextRefCallback:oe,focusSelectedItem:ge,selectedItemText:U,position:r,isPositioned:me,searchRef:ce,children:o.jsx(Wg,{as:Ar,allowPinchZoom:!0,children:o.jsx(Hg,{asChild:!0,trapped:m.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ke(s,te=>{var de;(de=m.trigger)==null||de.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:o.jsx(J,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:te=>te.preventDefault(),...x,...V,onPlaced:()=>ee(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ke(x.onKeyDown,te=>{const de=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!de&&te.key.length===1&&E(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let xe=Z().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(te.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ae=te.target,Te=xe.indexOf(Ae);xe=xe.slice(Te+1)}setTimeout(()=>re(xe)),te.preventDefault()}})})})})})})});ej.displayName=fM;var hM="SelectItemAlignedPosition",tj=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Lo(vi,n),a=Mo(vi,n),[l,c]=d.useState(null),[u,f]=d.useState(null),h=tt(t,P=>f(P)),p=af(n),y=d.useRef(!1),w=d.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:x,focusSelectedItem:m}=a,g=d.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&_&&x){const P=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),U=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=U.left-O.left,Te=$.left-Ae,ze=P.left-Te,qe=P.width+ze,Le=Math.max(qe,O.width),Ve=window.innerWidth-$r,ct=nm(Te,[$r,Math.max($r,Ve-Le)]);l.style.minWidth=qe+"px",l.style.left=ct+"px"}else{const Ae=O.right-U.right,Te=window.innerWidth-$.right-Ae,ze=window.innerWidth-P.right-Te,qe=P.width+ze,Le=Math.max(qe,O.width),Ve=window.innerWidth-$r,ct=nm(Te,[$r,Math.max($r,Ve-Le)]);l.style.minWidth=qe+"px",l.style.right=ct+"px"}const G=p(),Z=window.innerHeight-$r*2,me=v.scrollHeight,ee=window.getComputedStyle(u),ve=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),ge=parseInt(ee.borderBottomWidth,10),L=parseInt(ee.paddingBottom,10),Q=ve+re+me+L+ge,ce=Math.min(_.offsetHeight*5,Q),E=window.getComputedStyle(v),M=parseInt(E.paddingTop,10),z=parseInt(E.paddingBottom,10),oe=P.top+P.height/2-$r,J=Z-oe,V=_.offsetHeight/2,te=_.offsetTop+V,de=ve+re+te,ye=Q-de;if(de<=oe){const Ae=G.length>0&&_===G[G.length-1].ref.current;l.style.bottom="0px";const Te=u.clientHeight-v.offsetTop-v.offsetHeight,ze=Math.max(J,V+(Ae?z:0)+Te+ge),qe=de+ze;l.style.height=qe+"px"}else{const Ae=G.length>0&&_===G[0].ref.current;l.style.top="0px";const ze=Math.max(oe,ve+v.offsetTop+(Ae?M:0)+V)+ye;l.style.height=ze+"px",v.scrollTop=de-oe+v.offsetTop}l.style.margin=`${$r}px 0`,l.style.minHeight=ce+"px",l.style.maxHeight=Z+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,l,u,v,_,x,i.dir,r]);Cn(()=>g(),[g]);const[b,C]=d.useState();Cn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const N=d.useCallback(P=>{P&&w.current===!0&&(g(),m==null||m(),w.current=!1)},[g,m]);return o.jsx(mM,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:o.jsx(De.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tj.displayName=hM;var pM="SelectPopperPosition",rm=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=$r,...i}=e,a=lf(n);return o.jsx(Nb,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rm.displayName=pM;var[mM,Zg]=Xa(vi,{}),sm="SelectViewport",nj=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Mo(sm,n),a=Zg(sm,n),l=tt(t,i.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(of.Slot,{scope:n,children:o.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ke(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&h){const y=Math.abs(c.current-f.scrollTop);if(y>0){const w=window.innerHeight-$r*2,v=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),x=Math.max(v,_);if(x<w){const m=x+y,g=Math.min(w,m),b=m-g;h.style.height=g+"px",h.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});nj.displayName=sm;var rj="SelectGroup",[gM,vM]=Xa(rj),yM=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ks();return o.jsx(gM,{scope:n,id:s,children:o.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:t})})});yM.displayName=rj;var sj="SelectLabel",oj=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vM(sj,n);return o.jsx(De.div,{id:s.id,...r,ref:t})});oj.displayName=sj;var fd="SelectItem",[xM,ij]=Xa(fd),aj=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=Lo(fd,n),c=Mo(fd,n),u=l.value===r,[f,h]=d.useState(i??""),[p,y]=d.useState(!1),w=tt(t,m=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,m,r,s)}),v=ks(),_=d.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(xM,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:d.useCallback(m=>{h(g=>g||((m==null?void 0:m.textContent)??"").trim())},[]),children:o.jsx(of.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(De.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:ke(a.onFocus,()=>y(!0)),onBlur:ke(a.onBlur,()=>y(!1)),onClick:ke(a.onClick,()=>{_.current!=="mouse"&&x()}),onPointerUp:ke(a.onPointerUp,()=>{_.current==="mouse"&&x()}),onPointerDown:ke(a.onPointerDown,m=>{_.current=m.pointerType}),onPointerMove:ke(a.onPointerMove,m=>{var g;_.current=m.pointerType,s?(g=c.onItemLeave)==null||g.call(c):_.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(a.onPointerLeave,m=>{var g;m.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:ke(a.onKeyDown,m=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&m.key===" "||(oM.includes(m.key)&&x(),m.key===" "&&m.preventDefault())})})})})});aj.displayName=fd;var jl="SelectItemText",lj=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=Lo(jl,n),l=Mo(jl,n),c=ij(jl,n),u=cM(jl,n),[f,h]=d.useState(null),p=tt(t,x=>h(x),c.onItemTextChange,x=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,x,c.value,c.disabled)}),y=f==null?void 0:f.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=u;return Cn(()=>(v(w),()=>_(w)),[v,_,w]),o.jsxs(o.Fragment,{children:[o.jsx(De.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?wi.createPortal(i.children,a.valueNode):null]})});lj.displayName=jl;var cj="SelectItemIndicator",uj=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ij(cj,n).isSelected?o.jsx(De.span,{"aria-hidden":!0,...r,ref:t}):null});uj.displayName=cj;var om="SelectScrollUpButton",dj=d.forwardRef((e,t)=>{const n=Mo(om,e.__scopeSelect),r=Zg(om,e.__scopeSelect),[s,i]=d.useState(!1),a=tt(t,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(hj,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dj.displayName=om;var im="SelectScrollDownButton",fj=d.forwardRef((e,t)=>{const n=Mo(im,e.__scopeSelect),r=Zg(im,e.__scopeSelect),[s,i]=d.useState(!1),a=tt(t,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(hj,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fj.displayName=im;var hj=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Mo("SelectScrollButton",n),a=d.useRef(null),l=af(n),c=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Cn(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(De.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ke(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ke(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ke(s.onPointerLeave,()=>{c()})})}),wM="SelectSeparator",pj=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(De.div,{"aria-hidden":!0,...r,ref:t})});pj.displayName=wM;var am="SelectArrow",_M=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=lf(n),i=Lo(am,n),a=Mo(am,n);return i.open&&a.position==="popper"?o.jsx(Eb,{...s,...r,ref:t}):null});_M.displayName=am;function mj(e){return e===""||e===void 0}var gj=d.forwardRef((e,t)=>{const{value:n,...r}=e,s=d.useRef(null),i=tt(t,s),a=W1(n);return d.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[a,n]),o.jsx(yc,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});gj.displayName="BubbleSelect";function vj(e){const t=Wt(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function yj(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=bM(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function bM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var SM=V1,xj=q1,jM=Q1,CM=Y1,NM=J1,wj=X1,EM=nj,_j=oj,bj=aj,kM=lj,TM=uj,Sj=dj,jj=fj,Cj=pj;const Sr=SM,jr=jM,ur=d.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(xj,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(CM,{asChild:!0,children:o.jsx(V_,{className:"h-4 w-4 opacity-50"})})]}));ur.displayName=xj.displayName;const Nj=d.forwardRef(({className:e,...t},n)=>o.jsx(Sj,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Xk,{className:"h-4 w-4"})}));Nj.displayName=Sj.displayName;const Ej=d.forwardRef(({className:e,...t},n)=>o.jsx(jj,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(V_,{className:"h-4 w-4"})}));Ej.displayName=jj.displayName;const dr=d.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(NM,{children:o.jsxs(wj,{ref:s,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(Nj,{}),o.jsx(EM,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Ej,{})]})}));dr.displayName=wj.displayName;const PM=d.forwardRef(({className:e,...t},n)=>o.jsx(_j,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PM.displayName=_j.displayName;const Qt=d.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(bj,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(TM,{children:o.jsx(W_,{className:"h-4 w-4"})})}),o.jsx(kM,{children:t})]}));Qt.displayName=bj.displayName;const RM=d.forwardRef(({className:e,...t},n)=>o.jsx(Cj,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));RM.displayName=Cj.displayName;const fn=Qg,Qo=c1,AM=Yg,kj=d.forwardRef(({className:e,...t},n)=>o.jsx(Sc,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kj.displayName=Sc.displayName;const sn=d.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(AM,{children:[o.jsx(kj,{}),o.jsxs(jc,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(di,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sn.displayName=jc.displayName;const hn=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hn.displayName="DialogHeader";const on=d.forwardRef(({className:e,...t},n)=>o.jsx(Cc,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));on.displayName=Cc.displayName;const er=d.forwardRef(({className:e,...t},n)=>o.jsx(Nc,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));er.displayName=Nc.displayName;const Ia=d.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",e),...t})}));Ia.displayName="Table";const Da=d.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",e),...t}));Da.displayName="TableHeader";const La=d.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",e),...t}));La.displayName="TableBody";const OM=d.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));OM.displayName="TableFooter";const nr=d.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));nr.displayName="TableRow";const at=d.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));at.displayName="TableHead";const Xe=d.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xe.displayName="TableCell";const IM=d.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));IM.displayName="TableCaption";async function $l(e){const{data:{session:t}}=await se.auth.getSession();if(!t)throw new Error("Not authenticated");const n=Aa.anonKey;return{...{Authorization:`Bearer ${t.access_token}`,apikey:n},...e||{}}}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Tj,setPrototypeOf:Tx,isFrozen:DM,getPrototypeOf:LM,getOwnPropertyDescriptor:MM}=Object;let{freeze:Vn,seal:Or,create:Pj}=Object,{apply:lm,construct:cm}=typeof Reflect<"u"&&Reflect;Vn||(Vn=function(t){return t});Or||(Or=function(t){return t});lm||(lm=function(t,n,r){return t.apply(n,r)});cm||(cm=function(t,n){return new t(...n)});const lu=Kn(Array.prototype.forEach),$M=Kn(Array.prototype.lastIndexOf),Px=Kn(Array.prototype.pop),hl=Kn(Array.prototype.push),FM=Kn(Array.prototype.splice),ku=Kn(String.prototype.toLowerCase),gh=Kn(String.prototype.toString),Rx=Kn(String.prototype.match),pl=Kn(String.prototype.replace),zM=Kn(String.prototype.indexOf),UM=Kn(String.prototype.trim),Fr=Kn(Object.prototype.hasOwnProperty),zn=Kn(RegExp.prototype.test),ml=BM(TypeError);function Kn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return lm(e,t,r)}}function BM(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cm(e,n)}}function Ge(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ku;Tx&&Tx(e,null);let r=t.length;for(;r--;){let s=t[r];if(typeof s=="string"){const i=n(s);i!==s&&(DM(t)||(t[r]=i),s=i)}e[s]=!0}return e}function HM(e){for(let t=0;t<e.length;t++)Fr(e,t)||(e[t]=null);return e}function ws(e){const t=Pj(null);for(const[n,r]of Tj(e))Fr(e,n)&&(Array.isArray(r)?t[n]=HM(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=ws(r):t[n]=r);return t}function gl(e,t){for(;e!==null;){const r=MM(e,t);if(r){if(r.get)return Kn(r.get);if(typeof r.value=="function")return Kn(r.value)}e=LM(e)}function n(){return null}return n}const Ax=Vn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vh=Vn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),yh=Vn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),WM=Vn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xh=Vn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),VM=Vn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ox=Vn(["#text"]),Ix=Vn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wh=Vn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dx=Vn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cu=Vn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),KM=Or(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qM=Or(/<%[\w\W]*|[\w\W]*%>/gm),GM=Or(/\$\{[\w\W]*/gm),QM=Or(/^data-[\-\w.\u00B7-\uFFFF]+$/),YM=Or(/^aria-[\-\w]+$/),Rj=Or(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JM=Or(/^(?:\w+script|data):/i),XM=Or(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Aj=Or(/^html$/i),ZM=Or(/^[a-z][.\w]*(-[.\w]+)+$/i);var Lx=Object.freeze({__proto__:null,ARIA_ATTR:YM,ATTR_WHITESPACE:XM,CUSTOM_ELEMENT:ZM,DATA_ATTR:QM,DOCTYPE_NAME:Aj,ERB_EXPR:qM,IS_ALLOWED_URI:Rj,IS_SCRIPT_OR_DATA:JM,MUSTACHE_EXPR:KM,TMPLIT_EXPR:GM});const vl={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},e4=function(){return typeof window>"u"?null:window},t4=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Mx=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Oj(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e4();const t=_e=>Oj(_e);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==vl.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:y}=e,w=c.prototype,v=gl(w,"cloneNode"),_=gl(w,"remove"),x=gl(w,"nextSibling"),m=gl(w,"childNodes"),g=gl(w,"parentNode");if(typeof a=="function"){const _e=n.createElement("template");_e.content&&_e.content.ownerDocument&&(n=_e.content.ownerDocument)}let b,C="";const{implementation:N,createNodeIterator:P,createDocumentFragment:O,getElementsByTagName:$}=n,{importNode:U}=r;let G=Mx();t.isSupported=typeof Tj=="function"&&typeof g=="function"&&N&&N.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Z,ERB_EXPR:me,TMPLIT_EXPR:ee,DATA_ATTR:ve,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:Q}=Lx;let{IS_ALLOWED_URI:ce}=Lx,E=null;const M=Ge({},[...Ax,...vh,...yh,...xh,...Ox]);let z=null;const oe=Ge({},[...Ix,...wh,...Dx,...cu]);let J=Object.seal(Pj(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,te=null,de=!0,ye=!0,xe=!1,Ae=!0,Te=!1,ze=!0,qe=!1,Le=!1,Ve=!1,ct=!1,Dt=!1,Ze=!1,pt=!0,Jt=!1;const mt="user-content-";let nt=!0,Nt=!1,_t={},Kt=null;const st=Ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let gn=null;const Ft=Ge({},["audio","video","img","source","image","track"]);let vn=null;const Nn=Ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yn="http://www.w3.org/1998/Math/MathML",cn="http://www.w3.org/2000/svg",Xt="http://www.w3.org/1999/xhtml";let kt=Xt,bt=!1,Dn=null;const Ne=Ge({},[yn,cn,Xt],gh);let Ue=Ge({},["mi","mo","mn","ms","mtext"]),Me=Ge({},["annotation-xml"]);const Tt=Ge({},["title","style","font","a","script"]);let Ke=null;const Ln=["application/xhtml+xml","text/html"],wr="text/html";let vt=null,En=null;const I=n.createElement("form"),S=function(A){return A instanceof RegExp||A instanceof Function},k=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(En&&En===A)){if((!A||typeof A!="object")&&(A={}),A=ws(A),Ke=Ln.indexOf(A.PARSER_MEDIA_TYPE)===-1?wr:A.PARSER_MEDIA_TYPE,vt=Ke==="application/xhtml+xml"?gh:ku,E=Fr(A,"ALLOWED_TAGS")?Ge({},A.ALLOWED_TAGS,vt):M,z=Fr(A,"ALLOWED_ATTR")?Ge({},A.ALLOWED_ATTR,vt):oe,Dn=Fr(A,"ALLOWED_NAMESPACES")?Ge({},A.ALLOWED_NAMESPACES,gh):Ne,vn=Fr(A,"ADD_URI_SAFE_ATTR")?Ge(ws(Nn),A.ADD_URI_SAFE_ATTR,vt):Nn,gn=Fr(A,"ADD_DATA_URI_TAGS")?Ge(ws(Ft),A.ADD_DATA_URI_TAGS,vt):Ft,Kt=Fr(A,"FORBID_CONTENTS")?Ge({},A.FORBID_CONTENTS,vt):st,V=Fr(A,"FORBID_TAGS")?Ge({},A.FORBID_TAGS,vt):ws({}),te=Fr(A,"FORBID_ATTR")?Ge({},A.FORBID_ATTR,vt):ws({}),_t=Fr(A,"USE_PROFILES")?A.USE_PROFILES:!1,de=A.ALLOW_ARIA_ATTR!==!1,ye=A.ALLOW_DATA_ATTR!==!1,xe=A.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=A.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Te=A.SAFE_FOR_TEMPLATES||!1,ze=A.SAFE_FOR_XML!==!1,qe=A.WHOLE_DOCUMENT||!1,ct=A.RETURN_DOM||!1,Dt=A.RETURN_DOM_FRAGMENT||!1,Ze=A.RETURN_TRUSTED_TYPE||!1,Ve=A.FORCE_BODY||!1,pt=A.SANITIZE_DOM!==!1,Jt=A.SANITIZE_NAMED_PROPS||!1,nt=A.KEEP_CONTENT!==!1,Nt=A.IN_PLACE||!1,ce=A.ALLOWED_URI_REGEXP||Rj,kt=A.NAMESPACE||Xt,Ue=A.MATHML_TEXT_INTEGRATION_POINTS||Ue,Me=A.HTML_INTEGRATION_POINTS||Me,J=A.CUSTOM_ELEMENT_HANDLING||{},A.CUSTOM_ELEMENT_HANDLING&&S(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&S(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(ye=!1),Dt&&(ct=!0),_t&&(E=Ge({},Ox),z=[],_t.html===!0&&(Ge(E,Ax),Ge(z,Ix)),_t.svg===!0&&(Ge(E,vh),Ge(z,wh),Ge(z,cu)),_t.svgFilters===!0&&(Ge(E,yh),Ge(z,wh),Ge(z,cu)),_t.mathMl===!0&&(Ge(E,xh),Ge(z,Dx),Ge(z,cu))),A.ADD_TAGS&&(E===M&&(E=ws(E)),Ge(E,A.ADD_TAGS,vt)),A.ADD_ATTR&&(z===oe&&(z=ws(z)),Ge(z,A.ADD_ATTR,vt)),A.ADD_URI_SAFE_ATTR&&Ge(vn,A.ADD_URI_SAFE_ATTR,vt),A.FORBID_CONTENTS&&(Kt===st&&(Kt=ws(Kt)),Ge(Kt,A.FORBID_CONTENTS,vt)),nt&&(E["#text"]=!0),qe&&Ge(E,["html","head","body"]),E.table&&(Ge(E,["tbody"]),delete V.tbody),A.TRUSTED_TYPES_POLICY){if(typeof A.TRUSTED_TYPES_POLICY.createHTML!="function")throw ml('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof A.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ml('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=A.TRUSTED_TYPES_POLICY,C=b.createHTML("")}else b===void 0&&(b=t4(y,s)),b!==null&&typeof C=="string"&&(C=b.createHTML(""));Vn&&Vn(A),En=A}},D=Ge({},[...vh,...yh,...WM]),Y=Ge({},[...xh,...VM]),K=function(A){let ne=g(A);(!ne||!ne.tagName)&&(ne={namespaceURI:kt,tagName:"template"});const we=ku(A.tagName),gt=ku(ne.tagName);return Dn[A.namespaceURI]?A.namespaceURI===cn?ne.namespaceURI===Xt?we==="svg":ne.namespaceURI===yn?we==="svg"&&(gt==="annotation-xml"||Ue[gt]):!!D[we]:A.namespaceURI===yn?ne.namespaceURI===Xt?we==="math":ne.namespaceURI===cn?we==="math"&&Me[gt]:!!Y[we]:A.namespaceURI===Xt?ne.namespaceURI===cn&&!Me[gt]||ne.namespaceURI===yn&&!Ue[gt]?!1:!Y[we]&&(Tt[we]||!D[we]):!!(Ke==="application/xhtml+xml"&&Dn[A.namespaceURI]):!1},B=function(A){hl(t.removed,{element:A});try{g(A).removeChild(A)}catch{_(A)}},le=function(A,ne){try{hl(t.removed,{attribute:ne.getAttributeNode(A),from:ne})}catch{hl(t.removed,{attribute:null,from:ne})}if(ne.removeAttribute(A),A==="is")if(ct||Dt)try{B(ne)}catch{}else try{ne.setAttribute(A,"")}catch{}},Ee=function(A){let ne=null,we=null;if(Ve)A="<remove></remove>"+A;else{const Pt=Rx(A,/^[\r\n\t ]+/);we=Pt&&Pt[0]}Ke==="application/xhtml+xml"&&kt===Xt&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");const gt=b?b.createHTML(A):A;if(kt===Xt)try{ne=new p().parseFromString(gt,Ke)}catch{}if(!ne||!ne.documentElement){ne=N.createDocument(kt,"template",null);try{ne.documentElement.innerHTML=bt?C:gt}catch{}}const qt=ne.body||ne.documentElement;return A&&we&&qt.insertBefore(n.createTextNode(we),qt.childNodes[0]||null),kt===Xt?$.call(ne,qe?"html":"body")[0]:qe?ne.documentElement:qt},je=function(A){return P.call(A.ownerDocument||A,A,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},pe=function(A){return A instanceof h&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof f)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function"||typeof A.hasChildNodes!="function")},Ce=function(A){return typeof l=="function"&&A instanceof l};function Fe(_e,A,ne){lu(_e,we=>{we.call(t,A,ne,En)})}const rt=function(A){let ne=null;if(Fe(G.beforeSanitizeElements,A,null),pe(A))return B(A),!0;const we=vt(A.nodeName);if(Fe(G.uponSanitizeElement,A,{tagName:we,allowedTags:E}),ze&&A.hasChildNodes()&&!Ce(A.firstElementChild)&&zn(/<[/\w!]/g,A.innerHTML)&&zn(/<[/\w!]/g,A.textContent)||A.nodeType===vl.progressingInstruction||ze&&A.nodeType===vl.comment&&zn(/<[/\w]/g,A.data))return B(A),!0;if(!E[we]||V[we]){if(!V[we]&&Ut(we)&&(J.tagNameCheck instanceof RegExp&&zn(J.tagNameCheck,we)||J.tagNameCheck instanceof Function&&J.tagNameCheck(we)))return!1;if(nt&&!Kt[we]){const gt=g(A)||A.parentNode,qt=m(A)||A.childNodes;if(qt&&gt){const Pt=qt.length;for(let Zt=Pt-1;Zt>=0;--Zt){const ir=v(qt[Zt],!0);ir.__removalCount=(A.__removalCount||0)+1,gt.insertBefore(ir,x(A))}}}return B(A),!0}return A instanceof c&&!K(A)||(we==="noscript"||we==="noembed"||we==="noframes")&&zn(/<\/no(script|embed|frames)/i,A.innerHTML)?(B(A),!0):(Te&&A.nodeType===vl.text&&(ne=A.textContent,lu([Z,me,ee],gt=>{ne=pl(ne,gt," ")}),A.textContent!==ne&&(hl(t.removed,{element:A.cloneNode()}),A.textContent=ne)),Fe(G.afterSanitizeElements,A,null),!1)},zt=function(A,ne,we){if(pt&&(ne==="id"||ne==="name")&&(we in n||we in I))return!1;if(!(ye&&!te[ne]&&zn(ve,ne))){if(!(de&&zn(re,ne))){if(!z[ne]||te[ne]){if(!(Ut(A)&&(J.tagNameCheck instanceof RegExp&&zn(J.tagNameCheck,A)||J.tagNameCheck instanceof Function&&J.tagNameCheck(A))&&(J.attributeNameCheck instanceof RegExp&&zn(J.attributeNameCheck,ne)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(ne))||ne==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&zn(J.tagNameCheck,we)||J.tagNameCheck instanceof Function&&J.tagNameCheck(we))))return!1}else if(!vn[ne]){if(!zn(ce,pl(we,L,""))){if(!((ne==="src"||ne==="xlink:href"||ne==="href")&&A!=="script"&&zM(we,"data:")===0&&gn[A])){if(!(xe&&!zn(ge,pl(we,L,"")))){if(we)return!1}}}}}}return!0},Ut=function(A){return A!=="annotation-xml"&&Rx(A,Q)},yt=function(A){Fe(G.beforeSanitizeAttributes,A,null);const{attributes:ne}=A;if(!ne||pe(A))return;const we={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let gt=ne.length;for(;gt--;){const qt=ne[gt],{name:Pt,namespaceURI:Zt,value:ir}=qt,Xr=vt(Pt),$o=ir;let Gt=Pt==="value"?$o:UM($o);if(we.attrName=Xr,we.attrValue=Gt,we.keepAttr=!0,we.forceKeepAttr=void 0,Fe(G.uponSanitizeAttribute,A,we),Gt=we.attrValue,Jt&&(Xr==="id"||Xr==="name")&&(le(Pt,A),Gt=mt+Gt),ze&&zn(/((--!?|])>)|<\/(style|title)/i,Gt)){le(Pt,A);continue}if(we.forceKeepAttr)continue;if(!we.keepAttr){le(Pt,A);continue}if(!Ae&&zn(/\/>/i,Gt)){le(Pt,A);continue}Te&&lu([Z,me,ee],F=>{Gt=pl(Gt,F," ")});const R=vt(A.nodeName);if(!zt(R,Xr,Gt)){le(Pt,A);continue}if(b&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Zt)switch(y.getAttributeType(R,Xr)){case"TrustedHTML":{Gt=b.createHTML(Gt);break}case"TrustedScriptURL":{Gt=b.createScriptURL(Gt);break}}if(Gt!==$o)try{Zt?A.setAttributeNS(Zt,Pt,Gt):A.setAttribute(Pt,Gt),pe(A)?B(A):Px(t.removed)}catch{le(Pt,A)}}Fe(G.afterSanitizeAttributes,A,null)},Je=function _e(A){let ne=null;const we=je(A);for(Fe(G.beforeSanitizeShadowDOM,A,null);ne=we.nextNode();)Fe(G.uponSanitizeShadowNode,ne,null),rt(ne),yt(ne),ne.content instanceof i&&_e(ne.content);Fe(G.afterSanitizeShadowDOM,A,null)};return t.sanitize=function(_e){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=null,we=null,gt=null,qt=null;if(bt=!_e,bt&&(_e="<!-->"),typeof _e!="string"&&!Ce(_e))if(typeof _e.toString=="function"){if(_e=_e.toString(),typeof _e!="string")throw ml("dirty is not a string, aborting")}else throw ml("toString is not a function");if(!t.isSupported)return _e;if(Le||k(A),t.removed=[],typeof _e=="string"&&(Nt=!1),Nt){if(_e.nodeName){const ir=vt(_e.nodeName);if(!E[ir]||V[ir])throw ml("root node is forbidden and cannot be sanitized in-place")}}else if(_e instanceof l)ne=Ee("<!---->"),we=ne.ownerDocument.importNode(_e,!0),we.nodeType===vl.element&&we.nodeName==="BODY"||we.nodeName==="HTML"?ne=we:ne.appendChild(we);else{if(!ct&&!Te&&!qe&&_e.indexOf("<")===-1)return b&&Ze?b.createHTML(_e):_e;if(ne=Ee(_e),!ne)return ct?null:Ze?C:""}ne&&Ve&&B(ne.firstChild);const Pt=je(Nt?_e:ne);for(;gt=Pt.nextNode();)rt(gt),yt(gt),gt.content instanceof i&&Je(gt.content);if(Nt)return _e;if(ct){if(Dt)for(qt=O.call(ne.ownerDocument);ne.firstChild;)qt.appendChild(ne.firstChild);else qt=ne;return(z.shadowroot||z.shadowrootmode)&&(qt=U.call(r,qt,!0)),qt}let Zt=qe?ne.outerHTML:ne.innerHTML;return qe&&E["!doctype"]&&ne.ownerDocument&&ne.ownerDocument.doctype&&ne.ownerDocument.doctype.name&&zn(Aj,ne.ownerDocument.doctype.name)&&(Zt="<!DOCTYPE "+ne.ownerDocument.doctype.name+`>
`+Zt),Te&&lu([Z,me,ee],ir=>{Zt=pl(Zt,ir," ")}),b&&Ze?b.createHTML(Zt):Zt},t.setConfig=function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};k(_e),Le=!0},t.clearConfig=function(){En=null,Le=!1},t.isValidAttribute=function(_e,A,ne){En||k({});const we=vt(_e),gt=vt(A);return zt(we,gt,ne)},t.addHook=function(_e,A){typeof A=="function"&&hl(G[_e],A)},t.removeHook=function(_e,A){if(A!==void 0){const ne=$M(G[_e],A);return ne===-1?void 0:FM(G[_e],ne,1)[0]}return Px(G[_e])},t.removeHooks=function(_e){G[_e]=[]},t.removeAllHooks=function(){G=Mx()},t}var $x=Oj();const n4={false:{label:" ",color:"bg-orange-100 text-orange-700",icon:K_},true:{label:"",color:"bg-green-100 text-green-700",icon:yg}};function r4(){const[e,t]=d.useState([]),[n,r]=d.useState(null),[s,i]=d.useState(""),[a,l]=d.useState("pending"),[c,u]=d.useState(!1),[f,h]=d.useState(!0),{toast:p}=_i();d.useEffect(()=>{y()},[a]);const y=async()=>{try{h(!0);const{data:g,error:b}=await se.functions.invoke("admin-teacher-data",{body:{statusFilter:a},headers:await $l()});if(b)throw console.error("Edge function error:",b),b;if(!g||!g.data)throw new Error("Invalid response format");const C=g.data.map(N=>({teacher_info_id:N.teacher_info_id,user_id:N.user_id,teacher_verified:N.teacher_verified||!1,teacher_verification_file_path:N.teacher_verification_file_path,class_info:N.class_info,preferred_teaching_style:N.preferred_teaching_style,updated_at:N.updated_at,school_id:N.school_id,user_email:N.user_email,user_name:N.user_name}));t(C)}catch(g){console.error("Error fetching teachers:",g),p({title:"",description:"   .",variant:"destructive"})}finally{h(!1)}},w=e.filter(g=>g.user_name.toLowerCase().includes(s.toLowerCase())||g.user_email.toLowerCase().includes(s.toLowerCase())),v=g=>{r(g),u(!0)},_=async g=>{try{const{data:{session:b}}=await se.auth.getSession();if(!b)throw new Error("Not authenticated");const C=await fetch(`${Aa.url}/functions/v1/download-s3-file`,{method:"POST",headers:await $l({"Content-Type":"application/json"}),body:JSON.stringify({fileName:g})});if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const N=await C.blob(),P=window.URL.createObjectURL(N),O=document.createElement("a");O.href=P;const $=g.split("/").pop()||"verification-file";O.download=decodeURIComponent($),document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(P),p({title:" ",description:"  ."})}catch(b){console.error("Download error:",b),p({title:" ",description:"  .",variant:"destructive"})}},x=async g=>{try{const{data:{session:b}}=await se.auth.getSession();if(!b)throw new Error("Not authenticated");const C=await fetch(`${Aa.url}/rest/v1/teacher_info?teacher_info_id=eq.${g}`,{method:"PATCH",headers:await $l({"Content-Type":"application/json"}),body:JSON.stringify({teacher_verified:!0,updated_at:new Date().toISOString()})});if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);await y(),p({title:" ",description:"  ."}),u(!1)}catch(b){console.error("Approval error:",b),p({title:" ",description:"   .",variant:"destructive"})}},m=g=>{const b=n4[g.toString()],C=b.icon;return o.jsxs(it,{className:`${b.color} rounded-full`,children:[o.jsx(C,{className:"w-3 h-3 mr-1"}),b.label]})};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"  "}),o.jsx("p",{className:"text-muted-foreground",children:"     "})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(it,{variant:"secondary",className:"bg-orange-100 text-orange-700",children:[a==="pending"?" ":a==="approved"?" ":""," ",w.length,""]})})]}),o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl",children:[o.jsx(ln,{children:o.jsxs(pn,{className:"flex items-center gap-2",children:[o.jsx(xg,{className:"w-5 h-5"}),"  "]})}),o.jsx(dn,{children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Pe,{placeholder:",  ...",value:s,onChange:g=>i(g.target.value),className:"pl-10 rounded-full border-border"})]}),o.jsxs(Sr,{value:a,onValueChange:l,children:[o.jsx(ur,{className:"w-full sm:w-48 rounded-full",children:o.jsx(jr,{placeholder:" "})}),o.jsxs(dr,{children:[o.jsx(Qt,{value:"all",children:" "}),o.jsx(Qt,{value:"pending",children:" "}),o.jsx(Qt,{value:"approved",children:" "})]})]})]})})]}),o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl overflow-hidden",children:[o.jsxs(ln,{children:[o.jsx(pn,{children:"   "}),o.jsxs(ls,{children:[" ",w.length,"  "]})]}),o.jsx(dn,{className:"p-0",children:o.jsxs(Ia,{children:[o.jsx(Da,{children:o.jsxs(nr,{className:"bg-muted/50",children:[o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold text-center",children:""})]})}),o.jsx(La,{children:f?o.jsx(nr,{children:o.jsx(Xe,{colSpan:5,className:"text-center py-8",children:" ..."})}):w.length===0?o.jsx(nr,{children:o.jsx(Xe,{colSpan:5,className:"text-center py-8",children:a==="pending"?"    .":a==="approved"?"  .":" ."})}):w.map(g=>o.jsxs(nr,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Xe,{className:"font-medium",children:g.user_name}),o.jsx(Xe,{className:"text-muted-foreground",children:g.user_email}),o.jsx(Xe,{children:m(g.teacher_verified)}),o.jsx(Xe,{className:"text-muted-foreground",children:g.updated_at?new Date(g.updated_at).toLocaleDateString():"-"}),o.jsx(Xe,{className:"text-center",children:o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(g),className:"rounded-full",children:[o.jsx(Ba,{className:"w-4 h-4 mr-1"}),""]}),g.teacher_verification_file_path&&o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>_(g.teacher_verification_file_path),className:"rounded-full",children:[o.jsx(ui,{className:"w-4 h-4 mr-1"}),""]})]})})]},g.teacher_info_id))})]})})]}),o.jsx(fn,{open:c,onOpenChange:u,children:o.jsxs(sn,{className:"max-w-2xl rounded-2xl",children:[o.jsxs(hn,{children:[o.jsxs(on,{className:"flex items-center gap-2",children:[o.jsx(fT,{className:"w-5 h-5"}),"  "]}),o.jsx(er,{children:"      "})]}),n&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"text-foreground font-semibold",children:n.user_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"text-foreground",children:n.user_email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),o.jsx("div",{className:"text-foreground",dangerouslySetInnerHTML:{__html:$x.sanitize(n.class_info?JSON.stringify(n.class_info,null,2).replace(/\n/g,"<br>"):" ")}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),o.jsx("p",{className:"text-foreground",children:n.updated_at?new Date(n.updated_at).toLocaleString():"-"})]})]}),n.teacher_verification_file_path&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(it,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(Ld,{className:"w-3 h-3"}),$x.sanitize(n.teacher_verification_file_path.split("/").pop()||"")]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>_(n.teacher_verification_file_path),className:"rounded-full",children:[o.jsx(ui,{className:"w-4 h-4 mr-1"}),""]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),o.jsx("div",{children:m(n.teacher_verified)})]}),!n.teacher_verified&&o.jsx("div",{className:"flex gap-3 pt-4",children:o.jsxs(H,{onClick:()=>x(n.teacher_info_id),className:"flex-1 bg-green-600 hover:bg-green-700 text-white rounded-full",children:[o.jsx(yg,{className:"w-4 h-4 mr-2"}),""]})})]})]})})]})}const On=d.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));On.displayName="Textarea";const cf=({className:e,...t})=>o.jsx("nav",{role:"navigation","aria-label":"pagination",className:ae("mx-auto flex w-full justify-center",e),...t});cf.displayName="Pagination";const uf=d.forwardRef(({className:e,...t},n)=>o.jsx("ul",{ref:n,className:ae("flex flex-row items-center gap-1",e),...t}));uf.displayName="PaginationContent";const ds=d.forwardRef(({className:e,...t},n)=>o.jsx("li",{ref:n,className:ae("",e),...t}));ds.displayName="PaginationItem";const Za=({className:e,isActive:t,size:n="icon",...r})=>o.jsx("a",{"aria-current":t?"page":void 0,className:ae(ef({variant:t?"outline":"ghost",size:n}),e),...r});Za.displayName="PaginationLink";const df=({className:e,...t})=>o.jsxs(Za,{"aria-label":"Go to previous page",size:"default",className:ae("gap-1 pl-2.5",e),...t,children:[o.jsx(gg,{className:"h-4 w-4"}),o.jsx("span",{children:"Previous"})]});df.displayName="PaginationPrevious";const ff=({className:e,...t})=>o.jsxs(Za,{"aria-label":"Go to next page",size:"default",className:ae("gap-1 pr-2.5",e),...t,children:[o.jsx("span",{children:"Next"}),o.jsx(vg,{className:"h-4 w-4"})]});ff.displayName="PaginationNext";function s4(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var ev="ScrollArea",[Ij,y$]=Ao(ev),[o4,Dr]=Ij(ev),Dj=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=d.useState(null),[u,f]=d.useState(null),[h,p]=d.useState(null),[y,w]=d.useState(null),[v,_]=d.useState(null),[x,m]=d.useState(0),[g,b]=d.useState(0),[C,N]=d.useState(!1),[P,O]=d.useState(!1),$=tt(t,G=>c(G)),U=rf(s);return o.jsx(o4,{scope:n,type:r,dir:U,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:P,onScrollbarYEnabledChange:O,onCornerWidthChange:m,onCornerHeightChange:b,children:o.jsx(De.div,{dir:U,...a,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":g+"px",...e.style}})})});Dj.displayName=ev;var Lj="ScrollAreaViewport",Mj=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...a}=e,l=Dr(Lj,n),c=d.useRef(null),u=tt(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),o.jsx(De.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m4({asChild:s,children:r},f=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});Mj.displayName=Lj;var ms="ScrollAreaScrollbar",tv=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Dr(ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(i4,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(a4,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx($j,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(nv,{...r,ref:t}):null});tv.displayName=ms;var i4=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Dr(ms,e.__scopeScrollArea),[i,a]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},f=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Ir,{present:n||i,children:o.jsx($j,{"data-state":i?"visible":"hidden",...r,ref:t})})}),a4=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Dr(ms,e.__scopeScrollArea),i=e.orientation==="horizontal",a=pf(()=>c("SCROLL_END"),100),[l,c]=s4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const y=u[f];h!==y&&(c("SCROLL"),a()),h=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(Ir,{present:n||l!=="hidden",children:o.jsx(nv,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),$j=d.forwardRef((e,t)=>{const n=Dr(ms,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=d.useState(!1),l=e.orientation==="horizontal",c=pf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:f)}},10);return Ma(n.viewport,c),Ma(n.content,c),o.jsx(Ir,{present:r||i,children:o.jsx(nv,{"data-state":i?"visible":"hidden",...s,ref:t})})}),nv=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Dr(ms,e.__scopeScrollArea),i=d.useRef(null),a=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Hj(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function h(p,y){return h4(p,a.current,l,y)}return n==="horizontal"?o.jsx(l4,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,y=Fx(p,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?o.jsx(c4,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,y=Fx(p,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),l4=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Dr(ms,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=tt(t,c,i.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(zj,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),Vj(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:pd(a.paddingLeft),paddingEnd:pd(a.paddingRight)}})}})}),c4=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Dr(ms,e.__scopeScrollArea),[a,l]=d.useState(),c=d.useRef(null),u=tt(t,c,i.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(zj,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),Vj(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:pd(a.paddingTop),paddingEnd:pd(a.paddingBottom)}})}})}),[u4,Fj]=Ij(ms),zj=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=e,y=Dr(ms,n),[w,v]=d.useState(null),_=tt(t,$=>v($)),x=d.useRef(null),m=d.useRef(""),g=y.viewport,b=r.content-r.viewport,C=Wt(f),N=Wt(c),P=pf(h,10);function O($){if(x.current){const U=$.clientX-x.current.left,G=$.clientY-x.current.top;u({x:U,y:G})}}return d.useEffect(()=>{const $=U=>{const G=U.target;(w==null?void 0:w.contains(G))&&C(U,b)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[g,w,b,C]),d.useEffect(N,[r,N]),Ma(w,P),Ma(y.content,P),o.jsx(u4,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Wt(i),onThumbPointerUp:Wt(a),onThumbPositionChange:N,onThumbPointerDown:Wt(l),children:o.jsx(De.div,{...p,ref:_,style:{position:"absolute",...p.style},onPointerDown:ke(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),x.current=w.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),O($))}),onPointerMove:ke(e.onPointerMove,O),onPointerUp:ke(e.onPointerUp,$=>{const U=$.target;U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=m.current,y.viewport&&(y.viewport.style.scrollBehavior=""),x.current=null})})})}),hd="ScrollAreaThumb",Uj=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Fj(hd,e.__scopeScrollArea);return o.jsx(Ir,{present:n||s.hasThumb,children:o.jsx(d4,{ref:t,...r})})}),d4=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Dr(hd,n),a=Fj(hd,n),{onThumbPositionChange:l}=a,c=tt(t,h=>a.onThumbChange(h)),u=d.useRef(),f=pf(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(f(),!u.current){const y=p4(h,l);u.current=y,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,f,l]),o.jsx(De.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ke(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),w=h.clientX-y.left,v=h.clientY-y.top;a.onThumbPointerDown({x:w,y:v})}),onPointerUp:ke(e.onPointerUp,a.onThumbPointerUp)})});Uj.displayName=hd;var rv="ScrollAreaCorner",Bj=d.forwardRef((e,t)=>{const n=Dr(rv,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(f4,{...e,ref:t}):null});Bj.displayName=rv;var f4=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Dr(rv,n),[i,a]=d.useState(0),[l,c]=d.useState(0),u=!!(i&&l);return Ma(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Ma(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),a(f)}),u?o.jsx(De.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function pd(e){return e?parseInt(e,10):0}function Hj(e,t){const n=e/t;return isNaN(n)?0:n}function hf(e){const t=Hj(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function h4(e,t,n,r="ltr"){const s=hf(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return Wj([c,u],h)(e)}function Fx(e,t,n="ltr"){const r=hf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=nm(e,c);return Wj([0,a],[0,l])(u)}function Wj(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Vj(e,t){return e>0&&e<t}var p4=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function pf(e,t){const n=Wt(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ma(e,t){const n=Wt(t);Cn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function m4(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=d.Children.only(r);return d.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var Kj=Dj,g4=Mj,v4=Bj;const md=d.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Kj,{ref:r,className:ae("relative overflow-hidden",e),...n,children:[o.jsx(g4,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(qj,{}),o.jsx(v4,{})]}));md.displayName=Kj.displayName;const qj=d.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(tv,{ref:r,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(Uj,{className:"relative flex-1 rounded-full bg-border"})}));qj.displayName=tv.displayName;function y4({isOpen:e,onOpenChange:t,rawCourseMaterialId:n,courseMaterialName:r}){const[s,i]=d.useState([]),[a,l]=d.useState([]),[c,u]=d.useState(!1),[f,h]=d.useState(!1),[p,y]=d.useState(""),[w,v]=d.useState(null),[_,x]=d.useState(null),[m,g]=d.useState(!1),[b,C]=d.useState(!1),{toast:N}=_i(),P=()=>`course_structure_draft_${n}`;d.useEffect(()=>{e&&n&&O()},[e,n]),d.useEffect(()=>{g(JSON.stringify(s)!==JSON.stringify(a))},[s,a]);const O=()=>{try{const E=P(),M=localStorage.getItem(E);if(M){const z=JSON.parse(M);i(z.structure),l(JSON.parse(JSON.stringify(z.structure))),C(z.isLoaded),console.log("Loaded draft from localStorage")}else i([]),l([]),C(!1)}catch(E){console.error("Error loading draft from localStorage:",E),i([]),l([]),C(!1)}},$=(E,M=b)=>{try{const z=P(),oe={structure:E,lastModified:new Date().toISOString(),isLoaded:M};localStorage.setItem(z,JSON.stringify(oe))}catch(z){console.error("Error saving draft to localStorage:",z)}},U=async()=>{u(!0),console.log("Loading course structure for rawCourseMaterialId:",n);try{const{data:E,error:M}=await se.from("course_materials").select("course_structure").eq("raw_course_material_id",n).maybeSingle();if(M)throw M;let z=E==null?void 0:E.course_structure;if(typeof z=="string")try{z=JSON.parse(z)}catch(V){console.error("Failed to parse course_structure:",V),z=[]}const J=(z||[]).map((V,te)=>{let de=V;if(typeof V=="string")try{de=JSON.parse(V)}catch(xe){console.error("Failed to parse section:",xe),de={section_weeks:[]}}const ye=Array.isArray(de.section_weeks)?de.section_weeks:[];return{course_section_id:de.course_section_id||te+1,section_name:de.section_name||`${te+1}`,section_weeks:ye.map(xe=>({section_content_order:String(xe.section_content_order??""),section_content_name:xe.section_content_name||"",content_pages:Array.isArray(xe.content_pages)?xe.content_pages:[]}))}});i(J),l(JSON.parse(JSON.stringify(J))),C(!0),$(J,!0),N({title:" ",description:"   ."})}catch(E){console.error("Error loading course structure:",E),N({title:" ",description:"   .",variant:"destructive"})}finally{u(!1)}},G=async()=>{h(!0);try{const E=s.map(oe=>({course_section_id:oe.course_section_id,section_name:oe.section_name,section_objectives:"",section_description:"",section_common_content:"",section_pages:[],section_weeks:oe.section_weeks.map(J=>({section_content_order:J.section_content_order,section_content_name:J.section_content_name,section_content_objectives:"",section_original_content:"",text_content:"",content_pages:J.content_pages}))})),{error:M}=await se.from("raw_course_materials").update({registered_course_structure:E}).eq("raw_course_material_id",n);if(M)throw console.error("Save error:",M),new Error(M.message||"     .");const z=JSON.parse(JSON.stringify(s));l(z),g(!1),C(!0),$(s,!0),N({title:" ",description:"   ."})}catch(E){console.error("Error saving course structure:",E),N({title:" ",description:E.message||"   .",variant:"destructive"})}finally{h(!1)}},Z=(E,M)=>{const z=[...s];z[E].section_name=M,i(z),$(z)},me=(E,M,z,oe)=>{const J=[...s];if(z==="content_pages"&&typeof oe=="string"){J[E].section_weeks[M].content_pages_raw=oe;const V=[];if(oe.trim()!=="")if(oe.includes("-")){const te=oe.split("-");if(te.length===2){const de=parseInt(te[0].trim()),ye=parseInt(te[1].trim());if(!isNaN(de)&&!isNaN(ye)&&de<=ye)for(let xe=de;xe<=ye;xe++)V.push(xe)}}else if(oe.includes(","))oe.split(",").forEach(te=>{const de=parseInt(te.trim());isNaN(de)||V.push(de)});else{const te=parseInt(oe.trim());isNaN(te)||V.push(te)}J[E].section_weeks[M].content_pages=V}else J[E].section_weeks[M][z]=oe;i(J),$(J)},ee=()=>{const E={course_section_id:s.length+1,section_name:`${s.length+1}`,section_weeks:[]},M=[...s,E];i(M),$(M)},ve=E=>{const M=s.filter((z,oe)=>oe!==E);i(M),$(M),v(null)},re=E=>{const M=[...s],z={section_content_order:"",section_content_name:"",content_pages:[]};M[E].section_weeks.push(z),i(M),$(M)},ge=(E,M)=>{const z=[...s];z[E].section_weeks=z[E].section_weeks.filter((oe,J)=>J!==M),i(z),$(z),x(null)},L=()=>{const E=JSON.parse(JSON.stringify(a));i(E),$(E),v(null),x(null),g(!1)},Q=E=>{if(!E||E.length===0)return"";if(E.length===1)return E[0].toString();const M=[...E].sort((z,oe)=>z-oe);return M.length>1&&M[M.length-1]-M[0]===M.length-1?`${M[0]}-${M[M.length-1]}`:M.join(", ")},ce=s.filter(E=>p===""||E.section_name.toLowerCase().includes(p.toLowerCase())||E.section_weeks.some(M=>M.section_content_name.toLowerCase().includes(p.toLowerCase())));return o.jsx(fn,{open:e,onOpenChange:t,children:o.jsxs(sn,{className:"max-w-6xl max-h-[90vh] flex flex-col",onInteractOutside:E=>E.preventDefault(),children:[o.jsx(hn,{children:o.jsxs(on,{className:"flex items-center gap-2",children:[o.jsx(ea,{className:"w-5 h-5"}),"    - ",r]})}),o.jsxs("div",{className:"flex items-center justify-between gap-4 py-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ha,{className:"w-4 h-4 text-muted-foreground"}),o.jsx(Pe,{placeholder:"/ ...",value:p,onChange:E=>y(E.target.value),className:"w-64"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(H,{variant:"outline",size:"sm",onClick:U,disabled:c,className:"rounded-full",children:[o.jsx(ui,{className:"w-4 h-4 mr-1"}),c?" ...":" "]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:ee,className:"rounded-full",children:[o.jsx(pr,{className:"w-4 h-4 mr-1"})," "]}),m&&o.jsxs(H,{variant:"outline",size:"sm",onClick:L,className:"rounded-full",children:[o.jsx(G_,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(H,{onClick:G,disabled:f,className:"rounded-full",children:[o.jsx(ta,{className:"w-4 h-4 mr-1"}),f?"...":""]})]})]}),o.jsx(md,{className:"flex-1 h-[60vh] overflow-y-auto",children:c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):!b&&ce.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"   ."}),o.jsxs(H,{onClick:U,disabled:c,children:[o.jsx(ui,{className:"w-4 h-4 mr-2"})," "]})]}):ce.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"  ."})}):o.jsx("div",{className:"space-y-6 pr-6 pb-4",children:ce.map((E,M)=>o.jsxs(Vt,{className:"border-border",children:[o.jsx(ln,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(it,{variant:"secondary",className:"text-sm",children:[M+1,""]}),w===M?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pe,{value:E.section_name,onChange:z=>Z(M,z.target.value),className:"font-semibold"}),o.jsx(H,{size:"sm",onClick:()=>v(null),className:"rounded-full",children:o.jsx(ta,{className:"w-4 h-4"})})]}):o.jsx(pn,{className:"cursor-pointer hover:text-primary transition-colors",onClick:()=>v(M),children:E.section_name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(H,{variant:"outline",size:"sm",onClick:()=>v(w===M?null:M),className:"rounded-full",children:o.jsx(Ki,{className:"w-4 h-4"})}),o.jsx(H,{variant:"outline",size:"sm",onClick:()=>ve(M),className:"rounded-full text-red-500 hover:text-red-600",children:o.jsx(wn,{className:"w-4 h-4"})})]})]})}),o.jsx(dn,{children:o.jsxs("div",{className:"space-y-3",children:[E.section_weeks.map((z,oe)=>o.jsxs("div",{className:"border rounded-lg p-4 bg-muted/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs(it,{variant:"outline",className:"text-xs",children:[" ",oe+1]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>x((_==null?void 0:_.unit)===M&&(_==null?void 0:_.chapter)===oe?null:{unit:M,chapter:oe}),className:"rounded-full",children:o.jsx(Ki,{className:"w-3 h-3"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>ge(M,oe),className:"rounded-full text-red-500 hover:text-red-600",children:o.jsx(wn,{className:"w-3 h-3"})})]})]}),(_==null?void 0:_.unit)===M&&(_==null?void 0:_.chapter)===oe?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs",children:""}),o.jsx(Pe,{value:z.section_content_name,onChange:J=>me(M,oe,"section_content_name",J.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs",children:" "}),o.jsx(Pe,{value:z.section_content_order,onChange:J=>me(M,oe,"section_content_order",J.target.value),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs",children:" (: 1-5  1,3,5)"}),o.jsx(Pe,{value:z.content_pages_raw||Q(z.content_pages||[]),onChange:J=>me(M,oe,"content_pages",J.target.value),className:"mt-1",placeholder:"1-5  1,3,5"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"font-medium",children:z.section_content_name})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:" "}),o.jsx("p",{className:"text-sm",children:z.section_content_order})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:""}),o.jsx("p",{className:"text-sm",children:Q(z.content_pages)||" "})]})]})]},oe)),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>re(M),className:"w-full rounded-full",children:[o.jsx(pr,{className:"w-4 h-4 mr-1"})," "]})]})})]},M))})})]})})}function x4(){var Tt,Ke,Ln,wr,vt,En,I;const[e,t]=d.useState([]),[n,r]=d.useState([]),[s,i]=d.useState([]),[a,l]=d.useState([]),[c,u]=d.useState(null),[f,h]=d.useState(""),[p,y]=d.useState(""),[w,v]=d.useState(""),[_,x]=d.useState(""),[m,g]=d.useState(!1),[b,C]=d.useState(!1),[N,P]=d.useState(!1),[O,$]=d.useState(new Set),[U,G]=d.useState(!1),[Z,me]=d.useState(null),[ee,ve]=d.useState(!1),[re,ge]=d.useState(null),[L,Q]=d.useState(1),[ce]=d.useState(10),[E,M]=d.useState(!1),[z,oe]=d.useState(null),{toast:J}=_i(),[V,te]=d.useState({course_name:"",course_grade:"",course_semester_id:"",course_type_id:"",publisher_id:"",new_publisher_name:"",course_material_name:"",course_material_desc:"",file:null}),[de,ye]=d.useState([]),[xe,Ae]=d.useState("basic"),[Te,ze]=d.useState(!1),qe=["","1","2","3","4","5","6"];d.useEffect(()=>{Le(),Ve(),ct(),Dt()},[]);const Le=async()=>{try{const{data:S,error:k}=await se.from("raw_course_materials").select(`
          raw_course_material_id,
          course_material_name,
          course_material_path,
          course_material_desc,
          created_at,
          courses!raw_course_materials_course_id_fkey (
            course_name,
            course_grade,
            course_semester_id,
            course_types!courses_course_type_id_fkey (course_type_name),
            course_material_publishers!courses_course_material_publisher_id_fkey (course_material_publisher_name)
          )
        `).order("created_at",{ascending:!1});if(k)throw k;const D=await Promise.all((S||[]).map(async Y=>{const{data:K}=await se.from("course_materials").select("created_at, updated_at, generation_status_type_id").eq("raw_course_material_id",Y.raw_course_material_id).maybeSingle(),B=Array.isArray(Y.courses)?Y.courses[0]:Y.courses||{},le=Array.isArray(B==null?void 0:B.course_types)?B.course_types[0]:B==null?void 0:B.course_types,Ee=Array.isArray(B==null?void 0:B.course_material_publishers)?B.course_material_publishers[0]:B==null?void 0:B.course_material_publishers;return{...{...Y,courses:{...B,course_types:le,course_material_publishers:Ee}},courseMaterial:K||void 0}}));t(D)}catch(S){console.error("Error loading raw materials:",S),J({title:" ",description:"   .",variant:"destructive"})}},Ve=async()=>{try{const{data:S,error:k}=await se.from("course_types").select("course_type_id, course_type_name").order("course_type_name");if(k)throw k;r(S||[])}catch(S){console.error("Error loading course types:",S)}},ct=async()=>{try{const{data:S,error:k}=await se.from("course_material_publishers").select("course_material_publisher_id, course_material_publisher_name").order("course_material_publisher_name");if(k)throw k;i(S||[])}catch(S){console.error("Error loading publishers:",S)}},Dt=async()=>{try{const{data:S,error:k}=await se.from("course_semesters").select("course_semester_id, course_semester_name").order("course_semester_id");if(k)throw k;l(S||[])}catch(S){console.error("Error loading course semesters:",S)}},Ze=e.filter(S=>{var B,le,Ee,je,pe,Ce,Fe,rt;const k=S.course_material_name.toLowerCase().includes(f.toLowerCase())||((Ee=(le=(B=S.courses)==null?void 0:B.course_material_publishers)==null?void 0:le.course_material_publisher_name)==null?void 0:Ee.toLowerCase().includes(f.toLowerCase())),D=p===""||((je=S.courses)==null?void 0:je.course_grade)===p,Y=w===""||((Ce=(pe=S.courses)==null?void 0:pe.course_types)==null?void 0:Ce.course_type_name)===w,K=_===""||((rt=(Fe=S.courses)==null?void 0:Fe.course_material_publishers)==null?void 0:rt.course_material_publisher_name)===_;return k&&D&&Y&&K}),pt=Math.ceil(Ze.length/ce),Jt=(L-1)*ce,mt=Jt+ce,nt=Ze.slice(Jt,mt),Nt=[...new Set(e.map(S=>{var k,D;return(D=(k=S.courses)==null?void 0:k.course_types)==null?void 0:D.course_type_name}).filter(Boolean))],_t=[...new Set(e.map(S=>{var k,D;return(D=(k=S.courses)==null?void 0:k.course_material_publishers)==null?void 0:D.course_material_publisher_name}).filter(Boolean))],Kt=S=>{u(S),g(!0)},st=S=>{oe(S),M(!0)},gn=async()=>{var Y;let S=!1,k="";for(let K=0;K<de.length;K++){const B=de[K];for(let le=0;le<B.section_weeks.length;le++){const Ee=B.section_weeks[le];if(!Ee.section_content_name||Ee.section_content_name.trim()===""){S=!0,k=` ${K+1}  ${le+1}   .`;break}if(!Ee.section_content_order||Ee.section_content_order.trim()===""){S=!0,k=` ${K+1}  ${le+1}   .`;break}if(Ee.content_pages.length===0){S=!0,k=` ${K+1}  ${le+1}    .`;break}}if(S)break}if(S){J({title:" ",description:k,variant:"destructive"});return}console.log("Publisher validation:",{publisher_id:V.publisher_id,new_publisher_name:V.new_publisher_name,new_publisher_name_trimmed:(Y=V.new_publisher_name)==null?void 0:Y.trim()});const D=V.publisher_id&&V.publisher_id!=="new"||V.publisher_id==="new"&&V.new_publisher_name&&V.new_publisher_name.trim();if(!V.course_name||!V.course_grade||!V.course_semester_id||!V.course_type_id||!D||!V.course_material_name||!V.file&&!U){J({title:" ",description:"   .",variant:"destructive"});return}P(!0);try{let K=V.publisher_id,B=null;if(K==="new"&&V.new_publisher_name&&V.new_publisher_name.trim()){console.log("Creating new publisher:",V.new_publisher_name.trim());const{data:Ce,error:Fe}=await se.from("course_material_publishers").insert({course_material_publisher_name:V.new_publisher_name.trim(),course_material_publisher_desc:`  : ${V.new_publisher_name.trim()}`}).select("course_material_publisher_id").single();if(Fe)throw console.error("Publisher creation error:",Fe),Fe;B=Ce.course_material_publisher_id,console.log("New publisher created with ID:",B),await ct()}else K&&K!=="new"&&(B=parseInt(K));if(!B)throw new Error("    .");console.log("Using publisher ID:",B);const le=V.course_grade.replace(/[^0-9]/g,""),{data:Ee}=await se.from("courses").select("course_id").eq("course_name",V.course_name).eq("course_grade",le).eq("course_type_id",parseInt(V.course_type_id)).eq("course_semester_id",parseInt(V.course_semester_id)).eq("course_material_publisher_id",B).order("course_id",{ascending:!1});let je;if(Ee&&Ee.length>0)je=Ee[0].course_id;else{const Ce=V.course_grade.replace(/[^0-9]/g,""),{data:Fe,error:rt}=await se.from("courses").insert({course_name:V.course_name,course_type_id:parseInt(V.course_type_id),course_semester_id:parseInt(V.course_semester_id),course_material_publisher_id:B,course_grade:Ce}).select("course_id").single();if(rt)throw rt;je=Fe.course_id}let pe=null;if(V.file){const{data:Ce,error:Fe}=await se.functions.invoke("upload-s3-file",{body:{fileName:V.file.name,folder:"course_materials"}});if(Fe)throw Fe;if(!Ce.success)throw new Error(Ce.error||"presigned URL  .");const rt=await fetch(Ce.presignedUrl,{method:"PUT",body:V.file,mode:"cors",headers:{"Content-Type":V.file.type||"application/octet-stream"}});if(!rt.ok){const zt=await rt.text().catch(()=>"Unknown error");throw new Error(`  : ${rt.status} ${rt.statusText} - ${zt}`)}pe=Ce.filePath}if(U&&Z){const Ce={course_material_name:V.course_material_name,course_material_desc:V.course_material_desc,course_id:je,registered_course_structure:Te?[]:de.length>0?de:[]};pe&&(Ce.course_material_path=pe);const{error:Fe}=await se.from("raw_course_materials").update(Ce).eq("raw_course_material_id",Z.raw_course_material_id);if(Fe)throw Fe;J({title:" ",description:"  ."})}else{if(!pe)throw new Error(" .");const{error:Ce}=await se.from("raw_course_materials").insert({course_id:je,course_material_name:V.course_material_name,course_material_path:pe,course_material_desc:V.course_material_desc,registered_course_structure:[]});if(Ce)throw Ce;J({title:" ",description:"  ."})}te({course_name:"",course_grade:"",course_semester_id:"",course_type_id:"",publisher_id:"",new_publisher_name:"",course_material_name:"",course_material_desc:"",file:null}),ye([]),Ae("basic"),C(!1),G(!1),me(null),ze(!1),await Le(),await ct()}catch(K){console.error("Upload error:",K),J({title:U?" ":" ",description:U?"    .":"    .",variant:"destructive"})}finally{P(!1)}},Ft=async S=>{$(k=>new Set(k).add(S));try{const{data:k,error:D}=await se.functions.invoke("analyze-course-material",{body:{raw_course_material_id:S}});if(D)throw new Error(D.message);if(k!=null&&k.success)J({title:"AI  ",description:" AI  ."}),await Le();else throw new Error((k==null?void 0:k.error)||"AI  ")}catch(k){console.error("AI Analysis error:",k)}},vn=async S=>{var k,D,Y,K,B,le,Ee,je;me(S),G(!0);try{const{data:pe,error:Ce}=await se.from("raw_course_materials").select("course_id, registered_course_structure").eq("raw_course_material_id",S.raw_course_material_id).single();if(Ce)throw console.warn("Raw material data not found:",Ce),Ce;const{data:Fe,error:rt}=await se.from("courses").select("course_type_id, course_material_publisher_id").eq("course_id",pe.course_id).single();rt&&console.warn("Course data not found:",rt),te({course_name:((k=S.courses)==null?void 0:k.course_name)||"",course_grade:((D=S.courses)==null?void 0:D.course_grade)||"",course_semester_id:(((Y=S.courses)==null?void 0:Y.course_semester_id)??"").toString(),course_type_id:((K=Fe==null?void 0:Fe.course_type_id)==null?void 0:K.toString())||"",publisher_id:((B=Fe==null?void 0:Fe.course_material_publisher_id)==null?void 0:B.toString())||"",new_publisher_name:"",course_material_name:S.course_material_name,course_material_desc:S.course_material_desc,file:null}),pe.registered_course_structure&&Array.isArray(pe.registered_course_structure)?ye(pe.registered_course_structure):ye([])}catch(pe){console.error("Error loading course data:",pe),te({course_name:((le=S.courses)==null?void 0:le.course_name)||"",course_grade:((Ee=S.courses)==null?void 0:Ee.course_grade)||"",course_semester_id:(((je=S.courses)==null?void 0:je.course_semester_id)??"").toString(),course_type_id:"",publisher_id:"",new_publisher_name:"",course_material_name:S.course_material_name,course_material_desc:S.course_material_desc,file:null}),ye([])}Ae("basic"),C(!0)},Nn=()=>{G(!1),me(null),ze(!1),te({course_name:"",course_grade:"",course_semester_id:"",course_type_id:"",publisher_id:"",new_publisher_name:"",course_material_name:"",course_material_desc:"",file:null}),ye([]),Ae("basic"),C(!0)},yn=S=>{ge(S),ve(!0)},cn=async()=>{if(re){console.log("Attempting to delete material:",re.raw_course_material_id);try{if(re.course_material_path)try{const{data:D,error:Y}=await se.functions.invoke("delete-s3-file",{body:{filePath:re.course_material_path}});Y?console.warn("S3 file deletion failed:",Y):D!=null&&D.success&&console.log("S3 file deleted successfully")}catch(D){console.warn("S3 file deletion error:",D)}const{data:S,error:k}=await se.from("raw_course_materials").delete().eq("raw_course_material_id",re.raw_course_material_id).select();if(console.log("Delete response:",{data:S,error:k}),k)throw k;console.log("Deleted rows:",S),J({title:" ",description:"  ."}),await Le(),ve(!1),ge(null)}catch(S){console.error("Delete error:",S),J({title:" ",description:"    .",variant:"destructive"})}}},Xt=()=>{const S={course_section_id:de.length+1,section_name:"",section_objectives:"",section_description:"",section_weeks:[],section_common_content:"",section_pages:[]};ye([...de,S])},kt=(S,k,D)=>{const Y=[...de];Y[S]={...Y[S],[k]:D},ye(Y)},bt=S=>{const k=de.filter((D,Y)=>Y!==S);ye(k)},Dn=S=>{const k=[...de],D={section_content_order:"1",section_content_name:"",section_content_objectives:"",section_original_content:"",text_content:"",content_pages:[]};k[S].section_weeks.push(D),ye(k)},Ne=(S,k,D,Y)=>{const K=parseInt(D),B=parseInt(Y);if(D===""||Y===""){const pe=[...de];pe[S].section_weeks[k].content_pages=[],ye(pe);return}if(isNaN(K)||isNaN(B)||K>B){const pe=[...de];pe[S].section_weeks[k].content_pages=[],ye(pe);return}const le=[];for(let pe=K;pe<=B;pe++)le.push(pe);const Ee=[...de];Ee[S].section_weeks[k].content_pages=le;const je=Ee[S].section_weeks.flatMap(pe=>pe.content_pages);Ee[S].section_pages=[...new Set(je)].sort((pe,Ce)=>pe-Ce),ye(Ee)},Ue=(S,k)=>{const D=[...de];D[S].section_weeks=D[S].section_weeks.filter((K,B)=>B!==k),D[S].section_weeks.forEach((K,B)=>{K.section_content_order=`${B+1}`});const Y=D[S].section_weeks.flatMap(K=>K.content_pages);D[S].section_pages=[...new Set(Y)].sort((K,B)=>K-B),ye(D)},Me=S=>{if(O.has(S.raw_course_material_id))return o.jsx(it,{className:"bg-blue-100 text-blue-700 rounded-full",children:""});if(!S.courseMaterial)return o.jsx(it,{className:"bg-gray-100 text-gray-700 rounded-full",children:""});const{created_at:k,updated_at:D,generation_status_type_id:Y}=S.courseMaterial,K=new Date(k),B=new Date(D);return B>K&&Y===4?o.jsx(it,{className:"bg-green-100 text-green-700 rounded-full",children:""}):B<=K?o.jsx(it,{className:"bg-blue-100 text-blue-700 rounded-full",children:""}):o.jsx(it,{className:"bg-red-100 text-red-700 rounded-full",children:""})};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"   "})]}),o.jsxs(fn,{open:b,onOpenChange:C,children:[o.jsx(Qo,{asChild:!0,children:o.jsxs(H,{className:"bg-mango-green hover:bg-mango-green/90 text-white rounded-full",onClick:Nn,children:[o.jsx(pr,{className:"w-4 h-4 mr-2"})," "]})}),o.jsxs(sn,{className:"max-w-4xl rounded-2xl max-h-[90vh] overflow-hidden",children:[o.jsxs(hn,{children:[o.jsx(on,{children:U?" ":"  "}),o.jsx(er,{children:U?"  ":"   "})]}),o.jsxs(Oa,{value:xe,onValueChange:Ae,className:"h-full",children:[o.jsxs(gi,{className:"grid w-full grid-cols-2",children:[o.jsx(_n,{value:"basic",children:" "}),o.jsx(_n,{value:"structure",children:"  "})]}),o.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)] mt-4 pb-16",children:[o.jsxs(bn,{value:"basic",className:"space-y-4 pb-8",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"course_name",children:"  *"}),o.jsx(Pe,{id:"course_name",value:V.course_name,onChange:S=>te(k=>({...k,course_name:S.target.value})),placeholder:"  "})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"course_grade",children:" *"}),o.jsxs(Sr,{value:V.course_grade,onValueChange:S=>te(k=>({...k,course_grade:S})),children:[o.jsx(ur,{children:o.jsx(jr,{placeholder:" "})}),o.jsx(dr,{children:qe.filter(S=>S!=="").map(S=>o.jsx(Qt,{value:S,children:S},S))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"course_semester",children:" *"}),o.jsxs(Sr,{value:V.course_semester_id,onValueChange:S=>te(k=>({...k,course_semester_id:S})),children:[o.jsx(ur,{children:o.jsx(jr,{placeholder:" "})}),o.jsx(dr,{className:"bg-background border border-border shadow-md z-50",children:a.map(S=>o.jsx(Qt,{value:S.course_semester_id.toString(),children:S.course_semester_name},S.course_semester_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"course_type",children:" *"}),o.jsxs(Sr,{value:V.course_type_id,onValueChange:S=>te(k=>({...k,course_type_id:S})),children:[o.jsx(ur,{children:o.jsx(jr,{placeholder:" "})}),o.jsx(dr,{children:n.map(S=>o.jsx(Qt,{value:S.course_type_id.toString(),children:S.course_type_name},S.course_type_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"publisher",children:" *"}),o.jsxs(Sr,{value:V.publisher_id,onValueChange:S=>te(k=>({...k,publisher_id:S,new_publisher_name:""})),children:[o.jsx(ur,{children:o.jsx(jr,{placeholder:" "})}),o.jsxs(dr,{children:[o.jsx(Qt,{value:"new",children:"  "}),s.map(S=>o.jsx(Qt,{value:S.course_material_publisher_id.toString(),children:S.course_material_publisher_name},S.course_material_publisher_id))]})]})]}),V.publisher_id==="new"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"new_publisher",children:"  *"}),o.jsx(Pe,{id:"new_publisher",value:V.new_publisher_name,onChange:S=>te(k=>({...k,new_publisher_name:S.target.value})),placeholder:" "})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"material_name",children:"  *"}),o.jsx(Pe,{id:"material_name",value:V.course_material_name,onChange:S=>te(k=>({...k,course_material_name:S.target.value})),placeholder:"  "})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"material_desc",children:" "}),o.jsx(On,{id:"material_desc",value:V.course_material_desc,onChange:S=>te(k=>({...k,course_material_desc:S.target.value})),placeholder:"   ",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"file",children:"  *"}),U&&Z&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[" : ",Z.course_material_path.split("/").pop()]}),o.jsx(Pe,{id:"file",type:"file",onChange:S=>te(k=>{var D;return{...k,file:((D=S.target.files)==null?void 0:D[0])||null}}),accept:".pdf,.doc,.docx,.ppt,.pptx"}),U&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"      ."})]})]}),o.jsx(bn,{value:"structure",className:"space-y-4 pb-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:" "}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(H,{type:"button",onClick:()=>ze(!0),variant:"outline",className:"rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 hover:from-purple-600 hover:to-pink-600",children:[o.jsx(xo,{className:"w-4 h-4 mr-2"})," "]}),o.jsxs(H,{type:"button",onClick:Xt,variant:"outline",className:"rounded-full",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"})," "]})]})]}),Te?o.jsxs("div",{className:"relative min-h-[400px] bg-muted/10 rounded-lg border-2 border-dashed border-muted-foreground/20",children:[o.jsx("div",{className:"absolute inset-0 bg-background/60 backdrop-blur-sm rounded-lg"}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"animate-pulse mb-4",children:o.jsx(xo,{className:"w-12 h-12 text-green-500"})}),o.jsx("h3",{className:"text-xl font-semibold text-green-600 mb-2",children:"AI  "}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"   AI "}),o.jsx(H,{variant:"outline",onClick:()=>ze(!1),className:"rounded-full",children:"  "})]})]}):de.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"    "}):o.jsx("div",{className:"space-y-6",children:de.map((S,k)=>o.jsxs(Vt,{className:"border border-border rounded-lg",children:[o.jsx(ln,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(pn,{className:"text-base",children:[" ",k+1]}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>bt(k),className:"text-destructive hover:text-destructive",children:o.jsx(Cy,{className:"w-4 h-4"})})]})}),o.jsxs(dn,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx(W,{children:" ()"}),o.jsx(Pe,{value:S.section_name,onChange:D=>kt(k,"section_name",D.target.value),placeholder:" "})]}),o.jsxs("div",{children:[o.jsx(W,{children:"  ()"}),o.jsx(On,{value:S.section_objectives,onChange:D=>kt(k,"section_objectives",D.target.value),placeholder:"  ",rows:2})]}),o.jsxs("div",{children:[o.jsx(W,{children:"  ()"}),o.jsx(On,{value:S.section_description,onChange:D=>kt(k,"section_description",D.target.value),placeholder:"  ",rows:2})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"font-medium",children:" "}),o.jsxs(H,{type:"button",onClick:()=>Dn(k),variant:"outline",size:"sm",className:"rounded-full",children:[o.jsx(pr,{className:"w-3 h-3 mr-1"})," "]})]}),S.section_weeks.length===0?o.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"   "}):o.jsx("div",{className:"space-y-4",children:S.section_weeks.map((D,Y)=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("span",{className:"text-sm font-medium",children:[" ",Y+1]}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Ue(k,Y),className:"text-destructive hover:text-destructive p-1",children:o.jsx(Cy,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs font-medium",children:"  *"}),o.jsx(Pe,{value:D.section_content_name,placeholder:"  ",className:"h-8 mt-1",onChange:K=>{const B=[...de];B[k].section_weeks[Y].section_content_name=K.target.value,ye(B)}})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs font-medium",children:"  *"}),o.jsx(Pe,{type:"text",value:D.section_content_order,placeholder:"(e.g. 1-3)",className:"h-8 mt-1",onChange:K=>{const B=[...de];B[k].section_weeks[Y].section_content_order=K.target.value,ye(B)}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs font-medium",children:"  *"}),o.jsx(Pe,{type:"number",placeholder:"1",value:D.content_pages.length>0?D.content_pages[0]:"",className:"h-8 mt-1",onChange:K=>{const B=D.content_pages.length>0?D.content_pages[D.content_pages.length-1].toString():K.target.value;Ne(k,Y,K.target.value,B)}})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs font-medium",children:"  *"}),o.jsx(Pe,{type:"number",placeholder:"5",value:D.content_pages.length>0?D.content_pages[D.content_pages.length-1]:"",className:"h-8 mt-1",onChange:K=>{const B=D.content_pages.length>0?D.content_pages[0].toString():"1";Ne(k,Y,B,K.target.value)}})]})]})]},Y))})]})]})]},k))})]})})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsx(H,{onClick:gn,className:"w-full bg-mango-green hover:bg-mango-green/90",disabled:N,children:N?o.jsxs(o.Fragment,{children:[o.jsx(Ea,{className:"w-4 h-4 mr-2 animate-spin"}),U?" ...":" ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ea,{className:"w-4 h-4 mr-2"}),U?" ":" "]})})})]})]})]})]}),o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl",children:[o.jsx(ln,{children:o.jsxs(pn,{className:"flex items-center gap-2",children:[o.jsx(xg,{className:"w-5 h-5"}),"  "]})}),o.jsx(dn,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Pe,{placeholder:",  ...",value:f,onChange:S=>h(S.target.value),className:"pl-10 rounded-full"})]}),o.jsxs(Sr,{value:p,onValueChange:y,children:[o.jsx(ur,{className:"rounded-full",children:o.jsx(jr,{})}),o.jsx(dr,{children:qe.map(S=>o.jsx(Qt,{value:S,children:S},S))})]}),o.jsxs(Sr,{value:w,onValueChange:v,children:[o.jsx(ur,{className:"rounded-full",children:o.jsx(jr,{})}),o.jsxs(dr,{children:[o.jsx(Qt,{value:"",children:""}),Nt.map(S=>o.jsx(Qt,{value:S,children:S},S))]})]}),o.jsxs(Sr,{value:_,onValueChange:x,children:[o.jsx(ur,{className:"rounded-full",children:o.jsx(jr,{})}),o.jsxs(dr,{children:[o.jsx(Qt,{value:"",children:""}),_t.map(S=>o.jsx(Qt,{value:S,children:S},S))]})]})]})})]}),o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl overflow-hidden",children:[o.jsxs(ln,{children:[o.jsx(pn,{children:" "}),o.jsxs(ls,{children:[" ",Ze.length," "]})]}),o.jsxs(dn,{className:"p-0",children:[o.jsxs(Ia,{children:[o.jsx(Da,{children:o.jsxs(nr,{className:"bg-muted/50",children:[o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold",children:""}),o.jsx(at,{className:"font-semibold text-center",children:""})]})}),o.jsx(La,{children:nt.map(S=>{var k,D,Y,K,B,le;return o.jsxs(nr,{className:"hover:bg-muted/30 transition-colors",children:[o.jsx(Xe,{className:"font-medium",children:S.course_material_name}),o.jsx(Xe,{children:(k=S.courses)==null?void 0:k.course_name}),o.jsx(Xe,{children:(D=S.courses)==null?void 0:D.course_grade}),o.jsx(Xe,{children:(K=(Y=S.courses)==null?void 0:Y.course_types)==null?void 0:K.course_type_name}),o.jsx(Xe,{children:(le=(B=S.courses)==null?void 0:B.course_material_publishers)==null?void 0:le.course_material_publisher_name}),o.jsx(Xe,{className:"text-muted-foreground",children:new Date(S.created_at).toLocaleDateString()}),o.jsx(Xe,{children:Me(S)}),o.jsx(Xe,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>Kt(S),className:"rounded-full",children:[o.jsx(Ba,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>st(S),disabled:!S.courseMaterial||S.courseMaterial.generation_status_type_id!==4,className:"rounded-full bg-blue-50 text-blue-600 border border-blue-200 hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(tT,{className:"w-4 h-4 mr-1"})," "]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>Ft(S.raw_course_material_id),disabled:O.has(S.raw_course_material_id),className:"rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50",children:[o.jsx(xo,{className:"w-4 h-4 mr-1"}),O.has(S.raw_course_material_id)?"":"AI "]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>vn(S),className:"rounded-full bg-orange-50 text-orange-600 border border-orange-200 hover:bg-orange-100",children:[o.jsx(Md,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>yn(S),className:"rounded-full bg-red-50 text-red-500 border border-red-200 hover:bg-red-100",children:[o.jsx(wn,{className:"w-4 h-4 mr-1"}),""]})]})})]},S.raw_course_material_id)})})]}),pt>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(cf,{children:o.jsxs(uf,{children:[o.jsx(ds,{children:o.jsx(df,{href:"#",onClick:S=>{S.preventDefault(),L>1&&Q(L-1)},className:L===1?"pointer-events-none opacity-50":""})}),Array.from({length:pt},(S,k)=>k+1).map(S=>o.jsx(ds,{children:o.jsx(Za,{href:"#",onClick:k=>{k.preventDefault(),Q(S)},isActive:S===L,children:S})},S)),o.jsx(ds,{children:o.jsx(ff,{href:"#",onClick:S=>{S.preventDefault(),L<pt&&Q(L+1)},className:L===pt?"pointer-events-none opacity-50":""})})]})})})]})]}),o.jsx(fn,{open:m,onOpenChange:g,children:o.jsxs(sn,{className:"max-w-3xl rounded-2xl",children:[o.jsx(hn,{children:o.jsxs(on,{className:"flex items-center gap-2",children:[o.jsx(ea,{className:"w-5 h-5"}),"  "]})}),c&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1 font-medium",children:c.course_material_name})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1",children:(Tt=c.courses)==null?void 0:Tt.course_name})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1",children:(Ke=c.courses)==null?void 0:Ke.course_grade})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1",children:(()=>{var D,Y;const S=Number((D=c.courses)==null?void 0:D.course_semester_id),k=a.find(K=>K.course_semester_id===S);return(k==null?void 0:k.course_semester_name)||`ID ${(Y=c.courses)==null?void 0:Y.course_semester_id}`})()})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1",children:(wr=(Ln=c.courses)==null?void 0:Ln.course_types)==null?void 0:wr.course_type_name})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1",children:(En=(vt=c.courses)==null?void 0:vt.course_material_publishers)==null?void 0:En.course_material_publisher_name})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1",children:new Date(c.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("div",{className:"mt-1",children:Me(c)})]})]})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:""}),o.jsx("p",{className:"mt-1 text-sm leading-relaxed",children:c.course_material_desc||" ."})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm font-medium text-muted-foreground",children:" "}),o.jsx("p",{className:"mt-1 text-sm text-muted-foreground font-mono",children:c.course_material_path})]})]})]})}),o.jsx(fn,{open:ee,onOpenChange:ve,children:o.jsxs(sn,{className:"max-w-md rounded-2xl",children:[o.jsxs(hn,{children:[o.jsxs(on,{className:"flex items-center gap-2 text-red-600",children:[o.jsx(wn,{className:"w-5 h-5"})," "]}),o.jsx(er,{children:"    .  ?"})]}),re&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsx("p",{className:"font-medium text-red-900",children:re.course_material_name}),o.jsx("p",{className:"text-sm text-red-700",children:(I=re.courses)==null?void 0:I.course_name})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(H,{variant:"outline",onClick:()=>ve(!1),children:""}),o.jsxs(H,{variant:"destructive",onClick:cn,className:"bg-red-500 hover:bg-red-600",children:[o.jsx(wn,{className:"w-4 h-4 mr-2"}),""]})]})]})]})}),z&&o.jsx(y4,{isOpen:E,onOpenChange:M,rawCourseMaterialId:z.raw_course_material_id,courseMaterialName:z.course_material_name})]})}var sv="Checkbox",[w4,x$]=Ao(sv),[_4,b4]=w4(sv),Gj=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[p,y]=d.useState(null),w=tt(t,b=>y(b)),v=d.useRef(!1),_=p?f||!!p.closest("form"):!0,[x=!1,m]=jo({prop:s,defaultProp:i,onChange:u}),g=d.useRef(x);return d.useEffect(()=>{const b=p==null?void 0:p.form;if(b){const C=()=>m(g.current);return b.addEventListener("reset",C),()=>b.removeEventListener("reset",C)}},[p,m]),o.jsxs(_4,{scope:n,state:x,disabled:l,children:[o.jsx(De.button,{type:"button",role:"checkbox","aria-checked":_o(x)?"mixed":x,"aria-required":a,"data-state":Jj(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onKeyDown:ke(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ke(e.onClick,b=>{m(C=>_o(C)?!0:!C),_&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),_&&o.jsx(S4,{control:p,bubbles:!v.current,name:r,value:c,checked:x,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:_o(i)?!1:i})]})});Gj.displayName=sv;var Qj="CheckboxIndicator",Yj=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=b4(Qj,n);return o.jsx(Ir,{present:r||_o(i.state)||i.state===!0,children:o.jsx(De.span,{"data-state":Jj(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Yj.displayName=Qj;var S4=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...i}=e,a=d.useRef(null),l=W1(n),c=pb(t);d.useEffect(()=>{const f=a.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&y){const w=new Event("click",{bubbles:r});f.indeterminate=_o(n),y.call(f,_o(n)?!1:n),f.dispatchEvent(w)}},[l,n,r]);const u=d.useRef(_o(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _o(e){return e==="indeterminate"}function Jj(e){return _o(e)?"indeterminate":e?"checked":"unchecked"}var Xj=Gj,j4=Yj;const qi=d.forwardRef(({className:e,...t},n)=>o.jsx(Xj,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(j4,{className:ae("flex items-center justify-center text-current"),children:o.jsx(W_,{className:"h-4 w-4"})})}));qi.displayName=Xj.displayName;var Zj="AlertDialog",[C4,w$]=Ao(Zj,[qS]),$s=qS(),eC=e=>{const{__scopeAlertDialog:t,...n}=e,r=$s(t);return o.jsx(Qg,{...r,...n,modal:!0})};eC.displayName=Zj;var N4="AlertDialogTrigger",E4=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=$s(n);return o.jsx(c1,{...s,...r,ref:t})});E4.displayName=N4;var k4="AlertDialogPortal",tC=e=>{const{__scopeAlertDialog:t,...n}=e,r=$s(t);return o.jsx(Yg,{...r,...n})};tC.displayName=k4;var T4="AlertDialogOverlay",nC=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=$s(n);return o.jsx(Sc,{...s,...r,ref:t})});nC.displayName=T4;var ia="AlertDialogContent",[P4,R4]=C4(ia),rC=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=$s(n),a=d.useRef(null),l=tt(t,a),c=d.useRef(null);return o.jsx(eL,{contentName:ia,titleName:sC,docsSlug:"alert-dialog",children:o.jsx(P4,{scope:n,cancelRef:c,children:o.jsxs(jc,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ke(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(dg,{children:r}),o.jsx(O4,{contentRef:a})]})})})});rC.displayName=ia;var sC="AlertDialogTitle",oC=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=$s(n);return o.jsx(Cc,{...s,...r,ref:t})});oC.displayName=sC;var iC="AlertDialogDescription",aC=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=$s(n);return o.jsx(Nc,{...s,...r,ref:t})});aC.displayName=iC;var A4="AlertDialogAction",lC=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=$s(n);return o.jsx(nf,{...s,...r,ref:t})});lC.displayName=A4;var cC="AlertDialogCancel",uC=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=R4(cC,n),i=$s(n),a=tt(t,s);return o.jsx(nf,{...i,...r,ref:a})});uC.displayName=cC;var O4=({contentRef:e})=>{const t=`\`${ia}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ia}\` by passing a \`${iC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ia}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},I4=eC,D4=tC,dC=nC,fC=rC,hC=lC,pC=uC,mC=oC,gC=aC;const zx=I4,L4=D4,vC=d.forwardRef(({className:e,...t},n)=>o.jsx(dC,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));vC.displayName=dC.displayName;const um=d.forwardRef(({className:e,...t},n)=>o.jsxs(L4,{children:[o.jsx(vC,{}),o.jsx(fC,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));um.displayName=fC.displayName;const dm=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});dm.displayName="AlertDialogHeader";const fm=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fm.displayName="AlertDialogFooter";const hm=d.forwardRef(({className:e,...t},n)=>o.jsx(mC,{ref:n,className:ae("text-lg font-semibold",e),...t}));hm.displayName=mC.displayName;const pm=d.forwardRef(({className:e,...t},n)=>o.jsx(gC,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));pm.displayName=gC.displayName;const mm=d.forwardRef(({className:e,...t},n)=>o.jsx(hC,{ref:n,className:ae(ef(),e),...t}));mm.displayName=hC.displayName;const gm=d.forwardRef(({className:e,...t},n)=>o.jsx(pC,{ref:n,className:ae(ef({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gm.displayName=pC.displayName;function M4(){const[e,t]=d.useState([]),[n,r]=d.useState([]),[s,i]=d.useState([]),[a,l]=d.useState([]),[c,u]=d.useState(""),[f,h]=d.useState("all"),[p,y]=d.useState("all"),[w,v]=d.useState(!1),[_,x]=d.useState(!1),[m,g]=d.useState(null),[b,C]=d.useState(!1),[N,P]=d.useState(!1),[O,$]=d.useState(null),[U,G]=d.useState(!1),[Z,me]=d.useState(null),[ee,ve]=d.useState(1),[re]=d.useState(10),[ge,L]=d.useState(new Set),Q=d.useRef(new Set),[ce,E]=d.useState(!1),[M,z]=d.useState(""),[oe,J]=d.useState(""),[V,te]=d.useState(null),[de,ye]=d.useState([]),[xe,Ae]=d.useState([]),[Te,ze]=d.useState([]),[qe,Le]=d.useState(!1),[Ve,ct]=d.useState([]),[Dt,Ze]=d.useState(!1),[pt,Jt]=d.useState(null),[mt,nt]=d.useState([]),[Nt,_t]=d.useState([]),[Kt,st]=d.useState(!1),[gn,Ft]=d.useState(!1),[vn,Nn]=d.useState("materials"),[yn,cn]=d.useState(!1),[Xt,kt]=d.useState(!1),[bt,Dn]=d.useState(null),[Ne,Ue]=d.useState(null);d.useEffect(()=>{Me(),Tt(),Ke(),Ln(),vt()},[]),d.useEffect(()=>{Q.current=ge,E(ge.size>0)},[ge]),d.useEffect(()=>{if(!ce)return;const R=setInterval(async()=>{const F=Q.current,ue=new Set,fe=new Set;let Ie=0;await Promise.all(Array.from(F).map(async ot=>{const dt=await En(ot);!dt.exists||dt.status===1||dt.status===2?ue.add(ot):dt.isFailed?fe.add(ot):dt.isComplete&&Ie++})),ue.size<F.size&&(await Me(),L(ue),fe.size>0&&q.error(`${fe.size}  .`),Ie>0&&ue.size===0&&fe.size===0&&q.success("  !"))},1e4);return()=>clearInterval(R)},[ce]);const Me=async()=>{try{const{data:R,error:F}=await se.from("raw_generation_formats").select(`
          raw_generation_format_id,
          generation_format_name,
          generation_format_path,
          generation_format_desc,
          created_at,
          uploaded_user_id,
          can_share
        `).order("created_at",{ascending:!1});if(F)throw F;const ue=await Promise.all((R||[]).map(async fe=>{const{data:Ie}=await se.from("raw_generation_format_teaching_style_map").select(`
            teaching_style_id,
            teaching_styles(teaching_style_id, teaching_style_name, teaching_style_desc)
          `).eq("raw_generation_format_id",fe.raw_generation_format_id),{data:ot}=await se.from("raw_generation_format_cowork_type_map").select(`
            cowork_type_id,
            cowork_types(cowork_type_id, cowork_type_name, cowork_type_desc)
          `).eq("raw_generation_format_id",fe.raw_generation_format_id),dt=await wr(fe.raw_generation_format_id);return{...fe,teaching_styles:(Ie==null?void 0:Ie.map(Lt=>Lt.teaching_styles).filter(Boolean))||[],cowork_types:(ot==null?void 0:ot.map(Lt=>Lt.cowork_types).filter(Boolean))||[],course_types:dt||[]}}));t(ue)}catch(R){console.error("Error loading raw formats:",R),q.error("    .")}},Tt=async()=>{try{const{data:R,error:F}=await se.from("teaching_styles").select("teaching_style_id, teaching_style_name, teaching_style_desc").order("teaching_style_name",{ascending:!0});if(F)throw F;r(R||[])}catch(R){console.error("Error loading teaching styles:",R)}},Ke=async()=>{try{const{data:R,error:F}=await se.from("cowork_types").select("cowork_type_id, cowork_type_name, cowork_type_desc").order("cowork_type_name",{ascending:!0});if(F)throw F;i(R||[])}catch(R){console.error("Error loading cowork types:",R)}},Ln=async()=>{try{const{data:R,error:F}=await se.from("course_types").select("course_type_id, course_type_name, course_type_desc").order("course_type_name",{ascending:!0});if(F)throw F;l(R||[])}catch(R){console.error("Error loading course types:",R)}},wr=async R=>{try{const{data:F,error:ue}=await se.from("raw_generation_format_course_type_map").select("course_type_id").eq("raw_generation_format_id",R);if(ue)return console.error("Error loading format course type mappings:",ue),[];if(!F||F.length===0)return[];const fe=F.map(dt=>dt.course_type_id),{data:Ie,error:ot}=await se.from("course_types").select("course_type_id, course_type_name, course_type_desc").in("course_type_id",fe).order("course_type_name",{ascending:!0});return ot?(console.error("Error loading course types:",ot),[]):Ie||[]}catch(F){return console.error("Error loading format course types:",F),[]}},vt=async()=>{try{const{data:R,error:F}=await se.from("raw_course_materials").select(`
          raw_course_material_id,
          course_material_name,
          course_material_desc,
          course_material_path,
          created_at
        `).order("created_at",{ascending:!1});if(F)throw F;ct(R||[])}catch(R){console.error("Error loading raw course materials:",R),q.error("     .")}},En=async R=>{try{const{data:F,error:ue}=await se.from("generation_formats").select("generation_format_id, generation_status_type_id").eq("raw_generation_format_id",R).single();return ue&&ue.code!=="PGRST116"?(console.error("Error checking generation format:",ue),{exists:!1,status:null,isComplete:!1,isFailed:!1}):{exists:!!F,status:(F==null?void 0:F.generation_status_type_id)||null,isComplete:(F==null?void 0:F.generation_status_type_id)===4,isFailed:(F==null?void 0:F.generation_status_type_id)===3}}catch(F){return console.error("Error in checkGenerationFormatStatus:",F),{exists:!1,status:null,isComplete:!1,isFailed:!1}}},I=async R=>{st(!0);try{const{data:F,error:ue}=await se.from("course_material_structure_only").select("course_structure").eq("raw_course_material_id",R).single();if(ue&&ue.code!=="PGRST116")throw ue;const fe=(F==null?void 0:F.course_structure)||[];nt(fe),_t(JSON.parse(JSON.stringify(fe)))}catch(F){console.error("Error loading course structure:",F),q.error("     ."),nt([]),_t([])}finally{st(!1)}},S=R=>{Jt(R),Ze(!0),I(R.raw_course_material_id)},k=async()=>{if(pt){Ft(!0);try{const{data:R,error:F}=await se.functions.invoke("update-course-structure",{body:{raw_course_material_id:pt.raw_course_material_id,course_structure:mt}});if(F)throw F;_t(JSON.parse(JSON.stringify(mt))),q.success("   .")}catch(R){console.error("Error saving course structure:",R),q.error("     : "+R.message)}finally{Ft(!1)}}},D=()=>{nt(JSON.parse(JSON.stringify(Nt))),q.info(" .")},Y=JSON.stringify(mt)!==JSON.stringify(Nt),K=(R,F)=>{const ue=[...mt];ue[R].section_name=F,nt(ue)},B=(R,F,ue)=>{const fe=[...mt];fe[R].section_weeks&&(fe[R].section_weeks[F].section_content_name=ue,nt(fe))},le=(R,F,ue)=>{const fe=[...mt];fe[R].section_weeks&&(fe[R].section_weeks[F].section_content_order=ue,nt(fe))},Ee=(R,F,ue,fe)=>{const Ie=[...mt];if(Ie[R].section_weeks&&ue<=fe){const ot=[];for(let dt=ue;dt<=fe;dt++)ot.push(dt);Ie[R].section_weeks[F].section_content_pages=ot,nt(Ie)}},je=R=>{Dn({index:R,name:mt[R].section_name}),cn(!0)},pe=()=>{if(bt){const R=mt.filter((F,ue)=>ue!==bt.index);nt(R),cn(!1),Dn(null),q.success(" .")}},Ce=(R,F)=>{var fe,Ie;const ue=((Ie=(fe=mt[R].section_weeks)==null?void 0:fe[F])==null?void 0:Ie.section_content_name)||"";Ue({unitIndex:R,chapterIndex:F,name:ue}),kt(!0)},Fe=()=>{if(Ne){const R=[...mt];R[Ne.unitIndex].section_weeks&&(R[Ne.unitIndex].section_weeks=R[Ne.unitIndex].section_weeks.filter((F,ue)=>ue!==Ne.chapterIndex),nt(R),kt(!1),Ue(null),q.success(" ."))}},rt=e.filter(R=>{var Ie,ot;const F=R.generation_format_name.toLowerCase().includes(c.toLowerCase())||R.generation_format_desc.toLowerCase().includes(c.toLowerCase()),ue=f==="all"||((Ie=R.teaching_styles)==null?void 0:Ie.some(dt=>dt.teaching_style_id.toString()===f)),fe=p==="all"||((ot=R.cowork_types)==null?void 0:ot.some(dt=>dt.cowork_type_id.toString()===p));return F&&ue&&fe}),zt=Math.ceil(rt.length/re),Ut=(ee-1)*re,yt=Ut+re,Je=rt.slice(Ut,yt),_e=n,A=s,ne=R=>{g(R),x(!0)},we=async()=>{var R,F;if(!M||!oe||!V&&!N){q.error("   .");return}C(!0);try{let ue=null;if(V){const{data:fe,error:Ie}=await se.functions.invoke("upload-s3-file",{body:{fileName:V.name,folder:"generation_formats"}});if(Ie)throw Ie;if(!(fe!=null&&fe.success)||!fe.presignedUrl)throw new Error((fe==null?void 0:fe.error)||" URL  ");const ot=await fetch(fe.presignedUrl,{method:"PUT",body:V,headers:{"Content-Type":V.type||"application/octet-stream"}});if(!ot.ok)throw new Error(`S3  : ${ot.statusText}`);ue=fe.filePath}if(N&&O){const fe={generation_format_name:M,generation_format_desc:oe,can_share:qe};ue&&(fe.generation_format_path=ue);const{error:Ie}=await se.from("raw_generation_formats").update(fe).eq("raw_generation_format_id",O.raw_generation_format_id);if(Ie)throw Ie;const{error:ot}=await se.rpc("sync_association_table",{p_table_name:"raw_generation_format_teaching_style_map",p_parent_column:"raw_generation_format_id",p_child_column:"teaching_style_id",p_parent_id:O.raw_generation_format_id,p_child_ids:de});if(ot)throw ot;const{error:dt}=await se.rpc("sync_association_table",{p_table_name:"raw_generation_format_cowork_type_map",p_parent_column:"raw_generation_format_id",p_child_column:"cowork_type_id",p_parent_id:O.raw_generation_format_id,p_child_ids:xe});if(dt)throw dt;const{error:Lt}=await se.functions.invoke("manage-rgf-course-types",{body:{raw_generation_format_id:O.raw_generation_format_id,course_type_ids:Te,mode:"replace"}});if(Lt)throw new Error("   .");q.success("  .")}else{if(!ue)throw new Error(" .");const fe={generation_format_name:M,generation_format_desc:oe,generation_format_path:ue,uploaded_user_id:(R=(await se.auth.getUser()).data.user)==null?void 0:R.id,can_share:qe},{data:Ie,error:ot}=await se.from("raw_generation_formats").insert(fe).select("raw_generation_format_id").single();if(ot)throw ot;const dt=Ie.raw_generation_format_id;if(de.length>0){const{error:Lt}=await se.rpc("sync_association_table",{p_table_name:"raw_generation_format_teaching_style_map",p_parent_column:"raw_generation_format_id",p_child_column:"teaching_style_id",p_parent_id:dt,p_child_ids:de});if(Lt)throw Lt}if(xe.length>0){const{error:Lt}=await se.rpc("sync_association_table",{p_table_name:"raw_generation_format_cowork_type_map",p_parent_column:"raw_generation_format_id",p_child_column:"cowork_type_id",p_parent_id:dt,p_child_ids:xe});if(Lt)throw Lt}if(Te.length>0&&!(await fetch("/functions/v1/manage-rgf-course-types",{method:"POST",headers:{Authorization:`Bearer ${(F=(await se.auth.getSession()).data.session)==null?void 0:F.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({raw_generation_format_id:dt,course_type_ids:Te,mode:"replace"})})).ok)throw new Error("   .");q.success("  .")}z(""),J(""),te(null),ye([]),Ae([]),ze([]),Le(!1),v(!1),P(!1),$(null),Me()}catch(ue){console.error("Upload error:",ue),q.error((N?"":"")+"   : "+ue.message)}finally{C(!1)}},gt=async R=>{L(F=>new Set(F).add(R.raw_generation_format_id));try{q.info(`${R.generation_format_name}  AI  .`);const{data:F,error:ue}=await se.functions.invoke("analyze-generation-format",{body:{raw_generation_format_id:R.raw_generation_format_id}});if(ue)throw new Error(ue.message);if(F!=null&&F.success)q.success(`${R.generation_format_name} AI  .    ''  .`);else throw L(fe=>{const Ie=new Set(fe);return Ie.delete(R.raw_generation_format_id),Ie}),new Error((F==null?void 0:F.error)||"AI  ")}catch(F){console.error("AI analysis error:",F),L(ue=>{const fe=new Set(ue);return fe.delete(R.raw_generation_format_id),fe}),q.error("AI    : "+F.message)}},qt=async R=>{L(F=>new Set(F).add(R.raw_generation_format_id));try{q.info(`${R.generation_format_name}  AI V2  .`);const{data:F,error:ue}=await se.functions.invoke("analyze-generation-format",{body:{raw_generation_format_id:R.raw_generation_format_id,use_v2:!0}});if(ue)throw new Error(ue.message);if(F!=null&&F.success)q.success(`${R.generation_format_name} AI V2  .    ''  .`);else throw L(fe=>{const Ie=new Set(fe);return Ie.delete(R.raw_generation_format_id),Ie}),new Error((F==null?void 0:F.error)||"AI V2  ")}catch(F){console.error("AI V2 analysis error:",F),L(ue=>{const fe=new Set(ue);return fe.delete(R.raw_generation_format_id),fe}),q.error("AI V2    : "+F.message)}},Pt=()=>{P(!1),$(null),z(""),J(""),te(null),ye([]),Ae([]),ze([]),Le(!1),v(!0)},Zt=R=>{var F,ue,fe;$(R),P(!0),z(R.generation_format_name),J(R.generation_format_desc),ye(((F=R.teaching_styles)==null?void 0:F.map(Ie=>Ie.teaching_style_id))||[]),Ae(((ue=R.cowork_types)==null?void 0:ue.map(Ie=>Ie.cowork_type_id))||[]),ze(((fe=R.course_types)==null?void 0:fe.map(Ie=>Ie.course_type_id))||[]),Le(R.can_share),te(null),v(!0)},ir=R=>{me(R),G(!0)},Xr=async()=>{if(Z)try{await se.rpc("sync_association_table",{p_table_name:"raw_generation_format_teaching_style_map",p_parent_column:"raw_generation_format_id",p_child_column:"teaching_style_id",p_parent_id:Z.raw_generation_format_id,p_child_ids:[]}),await se.rpc("sync_association_table",{p_table_name:"raw_generation_format_cowork_type_map",p_parent_column:"raw_generation_format_id",p_child_column:"cowork_type_id",p_parent_id:Z.raw_generation_format_id,p_child_ids:[]});const{error:R}=await se.from("raw_generation_formats").delete().eq("raw_generation_format_id",Z.raw_generation_format_id);if(R)throw R;q.success("  ."),await Me(),G(!1),me(null)}catch(R){console.error("Delete error:",R),q.error("    : "+R.message)}},[$o,Gt]=d.useState({});return d.useEffect(()=>{const R=async()=>{const F={};for(const ue of e){if(ge.has(ue.raw_generation_format_id)){F[ue.raw_generation_format_id]=o.jsx(it,{className:"bg-blue-100 text-blue-700 rounded-full",children:""});continue}const fe=await En(ue.raw_generation_format_id);fe.exists?fe.isComplete?F[ue.raw_generation_format_id]=o.jsx(it,{className:"bg-green-100 text-green-700 rounded-full",children:""}):fe.isFailed?F[ue.raw_generation_format_id]=o.jsx(it,{className:"bg-red-100 text-red-700 rounded-full",children:""}):F[ue.raw_generation_format_id]=o.jsx(it,{className:"bg-yellow-100 text-yellow-700 rounded-full",children:""}):F[ue.raw_generation_format_id]=o.jsx(it,{className:"bg-gray-100 text-gray-700 rounded-full",children:""})}Gt(F)};e.length>0&&R()},[e,ge]),o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" "}),o.jsx("p",{className:"text-muted-foreground",children:"   "})]})}),o.jsxs(Oa,{value:vn,onValueChange:Nn,className:"space-y-8",children:[o.jsxs(gi,{className:"grid w-full grid-cols-2",children:[o.jsx(_n,{value:"materials",children:" "}),o.jsx(_n,{value:"textbooks",children:"  "})]}),o.jsxs(bn,{value:"materials",className:"space-y-8",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs(fn,{open:w,onOpenChange:v,children:[o.jsx(Qo,{asChild:!0,children:o.jsxs(H,{className:"bg-mango-green hover:bg-mango-green/90 text-white rounded-full",onClick:Pt,children:[o.jsx(pr,{className:"w-4 h-4 mr-2"})," "]})}),o.jsxs(sn,{className:"max-w-2xl rounded-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hn,{children:[o.jsx(on,{children:N?" ":"  "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:N?"  ":"   "})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{htmlFor:"formatName",children:"  *"}),o.jsx(Pe,{id:"formatName",value:M,onChange:R=>z(R.target.value),placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"formatDesc",children:" *"}),o.jsx(On,{id:"formatDesc",value:oe,onChange:R=>J(R.target.value),placeholder:"   "})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"teachingStyle",children:"  (  )"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2",children:n.map(R=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qi,{id:`teaching-style-${R.teaching_style_id}`,checked:de.includes(R.teaching_style_id),onCheckedChange:F=>{ye(F?ue=>[...ue,R.teaching_style_id]:ue=>ue.filter(fe=>fe!==R.teaching_style_id))}}),o.jsx(W,{htmlFor:`teaching-style-${R.teaching_style_id}`,className:"text-sm",children:R.teaching_style_name})]},R.teaching_style_id))})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"coworkType",children:"  (  )"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2",children:s.map(R=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qi,{id:`cowork-type-${R.cowork_type_id}`,checked:xe.includes(R.cowork_type_id),onCheckedChange:F=>{Ae(F?ue=>[...ue,R.cowork_type_id]:ue=>ue.filter(fe=>fe!==R.cowork_type_id))}}),o.jsx(W,{htmlFor:`cowork-type-${R.cowork_type_id}`,className:"text-sm",children:R.cowork_type_name})]},R.cowork_type_id))})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"courseType",children:"  (  )"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2",children:a.map(R=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qi,{id:`course-type-${R.course_type_id}`,checked:Te.includes(R.course_type_id),onCheckedChange:F=>{ze(F?ue=>[...ue,R.course_type_id]:ue=>ue.filter(fe=>fe!==R.course_type_id))}}),o.jsx(W,{htmlFor:`course-type-${R.course_type_id}`,className:"text-sm",children:R.course_type_name})]},R.course_type_id))})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"file",children:"  *"}),N&&O&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[" : ",O.generation_format_path.split("/").pop()]}),o.jsx(Pe,{id:"file",type:"file",onChange:R=>{var F;return te(((F=R.target.files)==null?void 0:F[0])||null)},accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx"}),N&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"      ."})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qi,{id:"canShare",checked:qe,onCheckedChange:R=>Le(R)}),o.jsx(W,{htmlFor:"canShare",className:"text-sm font-normal cursor-pointer",children:"  (      )"})]}),o.jsx(H,{onClick:we,disabled:b,className:"w-full",children:b?o.jsxs(o.Fragment,{children:[o.jsx(Ea,{className:"h-4 w-4 mr-2 animate-spin"}),N?" ...":" ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ea,{className:"h-4 w-4 mr-2"}),N?" ":" "]})})]})]})]})}),o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl",children:[o.jsx(ln,{children:o.jsxs(pn,{className:"flex items-center gap-2",children:[o.jsx(xg,{className:"w-5 h-5"}),"  "]})}),o.jsx(dn,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Pe,{placeholder:",  ...",value:c,onChange:R=>u(R.target.value),className:"pl-10 rounded-full"})]}),o.jsxs(Sr,{value:f,onValueChange:h,children:[o.jsx(ur,{className:"rounded-full",children:o.jsx(jr,{placeholder:"  "})}),o.jsxs(dr,{className:"bg-background border border-border",children:[o.jsx(Qt,{value:"all",children:""}),_e.map(R=>o.jsx(Qt,{value:R.teaching_style_id.toString(),children:R.teaching_style_name},R.teaching_style_id))]})]}),o.jsxs(Sr,{value:p,onValueChange:y,children:[o.jsx(ur,{className:"rounded-full",children:o.jsx(jr,{placeholder:"  "})}),o.jsxs(dr,{className:"bg-background border border-border",children:[o.jsx(Qt,{value:"all",children:""}),A.map(R=>o.jsx(Qt,{value:R.cowork_type_id.toString(),children:R.cowork_type_name},R.cowork_type_id))]})]}),o.jsx(H,{variant:"outline",onClick:()=>{u(""),h("all"),y("all")},className:"rounded-full",children:" "})]})})]}),o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl overflow-hidden",children:[o.jsx(ln,{children:o.jsx(pn,{children:" "})}),o.jsxs(dn,{children:[o.jsxs(Ia,{children:[o.jsx(Da,{children:o.jsxs(nr,{children:[o.jsx(at,{children:""}),o.jsx(at,{children:" "}),o.jsx(at,{children:" "}),o.jsx(at,{children:" "}),o.jsx(at,{children:" "}),o.jsx(at,{children:" "}),o.jsx(at,{children:""})]})}),o.jsx(La,{children:Je.map(R=>o.jsxs(nr,{children:[o.jsx(Xe,{className:"font-medium",children:R.generation_format_name}),o.jsx(Xe,{children:R.teaching_styles&&R.teaching_styles.length>0?R.teaching_styles.map(F=>F.teaching_style_name).join(", "):"-"}),o.jsx(Xe,{children:R.cowork_types&&R.cowork_types.length>0?R.cowork_types.map(F=>F.cowork_type_name).join(", "):"-"}),o.jsx(Xe,{children:R.course_types&&R.course_types.length>0?R.course_types.map(F=>F.course_type_name).join(", "):"-"}),o.jsx(Xe,{children:new Date(R.created_at).toLocaleDateString("ko-KR")}),o.jsx(Xe,{children:$o[R.raw_generation_format_id]||o.jsx(it,{variant:"outline",children:" ..."})}),o.jsx(Xe,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>ne(R),className:"rounded-full",children:[o.jsx(Ba,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>gt(R),disabled:ge.has(R.raw_generation_format_id),className:"rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50",children:[o.jsx(xo,{className:"w-4 h-4 mr-1"}),ge.has(R.raw_generation_format_id)?"":"AI "]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>qt(R),disabled:ge.has(R.raw_generation_format_id),className:"rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 text-white border-0 hover:from-blue-600 hover:to-cyan-600 disabled:opacity-50",children:[o.jsx(xo,{className:"w-4 h-4 mr-1"}),ge.has(R.raw_generation_format_id)?"":"AI V2 "]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>Zt(R),className:"rounded-full bg-orange-50 text-orange-600 border border-orange-200 hover:bg-orange-100",children:[o.jsx(Md,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>ir(R),className:"rounded-full bg-red-50 text-red-500 border border-red-200 hover:bg-red-100",children:[o.jsx(wn,{className:"w-4 h-4 mr-1"}),""]})]})})]},R.raw_generation_format_id))})]}),zt>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(cf,{children:o.jsxs(uf,{children:[o.jsx(ds,{children:o.jsx(df,{href:"#",onClick:R=>{R.preventDefault(),ee>1&&ve(ee-1)},className:ee===1?"pointer-events-none opacity-50":""})}),Array.from({length:zt},(R,F)=>F+1).map(R=>o.jsx(ds,{children:o.jsx(Za,{href:"#",onClick:F=>{F.preventDefault(),ve(R)},isActive:R===ee,children:R})},R)),o.jsx(ds,{children:o.jsx(ff,{href:"#",onClick:R=>{R.preventDefault(),ee<zt&&ve(ee+1)},className:ee===zt?"pointer-events-none opacity-50":""})})]})})}),rt.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   ."})]})]})]}),o.jsx(bn,{value:"textbooks",className:"space-y-8",children:o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl",children:[o.jsx(ln,{children:o.jsxs(pn,{className:"flex items-center gap-2",children:[o.jsx(ea,{className:"w-5 h-5"})," "]})}),o.jsxs(dn,{children:[o.jsxs(Ia,{children:[o.jsx(Da,{children:o.jsxs(nr,{children:[o.jsx(at,{children:" "}),o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""})]})}),o.jsx(La,{children:Ve.map(R=>o.jsxs(nr,{children:[o.jsx(Xe,{className:"font-medium",children:R.course_material_name}),o.jsx(Xe,{children:R.course_material_desc}),o.jsx(Xe,{children:new Date(R.created_at).toLocaleDateString("ko-KR")}),o.jsx(Xe,{children:o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>S(R),className:"rounded-full",children:[o.jsx(ea,{className:"w-4 h-4 mr-1"})," "]})})]},R.raw_course_material_id))})]}),Ve.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  ."})]})]})})]}),o.jsx(fn,{open:_,onOpenChange:x,children:o.jsxs(sn,{className:"max-w-2xl",children:[o.jsx(hn,{children:o.jsx(on,{children:"  "})}),m&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:""}),o.jsx("p",{children:m.generation_format_name})]}),o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:""}),o.jsx("p",{children:m.generation_format_desc})]}),o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:" "}),m.teaching_styles&&m.teaching_styles.length>0?o.jsx("div",{className:"space-y-1",children:m.teaching_styles.map((R,F)=>o.jsxs("div",{children:[o.jsx("p",{children:R.teaching_style_name}),R.teaching_style_desc&&o.jsx("p",{className:"text-sm text-muted-foreground",children:R.teaching_style_desc})]},F))}):o.jsx("p",{children:"-"})]}),o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:" "}),m.cowork_types&&m.cowork_types.length>0?o.jsx("div",{className:"space-y-1",children:m.cowork_types.map((R,F)=>o.jsxs("div",{children:[o.jsx("p",{children:R.cowork_type_name}),R.cowork_type_desc&&o.jsx("p",{className:"text-sm text-muted-foreground",children:R.cowork_type_desc})]},F))}):o.jsx("p",{children:"-"})]}),o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:" "}),m.course_types&&m.course_types.length>0?o.jsx("div",{className:"space-y-1",children:m.course_types.map((R,F)=>o.jsxs("div",{children:[o.jsx(it,{variant:"secondary",className:"mr-1",children:R.course_type_name}),R.course_type_desc&&o.jsx("p",{className:"text-sm text-muted-foreground",children:R.course_type_desc})]},F))}):o.jsx("p",{children:"-"})]}),o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:" "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:m.generation_format_path})]}),o.jsxs("div",{children:[o.jsx(W,{className:"font-semibold",children:" "}),o.jsx("p",{children:new Date(m.created_at).toLocaleString("ko-KR")})]})]})]})}),o.jsx(fn,{open:U,onOpenChange:G,children:o.jsxs(sn,{className:"max-w-md rounded-2xl",children:[o.jsxs(hn,{children:[o.jsxs(on,{className:"flex items-center gap-2 text-red-600",children:[o.jsx(wn,{className:"w-5 h-5"})," "]}),o.jsx(er,{children:"    .  ?"})]}),Z&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsx("p",{className:"font-medium text-red-900",children:Z.generation_format_name}),o.jsx("p",{className:"text-sm text-red-700",children:Z.generation_format_desc})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(H,{variant:"outline",onClick:()=>G(!1),children:""}),o.jsxs(H,{variant:"destructive",onClick:Xr,className:"bg-red-500 hover:bg-red-600",children:[o.jsx(wn,{className:"w-4 h-4 mr-2"}),""]})]})]})]})}),o.jsx(fn,{open:Dt,onOpenChange:Ze,children:o.jsxs(sn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(hn,{children:[o.jsxs(on,{className:"flex items-center gap-2",children:[o.jsx(ea,{className:"w-5 h-5"}),"  : ",pt==null?void 0:pt.course_material_name]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(H,{onClick:k,disabled:!Y||gn,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(ta,{className:"w-4 h-4 mr-2"}),gn?" ...":""]}),o.jsxs(H,{variant:"outline",onClick:D,disabled:!Y,children:[o.jsx(G_,{className:"w-4 h-4 mr-2"}),""]})]})]}),Kt?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[mt.map((R,F)=>{var ue;return o.jsxs(Vt,{className:"border",children:[o.jsx(ln,{className:"pb-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs(W,{className:"text-sm font-medium",children:[F+1,""]}),o.jsx(Pe,{value:R.section_name,onChange:fe=>K(F,fe.target.value),className:"mt-1",placeholder:" "})]}),o.jsx(H,{variant:"outline",size:"sm",onClick:()=>je(F),className:"ml-4 text-red-600 hover:text-red-700",children:o.jsx(wn,{className:"w-4 h-4"})})]})}),o.jsx(dn,{children:o.jsx("div",{className:"space-y-4",children:((ue=R.section_weeks)==null?void 0:ue.map((fe,Ie)=>{var ot,dt;return o.jsx(Vt,{className:"border-l-4 border-l-blue-500",children:o.jsx(dn,{className:"pt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-sm",children:""}),o.jsx(Pe,{value:fe.section_content_name,onChange:Lt=>B(F,Ie,Lt.target.value),placeholder:" "})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-sm",children:" "}),o.jsx(Pe,{value:fe.section_content_order,onChange:Lt=>le(F,Ie,Lt.target.value),placeholder:"e.g. 1-3"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx(W,{className:"text-sm",children:" "}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(Pe,{type:"number",placeholder:"",value:((ot=fe.section_content_pages)==null?void 0:ot[0])||"",onChange:Lt=>{var Fo;const gs=parseInt(Lt.target.value),el=((Fo=fe.section_content_pages)==null?void 0:Fo[fe.section_content_pages.length-1])||gs;isNaN(gs)||Ee(F,Ie,gs,el)},className:"w-20"}),o.jsx("span",{children:"-"}),o.jsx(Pe,{type:"number",placeholder:"",value:((dt=fe.section_content_pages)==null?void 0:dt[fe.section_content_pages.length-1])||"",onChange:Lt=>{var Fo;const gs=parseInt(Lt.target.value),el=((Fo=fe.section_content_pages)==null?void 0:Fo[0])||gs;isNaN(gs)||Ee(F,Ie,el,gs)},className:"w-20"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(H,{variant:"outline",size:"sm",onClick:()=>Ce(F,Ie),className:"text-red-600 hover:text-red-700",children:o.jsx(wn,{className:"w-4 h-4"})})})]})})},Ie)}))||[]})})]},F)}),mt.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  . AI   ."})]})]})}),o.jsx(zx,{open:yn,onOpenChange:cn,children:o.jsxs(um,{children:[o.jsxs(dm,{children:[o.jsx(hm,{children:" "}),o.jsxs(pm,{children:['"',bt==null?void 0:bt.name,'"  ?     ,      .']})]}),o.jsxs(fm,{children:[o.jsx(gm,{children:""}),o.jsx(mm,{onClick:pe,className:"bg-red-600 hover:bg-red-700",children:""})]})]})}),o.jsx(zx,{open:Xt,onOpenChange:kt,children:o.jsxs(um,{children:[o.jsxs(dm,{children:[o.jsx(hm,{children:" "}),o.jsxs(pm,{children:['"',Ne==null?void 0:Ne.name,'"  ?     .']})]}),o.jsxs(fm,{children:[o.jsx(gm,{children:""}),o.jsx(mm,{onClick:Fe,className:"bg-red-600 hover:bg-red-700",children:""})]})]})})]})}function $4(e,t=[]){let n=[];function r(i,a){const l=d.createContext(a),c=n.length;n=[...n,a];function u(h){const{scope:p,children:y,...w}=h,v=(p==null?void 0:p[e][c])||l,_=d.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:_,children:y})}function f(h,p){const y=(p==null?void 0:p[e][c])||l,w=d.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>d.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,F4(s,...t)]}function F4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var ov="Progress",iv=100,[z4,_$]=$4(ov),[U4,B4]=z4(ov),yC=d.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=H4,...a}=e;(s||s===0)&&!Ux(s)&&console.error(W4(`${s}`,"Progress"));const l=Ux(s)?s:iv;r!==null&&!Bx(r,l)&&console.error(V4(`${r}`,"Progress"));const c=Bx(r,l)?r:null,u=gd(c)?i(c,l):void 0;return o.jsx(U4,{scope:n,value:c,max:l,children:o.jsx(De.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":_C(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});yC.displayName=ov;var xC="ProgressIndicator",wC=d.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=B4(xC,n);return o.jsx(De.div,{"data-state":_C(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});wC.displayName=xC;function H4(e,t){return`${Math.round(e/t*100)}%`}function _C(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function gd(e){return typeof e=="number"}function Ux(e){return gd(e)&&!isNaN(e)&&e>0}function Bx(e,t){return gd(e)&&!isNaN(e)&&e<=t&&e>=0}function W4(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iv}\`.`}function V4(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bC=yC,K4=wC;const SC=d.forwardRef(({className:e,value:t,...n},r)=>o.jsx(bC,{ref:r,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(K4,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));SC.displayName=bC.displayName;function q4(){const e=Io(),[t,n]=d.useState([]),[r,s]=d.useState(""),[i,a]=d.useState(!0),[l,c]=d.useState(0),[u,f]=d.useState(1),[h]=d.useState(12),p="http://127.0.0.1:8000",[y,w]=d.useState(!1),[v,_]=d.useState(null),[x,m]=d.useState(""),[g,b]=d.useState(""),[C,N]=d.useState(!1),[P,O]=d.useState(0),$=d.useRef(null),U=async()=>{const{data:{session:E}}=await se.auth.getSession(),M={"Content-Type":"application/json"};return E!=null&&E.access_token&&(M.Authorization=`Bearer ${E.access_token}`),M},G=async()=>{const{data:{session:E}}=await se.auth.getSession(),M={};return E!=null&&E.access_token&&(M.Authorization=`Bearer ${E.access_token}`),M};d.useEffect(()=>{Z()},[u]);const Z=async()=>{try{a(!0);const E=new URLSearchParams({page:u.toString(),page_size:h.toString()}),M=await U(),z=await fetch(`${p}/conversions/?${E}`,{method:"GET",headers:M,mode:"cors"});if(!z.ok)throw new Error(` : ${z.status} ${z.statusText}`);const oe=await z.json();if(oe.success)n(oe.conversions),c(oe.total);else throw new Error("  .")}catch(E){console.error("Error loading conversions:",E),q.error(E.message||"    ."),n([]),c(0)}finally{a(!1)}},me=t.filter(E=>E.original_filename.toLowerCase().includes(r.toLowerCase())||E.content_name&&E.content_name.toLowerCase().includes(r.toLowerCase())||E.description&&E.description.toLowerCase().includes(r.toLowerCase())||E.file_type.toLowerCase().includes(r.toLowerCase())||E.framework.toLowerCase().includes(r.toLowerCase())),ee=async E=>{try{const M=await U(),z=await fetch(`${p}/conversions/${E}`,{method:"GET",headers:M,mode:"cors"});if(!z.ok)throw new Error(` : ${z.status} ${z.statusText}`);return await z.json()}catch(M){return console.error("Error fetching conversion detail:",M),q.error(M.message||"     ."),null}},ve=async E=>{const M=await ee(E);M&&(sessionStorage.setItem("conversionDetail",JSON.stringify(M)),e(`/admin/materials-v2/editor/${E}`))},re=async E=>{const M=await ee(E);M&&(sessionStorage.setItem("conversionDetail",JSON.stringify(M)),e(`/admin/materials-v2/preview/${E}`))},ge=async(E,M)=>{if(window.confirm(`"${M}"  ?

    ,   (, , )  .`))try{const oe=await U(),J=await fetch(`${p}/conversions/${E}?confirm=true`,{method:"DELETE",headers:oe,mode:"cors"});if(!J.ok)throw new Error(` : ${J.status} ${J.statusText}`);const V=await J.json();if(V.success)q.success(" ."),await Z();else throw new Error(V.message||" .")}catch(oe){console.error("Error deleting conversion:",oe),q.error(oe.message||"    .")}},L=E=>{var z;const M=(z=E.target.files)==null?void 0:z[0];if(M){const oe=["text/html","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","text/javascript","application/javascript","text/jsx","text/typescript","application/typescript"],J=M.name.toLowerCase(),te=[".html",".pptx",".ppt",".jsx",".js",".tsx",".ts"].some(ye=>J.endsWith(ye));if(!oe.includes(M.type)&&!te){q.error("HTML, PPTX  React (.jsx, .tsx)   .");return}_(M);const de=M.name.replace(/\.(html|pptx|ppt|jsx|js|tsx|ts)$/i,"");x||m(de)}},Q=async()=>{var E,M;if(!v){q.error(" .");return}if(!x.trim()){q.error("  .");return}try{N(!0),O(0);const z=35e3,oe=100,J=100/z*oe,V=setInterval(()=>{O(Le=>{const Ve=Le+J;return Ve>=95?95:Ve})},oe),te=new FormData;te.append("file",v),x&&te.append("content_name",x),g&&te.append("description",g),te.append("framework","react"),te.append("styling","tailwind");const de=await G(),ye=await fetch(`${p}/document-convert-react/convert-from-code`,{method:"POST",headers:de,body:te,mode:"cors"});if(clearInterval(V),!ye.ok){let Le="  .";try{Le=(await ye.json()).detail||Le}catch{Le=` : ${ye.status} ${ye.statusText}`}throw new Error(Le)}const xe=await ye.json();if(!xe.success)throw new Error("  .");O(100),console.log("AI  :",xe);const Ae=((E=xe.components)==null?void 0:E.map(Le=>{var Dt;const Ve=((Dt=Le.imports)==null?void 0:Dt.join(`
`))||"",ct=Le.code||"";return`${Ve}

${ct}`}))||[],Te=((M=xe.slides_data)==null?void 0:M.map(Le=>Le.data||{}))||[],ze={name:x,description:g,components:Ae,slidesData:Te,generationTime:xe.generation_time,createdAt:new Date().toISOString()};sessionStorage.setItem("newMaterialData",JSON.stringify(ze));const qe=Ae.length;q.success(` ! (${qe} ${xe.generation_time?`, ${xe.generation_time.toFixed(2)}`:""})`),w(!1),_(null),m(""),b(""),await Z(),e("/admin/materials-v2/editor/new")}catch(z){console.error("Error creating material:",z),q.error(z.message||"    .")}finally{N(!1)}},ce=()=>{w(!0)};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"  V2"}),o.jsx("p",{className:"text-muted-foreground",children:"AI      "})]}),o.jsxs(H,{onClick:ce,className:"bg-mango-green hover:bg-mango-green/90 text-white rounded-full",children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),"  "]})]}),o.jsx(Vt,{className:"border-border shadow-card rounded-2xl",children:o.jsx(dn,{className:"pt-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Pe,{placeholder:",  ...",value:r,onChange:E=>s(E.target.value),className:"pl-10 rounded-full"})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i?o.jsx("div",{className:"col-span-full flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mango-green"})}):me.length===0?o.jsx("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:r?"  .":"  ."}):me.map(E=>o.jsxs(Vt,{className:"border-border shadow-card rounded-2xl overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"h-48 bg-gradient-to-br from-mango-green-soft to-mango-green-light flex items-center justify-center relative",children:[o.jsx("div",{className:"text-mango-green text-6xl font-bold opacity-20",children:E.original_filename.charAt(0).toUpperCase()}),E.success&&o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx(it,{className:"bg-green-500 text-white rounded-full",children:" "})})]}),o.jsxs(ln,{children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(pn,{className:"text-lg line-clamp-1",children:E.content_name||E.original_filename}),o.jsx(it,{variant:"secondary",className:"rounded-full",children:E.framework})]}),E.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:E.description})]}),o.jsxs(dn,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>re(E.id),className:"flex-1 rounded-full",children:[o.jsx(Ba,{className:"w-4 h-4 mr-1"}),""]}),o.jsxs(H,{variant:"default",size:"sm",onClick:()=>ve(E.id),className:"flex-1 rounded-full bg-mango-green hover:bg-mango-green/90",children:[o.jsx(Md,{className:"w-4 h-4 mr-1"}),""]})]}),o.jsxs(H,{variant:"destructive",size:"sm",onClick:()=>ge(E.id,E.original_filename),className:"w-full rounded-full",children:[o.jsx(wn,{className:"w-4 h-4 mr-1"}),""]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[": ",new Date(E.created_at).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]},E.id))}),o.jsx(fn,{open:y,onOpenChange:w,children:o.jsxs(sn,{className:"sm:max-w-[500px]",children:[o.jsxs(hn,{children:[o.jsx(on,{children:"  "}),o.jsx(er,{children:"HTML  PPTX   AI React  ."})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"file-upload",children:" "}),o.jsx("input",{ref:$,id:"file-upload",type:"file",accept:".html,.pptx,.ppt,.jsx,.js,.tsx,.ts",onChange:L,className:"hidden"}),o.jsx("div",{onClick:()=>{var E;return(E=$.current)==null?void 0:E.click()},className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-mango-green transition-colors",children:v?o.jsxs("div",{className:"space-y-2",children:[v.name.match(/\.(jsx|tsx|js|ts)$/i)?o.jsx(yp,{className:"w-12 h-12 mx-auto text-mango-green"}):v.type==="text/html"?o.jsx(Ld,{className:"w-12 h-12 mx-auto text-mango-green"}):o.jsx(oT,{className:"w-12 h-12 mx-auto text-mango-green"}),o.jsx("p",{className:"text-sm font-medium",children:v.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(v.size/1024).toFixed(2)," KB"]}),o.jsx(H,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),_(null)},className:"mt-2",children:" "})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ea,{className:"w-12 h-12 mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm font-medium",children:"  "}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"HTML, PPTX  React (.jsx, .tsx) "})]})})]}),C&&o.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"font-medium",children:"AI   ..."}),o.jsxs("span",{className:"text-mango-green font-semibold",children:[Math.round(P),"%"]})]}),o.jsx(SC,{value:P,className:"h-2"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"  React   ."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"material-name",children:" "}),o.jsx(Pe,{id:"material-name",value:x,onChange:E=>m(E.target.value),placeholder:": 1   ",className:"rounded-lg",disabled:C})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{htmlFor:"material-description",children:"  ()"}),o.jsx(On,{id:"material-description",value:g,onChange:E=>b(E.target.value),placeholder:"    ",rows:3,className:"rounded-lg resize-none",disabled:C})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(H,{variant:"outline",onClick:()=>{w(!1),_(null),m(""),b("")},disabled:C,className:"rounded-full",children:""}),o.jsx(H,{onClick:Q,disabled:!v||!x.trim()||C,className:"bg-mango-green hover:bg-mango-green/90 rounded-full",children:C?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pr,{className:"w-4 h-4 mr-2"}),""]})})]})]})})]})}function G4(){const{id:e}=oS(),t=Io(),[n,r]=d.useState([{id:1,name:" 1",reactCode:"",jsonData:"{}"}]),[s,i]=d.useState(1),[a,l]=d.useState(""),[c,u]=d.useState("{}"),[f,h]=d.useState(null),[p,y]=d.useState([]),[w,v]=d.useState(-1),_=d.useRef(!1),[x,m]=d.useState(null);d.useState(!0);const g=d.useRef(null);d.useState(new Map);const[b,C]=d.useState(null),N=d.useRef(null),[P,O]=d.useState([]),[$,U]=d.useState(!1),[G,Z]=d.useState(!1),[me,ee]=d.useState(!0),[ve,re]=d.useState([]),[ge,L]=d.useState(""),[Q,ce]=d.useState(!1),E=d.useRef(null),M=d.useRef(!1),[z,oe]=d.useState(null),[J,V]=d.useState(null),[te,de]=d.useState(""),[ye,xe]=d.useState(""),[Ae,Te]=d.useState(!1),[ze,qe]=d.useState(null),[Le,Ve]=d.useState(!1),[ct,Dt]=d.useState("code"),[Ze,pt]=d.useState(!1),[Jt,mt]=d.useState(null),nt=d.useRef(null),Nt="http://127.0.0.1:8000",_t=async()=>{const{data:{session:I}}=await se.auth.getSession(),S={"Content-Type":"application/json"};return I!=null&&I.access_token&&(S.Authorization=`Bearer ${I.access_token}`),S};d.useEffect(()=>{(async()=>{if(!(!e||e==="new"))try{const S=await _t(),k=await fetch(`${Nt}/conversions/${e}`,{method:"GET",headers:S,mode:"cors"});if(!k.ok)throw new Error(` : ${k.status} ${k.statusText}`);const D=await k.json();console.log(" API  :",D),oe(D),de(D.content_name||""),xe(D.description||"");const Y=new Map;if(D.components&&D.components.length>0&&D.components.forEach(K=>{const B=K.imports&&K.imports.length>0?`${K.imports.join(`
`)}

${K.code}`:K.code;Y.set(K.component_name,{code:B,id:K.id,propDataType:K.prop_data_type}),console.log(`  : ${K.component_name} (ID: ${K.id}, ${B.length} chars)`)}),D.slides&&D.slides.length>0){const K=D.slides.map((B,le)=>{const Ee=B.layout_component,je=Y.get(Ee);return console.log(`  ${le+1}: layout_component="${Ee}"   ID=${je==null?void 0:je.id},  =${(je==null?void 0:je.code.length)||0}`),{id:le+1,name:` ${le+1}`,reactCode:(je==null?void 0:je.code)||"",jsonData:JSON.stringify(B.data,null,2),componentId:je==null?void 0:je.id,slideId:B.id,propDataType:je==null?void 0:je.propDataType}});console.log("   :",K.length),console.log("    JSON :",K[0].jsonData),M.current=!0,r(K),i(1),l(K[0].reactCode),u(K[0].jsonData),V(K[0].componentId||null),h(K[0].propDataType||null),setTimeout(()=>{M.current=!1},100)}q.success("  ")}catch(S){console.error("    :",S),q.error("  ")}})()},[e]),d.useEffect(()=>{if(e==="new"){const I=sessionStorage.getItem("newMaterialData");if(I)try{const S=JSON.parse(I);if(console.log("    :",S),de(S.name||" "),xe(S.description||""),S.components&&S.slidesData){const k=S.components.map((D,Y)=>{const K=S.slidesData[Y]||{};return{id:Y+1,name:` ${Y+1}`,reactCode:D,jsonData:JSON.stringify(K,null,2)}});k.length>0&&(r(k),i(1),l(k[0].reactCode),u(k[0].jsonData),q.success(`${k.length}  .`))}sessionStorage.removeItem("newMaterialData")}catch(S){console.error("    :",S),q.error("    .")}}},[e]),d.useEffect(()=>{const I=n.find(S=>S.id===s);I&&(console.log("  :",s),console.log("   :",I.reactCode.length),console.log("  JSON:",I.jsonData),console.log("  ID:",I.componentId),M.current=!0,l(I.reactCode),u(I.jsonData),V(I.componentId||null),h(I.propDataType||null),m(null),C(null),re([]),L(""),qe(null),Ve(!1),mt(null),nt.current&&(nt.current.value=""),setTimeout(()=>{M.current=!1,console.log("   ")},0))},[s]),d.useEffect(()=>{M.current||(console.log("  :",s),console.log("   :",a.length),console.log("  JSON:",c),r(I=>I.map(S=>S.id===s?{...S,reactCode:a,jsonData:c}:S)))},[a,c,s]);const Kt=()=>{const I=Math.max(...n.map(k=>k.id))+1,S={id:I,name:` ${I}`,reactCode:"",jsonData:"{}"};r(k=>[...k,S]),i(I),q.success("  ")},st=I=>{if(n.length===1){q.error("    ");return}if(r(S=>S.filter(k=>k.id!==I)),s===I){const S=n.filter(k=>k.id!==I);i(S[0].id)}q.success(" ")};d.useEffect(()=>{if(!M.current&&a&&!_.current){const I=setTimeout(()=>{const S={reactCode:a,jsonData:c,timestamp:Date.now()};y(k=>{const D=k.slice(0,w+1);return D.push(S),D.length>50?(D.shift(),v(49),D):(v(D.length-1),D)})},500);return()=>clearTimeout(I)}},[a,c,w]);const gn=()=>{if(w>0){_.current=!0;const I=p[w-1];l(I.reactCode),u(I.jsonData),v(w-1),setTimeout(()=>{_.current=!1},100),q.success(" ")}else q.error("    ")},Ft=()=>{if(w<p.length-1){_.current=!0;const I=p[w+1];l(I.reactCode),u(I.jsonData),v(w+1),setTimeout(()=>{_.current=!1},100),q.success(" ")}else q.error("    ")};d.useEffect(()=>{const I=S=>{(S.ctrlKey||S.metaKey)&&S.key==="z"&&!S.shiftKey&&(S.preventDefault(),gn()),(S.ctrlKey||S.metaKey)&&S.key==="z"&&S.shiftKey&&(S.preventDefault(),Ft()),(S.ctrlKey||S.metaKey)&&S.key==="y"&&(S.preventDefault(),Ft())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[w,p]);const vn=he.useMemo(()=>{try{return JSON.parse(c)}catch{return{}}},[c]);d.useEffect(()=>{var je;if(!a.trim()||!g.current)return;const I=g.current,S=I.contentDocument||((je=I.contentWindow)==null?void 0:je.document);if(!S)return;let k=a;k=k.replace(/import\s+.*?from\s+['"].*?['"];?\s*/g,"");let D="GeneratedComponent";const Y=k.match(/export\s+default\s+function\s+(\w+)/);Y&&(D=Y[1],k=k.replace(/export\s+default\s+/,""));const K=k.match(/export\s+default\s+(\w+);?/);K&&(D=K[1],k=k.replace(/export\s+default\s+\w+;?\s*$/,""));const B=k.match(/function\s+(\w+)/);B&&!Y&&(D=B[1]);const le=k.match(/const\s+(\w+)\s*=/);le&&!B&&(D=le[1]),console.log("Component name detected:",D),console.log("Processed code length:",k.length);const Ee=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">

          <!-- Tailwind CSS -->
          <script src="https://cdn.tailwindcss.com"><\/script>

          <!-- React -->
          <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
          <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>

          <!-- Babel Standalone -->
          <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>

          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: system-ui, -apple-system, sans-serif; overflow: auto; }
            .editable-element {
              cursor: move;
              transition: outline 0.2s;
            }
            .editable-element:hover {
              outline: 2px solid rgba(139, 195, 74, 0.5) !important;
              outline-offset: 2px;
            }
            .editable-element.selected {
              outline: 3px solid #8BC34A !important;
              outline-offset: 2px;
              z-index: 1000;
              position: relative;
            }
            .resize-handle {
              position: absolute;
              width: 10px;
              height: 10px;
              background: #8BC34A;
              border: 2px solid white;
              z-index: 1001;
            }
            .resize-handle.nw { top: -5px; left: -5px; cursor: nw-resize; }
            .resize-handle.ne { top: -5px; right: -5px; cursor: ne-resize; }
            .resize-handle.sw { bottom: -5px; left: -5px; cursor: sw-resize; }
            .resize-handle.se { bottom: -5px; right: -5px; cursor: se-resize; }
            .resize-handle.n { top: -5px; left: 50%; transform: translateX(-50%); cursor: n-resize; }
            .resize-handle.s { bottom: -5px; left: 50%; transform: translateX(-50%); cursor: s-resize; }
            .resize-handle.w { top: 50%; left: -5px; transform: translateY(-50%); cursor: w-resize; }
            .resize-handle.e { top: 50%; right: -5px; transform: translateY(-50%); cursor: e-resize; }
          </style>
        </head>
        <body>
          <div id="root"></div>
          <div id="error-display" style="display: none; padding: 20px; background: #ffeeee; color: #cc0000; font-family: monospace; white-space: pre-wrap; border: 2px solid #cc0000; margin: 20px;"></div>

          <script>
            window.onerror = function(msg, url, lineNo, columnNo, error) {
              const errorDiv = document.getElementById('error-display');
              errorDiv.style.display = 'block';
              errorDiv.textContent = 'Error: ' + msg + '\\nLine: ' + lineNo + '\\n\\n' + (error ? error.stack : '');
              console.error('Global error:', msg, error);
              return false;
            };
          <\/script>

          <script type="text/babel">
            const { useState, useEffect } = React;

            (function() {
              try {
                console.log('Starting render...');
                const data = ${JSON.stringify(vn)};
                console.log('Data loaded:', data);

                ${k}

                console.log('Component loaded:', typeof ${D});

                // 
                const rootElement = document.getElementById('root');
                console.log('Root element:', rootElement);

                const root = ReactDOM.createRoot(rootElement);
                root.render(React.createElement(${D}, { data: data }));

                console.log('Render initiated');

                //    ID    
                setTimeout(() => {
                  console.log('Adding element IDs and drag functionality...');
                  const allDivs = document.querySelectorAll('div');
                  let elementIndex = 0;

                  allDivs.forEach((div) => {
                    if (div.id !== 'root' && div.id !== 'error-display') {
                      div.setAttribute('data-element-id', 'element-' + elementIndex);
                      div.classList.add('editable-element');
                      elementIndex++;

                      //       
                      div.addEventListener('click', (e) => {
                        e.stopPropagation();

                        //   
                        document.querySelectorAll('.selected').forEach(el => {
                          el.classList.remove('selected');
                          //   
                          el.querySelectorAll('.resize-handle').forEach(h => h.remove());
                        });

                        div.classList.add('selected');

                        //    
                        const handles = ['nw', 'n', 'ne', 'w', 'e', 'sw', 's', 'se'];
                        handles.forEach(pos => {
                          const handle = document.createElement('div');
                          handle.className = \`resize-handle \${pos}\`;
                          handle.setAttribute('data-position', pos);
                          div.appendChild(handle);
                        });

                        window.parent.postMessage({
                          type: 'ELEMENT_SELECTED',
                          elementId: div.getAttribute('data-element-id')
                        }, '*');
                      });

                      //    
                      let isDragging = false;
                      let isResizing = false;
                      let resizeDirection = '';
                      let startX = 0;
                      let startY = 0;
                      let initialLeft = 0;
                      let initialTop = 0;
                      let initialWidth = 0;
                      let initialHeight = 0;

                      div.addEventListener('mousedown', (e) => {
                        const target = e.target;

                        //   
                        if (target.classList.contains('resize-handle')) {
                          isResizing = true;
                          resizeDirection = target.getAttribute('data-position');

                          startX = e.clientX;
                          startY = e.clientY;

                          const style = window.getComputedStyle(div);
                          initialLeft = parseInt(style.left) || 0;
                          initialTop = parseInt(style.top) || 0;
                          initialWidth = parseInt(style.width) || 0;
                          initialHeight = parseInt(style.height) || 0;

                          e.preventDefault();
                          e.stopPropagation();
                          return;
                        }

                        //   (     )
                        if (!div.classList.contains('selected')) return;

                        isDragging = true;
                        startX = e.clientX;
                        startY = e.clientY;

                        const style = window.getComputedStyle(div);
                        initialLeft = parseInt(style.left) || 0;
                        initialTop = parseInt(style.top) || 0;

                        // position static absolute 
                        if (style.position === 'static' || style.position === 'relative') {
                          div.style.position = 'absolute';
                        }

                        e.preventDefault();
                        e.stopPropagation();
                      });

                      document.addEventListener('mousemove', (e) => {
                        const deltaX = e.clientX - startX;
                        const deltaY = e.clientY - startY;

                        if (isResizing) {
                          //  
                          if (resizeDirection.includes('e')) {
                            div.style.width = (initialWidth + deltaX) + 'px';
                          }
                          if (resizeDirection.includes('w')) {
                            div.style.width = (initialWidth - deltaX) + 'px';
                            div.style.left = (initialLeft + deltaX) + 'px';
                          }
                          if (resizeDirection.includes('s')) {
                            div.style.height = (initialHeight + deltaY) + 'px';
                          }
                          if (resizeDirection.includes('n')) {
                            div.style.height = (initialHeight - deltaY) + 'px';
                            div.style.top = (initialTop + deltaY) + 'px';
                          }
                        } else if (isDragging) {
                          //  
                          const newLeft = initialLeft + deltaX;
                          const newTop = initialTop + deltaY;

                          div.style.left = newLeft + 'px';
                          div.style.top = newTop + 'px';
                        }
                      });

                      document.addEventListener('mouseup', (e) => {
                        if (isDragging || isResizing) {
                          const style = window.getComputedStyle(div);

                          window.parent.postMessage({
                            type: isResizing ? 'ELEMENT_RESIZED' : 'ELEMENT_MOVED',
                            elementId: div.getAttribute('data-element-id'),
                            left: style.left,
                            top: style.top,
                            width: style.width,
                            height: style.height
                          }, '*');
                        }

                        isDragging = false;
                        isResizing = false;
                        resizeDirection = '';
                      });
                    }
                  });

                  console.log('Total editable elements:', elementIndex);
                }, 500);
              } catch (error) {
                console.error('Rendering error:', error);
                const errorDiv = document.getElementById('error-display');
                errorDiv.style.display = 'block';
                errorDiv.textContent = 'Rendering Error:\\n\\n' + error.message + '\\n\\nStack:\\n' + error.stack;
              }
            })();
          <\/script>
        </body>
      </html>
    `;S.open(),S.write(Ee),S.close()},[a,vn]),d.useEffect(()=>{const I=S=>{if(S.data.type==="ELEMENT_SELECTED"){const k=S.data.elementId;m(k),setTimeout(()=>{var D,Y;if(g.current){const K=g.current.contentDocument;if(!K)return;const B=K.querySelector(`[data-element-id="${k}"]`);if(!B)return;const le=(Y=(D=B.ownerDocument)==null?void 0:D.defaultView)==null?void 0:Y.getComputedStyle(B);if(!le)return;const Ee=B.tagName.toLowerCase()==="img",je=Ee?B.src:"",pe=Ee?"":B.textContent||"",Ce={position:le.position,left:le.left,top:le.top,width:le.width,height:le.height,backgroundColor:le.backgroundColor,color:le.color,fontSize:le.fontSize,fontWeight:le.fontWeight||"normal",textAlign:le.textAlign,display:le.display||"block",alignItems:le.alignItems||"flex-start",justifyContent:le.justifyContent||"flex-start",textContent:pe,imageSrc:je};C(Ce),console.log("Auto-loaded element styles")}},50)}else if(S.data.type==="ELEMENT_MOVED"){const{elementId:k,left:D,top:Y}=S.data;console.log("Element moved:",k,"to",D,Y),b&&x===k&&C({...b,left:D,top:Y}),yn(k,D,Y)}else if(S.data.type==="ELEMENT_RESIZED"){const{elementId:k,left:D,top:Y,width:K,height:B}=S.data;console.log("Element resized:",k,K,B),b&&x===k&&C({...b,left:D,top:Y,width:K,height:B}),cn(k,D,Y,K,B)}};return window.addEventListener("message",I),()=>window.removeEventListener("message",I)},[b,x]);const Nn=()=>{if(!x||!g.current)return null;const I=g.current.contentDocument;return I?I.querySelector(`[data-element-id="${x}"]`):null},yn=(I,S,k)=>{const D=parseInt(I.replace("element-",""));if(isNaN(D))return;console.log("Updating position in code:",I,S,k);const Y=a.split(`
`);let K=0;for(let le=0;le<Y.length;le++){const Ee=Y[le];if(Ee.includes("<div")&&!Ee.trim().startsWith("//")&&!Ee.trim().startsWith("/*")){if(K===D){const je=Ee.match(/style=\{\{([^}]*)\}\}/);if(je){let pe=je[1].trim();const Ce={};pe.split(",").map(zt=>zt.trim()).forEach(zt=>{const Ut=zt.match(/(\w+):\s*['"]([^'"]+)['"]/);Ut&&(Ce[Ut[1]]=Ut[2])}),Ce.left=S,Ce.top=k;const rt=Object.entries(Ce).map(([zt,Ut])=>`${zt}: '${Ut}'`).join(", ");Y[le]=Ee.replace(/style=\{\{[^}]*\}\}/,`style={{ ${rt} }}`),console.log("Updated position in code")}break}K++}}const B=Y.join(`
`);l(B)},cn=(I,S,k,D,Y)=>{const K=parseInt(I.replace("element-",""));if(isNaN(K))return;console.log("Updating size and position in code:",I,S,k,D,Y);const B=a.split(`
`);let le=0;for(let je=0;je<B.length;je++){const pe=B[je];if(pe.includes("<div")&&!pe.trim().startsWith("//")&&!pe.trim().startsWith("/*")){if(le===K){const Ce=pe.match(/style=\{\{([^}]*)\}\}/);if(Ce){let Fe=Ce[1].trim();const rt={};Fe.split(",").map(yt=>yt.trim()).forEach(yt=>{const Je=yt.match(/(\w+):\s*['"]([^'"]+)['"]/);Je&&(rt[Je[1]]=Je[2])}),rt.left=S,rt.top=k,rt.width=D,rt.height=Y;const Ut=Object.entries(rt).map(([yt,Je])=>`${yt}: '${Je}'`).join(", ");B[je]=pe.replace(/style=\{\{[^}]*\}\}/,`style={{ ${Ut} }}`),console.log("Updated size and position in code")}break}le++}}const Ee=B.join(`
`);l(Ee)},Xt=async()=>{try{Z(!0),O(["https://images.unsplash.com/photo-1579546929518-9e396f3cc809?w=400","https://images.unsplash.com/photo-1557683316-973673baf926?w=400","https://images.unsplash.com/photo-1581287053822-fd7bf4f4bfec?w=400","https://images.unsplash.com/photo-1516802273409-68526ee1bdd6?w=400","https://images.unsplash.com/photo-1573865526739-10c1de0b3e90?w=400","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400"]),U(!0)}catch(I){console.error("Error loading images:",I),q.error("     .")}finally{Z(!1)}},kt=I=>{b&&(Ke("imageSrc",I),U(!1),q.success(" ."))},bt=async I=>{var k;const S=(k=I.target.files)==null?void 0:k[0];if(!(!S||!x)){if(!S.type.startsWith("image/")){q.error("    .");return}try{const D=new FileReader;D.onload=Y=>{var B;const K=(B=Y.target)==null?void 0:B.result;b&&Ke("imageSrc",K),q.success(" .")},D.readAsDataURL(S)}catch(D){console.error("Image upload error:",D),q.error("    .")}}},Dn=async()=>{if(!ge.trim()||Q)return;if(!e||e==="new"){q.error("  AI  .   .");return}if(!J){q.error("      .");return}const I={id:`user-${Date.now()}`,role:"user",content:ge.trim(),timestamp:Date.now()};re(k=>[...k,I]);const S=ge.trim();L(""),ce(!0);try{const{data:{session:k}}=await se.auth.getSession();let D,Y;if(ct==="data"){const K={code:a,prop_data_type:f,user_request:S,allow_key_changes:!0};console.log(" AI   :",{conversionId:e,componentId:J,request:S,propDataType:f,requestBody:K});const B={"Content-Type":"application/json"};if(k!=null&&k.access_token&&(B.Authorization=`Bearer ${k.access_token}`),D=await fetch(`${Nt}/conversions/${e}/components/${J}/data`,{method:"PUT",headers:B,body:JSON.stringify(K),mode:"cors"}),!D.ok)throw new Error(` : ${D.status} ${D.statusText}`);Y=await D.json(),console.log(" AI   :",Y);const le=Y.data||f,Ee=Y.summary||" .";if(le){const pe=JSON.stringify(le,null,2);u(pe),Ve(!0),r(Ce=>Ce.map(Fe=>Fe.id===s?{...Fe,jsonData:pe}:Fe)),q.success("  !")}const je={id:`assistant-${Date.now()}`,role:"assistant",content:` ${Ee}

 .`,timestamp:Date.now()};re(pe=>[...pe,je])}else{const K=new FormData;K.append("user_request",S),K.append("preserve_functionality","true"),Jt&&(K.append("file",Jt),console.log("  :",Jt.name)),console.log(" AI   :",{conversionId:e,componentId:J,request:S,hasFile:!!Jt});const B={};if(k!=null&&k.access_token&&(B.Authorization=`Bearer ${k.access_token}`),D=await fetch(`${Nt}/conversions/${e}/components/${J}/code`,{method:"PUT",headers:B,body:K,mode:"cors"}),!D.ok)throw new Error(` : ${D.status} ${D.statusText}`);Y=await D.json(),console.log(" AI   :",Y);const le=Y.modified_code||Y.code||"",Ee=Y.summary||" .";le&&(l(le),qe(le),Ve(!0),r(pe=>pe.map(Ce=>Ce.id===s?{...Ce,reactCode:le}:Ce)),q.success("  !"));const je={id:`assistant-${Date.now()}`,role:"assistant",content:` ${Ee}

   .`,timestamp:Date.now()};re(pe=>[...pe,je])}}catch(k){console.error("Chat error:",k),q.error(k.message||"AI     .");const D={id:`assistant-${Date.now()}`,role:"assistant",content:`  : ${k.message||"   "}`,timestamp:Date.now()};re(Y=>[...Y,D])}finally{ce(!1),mt(null),nt.current&&(nt.current.value="")}},Ne=async()=>{if(!e||e==="new"){q.error("    .");return}try{const I=await _t();console.log("    :",{conversionId:e,content_name:te,description:ye});const S=JSON.stringify({content_name:te,description:ye}),k=await fetch(`${Nt}/conversions/${e}`,{method:"PATCH",headers:{...I,"Content-Type":"application/json"},body:S,mode:"cors"});if(!k.ok)throw new Error(` : ${k.status} ${k.statusText}`);const D=await k.json();console.log("    :",D),Te(!1),q.success("  !")}catch(I){console.error("Update info error:",I),q.error(I.message||"   .")}},Ue=async()=>{if(!e||e==="new"){q.error("    .");return}if(!J){q.error("      .");return}if(!ze&&!Le){q.error("  .");return}try{const I=await _t();if(ct==="data"){console.log("    :",{conversionId:e,componentId:J,propDataType:f});const S=new URLSearchParams({component_id:(J==null?void 0:J.toString())||"",prop_data_type:JSON.stringify(f)}),k=await fetch(`${Nt}/conversions/${e}/components/${J}/data?${S}`,{method:"PATCH",headers:I,mode:"cors"});if(!k.ok)throw new Error(` : ${k.status} ${k.statusText}`);const D=await k.json();if(console.log("    :",D),D.modified_data){const Y=JSON.stringify(D.modified_data,null,2);u(Y),r(K=>K.map(B=>B.id===s?{...B,jsonData:Y}:B)),console.log("   :",{dataKeys:Object.keys(D.modified_data)})}Ve(!1),q.success("  !")}else{const S=ze||a;console.log("    :",{conversionId:e,componentId:J,codeLength:S.length});const k=new URLSearchParams({modified_code:S}),D=await fetch(`${Nt}/conversions/${e}/components/${J}/code?${k}`,{method:"PATCH",headers:I,mode:"cors"});if(!D.ok)throw new Error(` : ${D.status} ${D.statusText}`);const Y=await D.json();console.log("    :",Y),Ve(!1),q.success("  !")}}catch(I){console.error("Save error:",I),q.error(I.message||"   .")}},Me=I=>{var k;const S=(k=I.target.files)==null?void 0:k[0];S&&(mt(S),q.success(` "${S.name}" .`))},Tt=()=>{mt(null),nt.current&&(nt.current.value=""),q.info(" .")};d.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[ve]);const Ke=(I,S)=>{if(!b)return;C({...b,[I]:S});const k=Nn();k&&(I==="textContent"?k.textContent=S:I==="imageSrc"?k.tagName.toLowerCase()==="img"&&(k.src=S):(I==="left"||I==="top"||I==="width"||I==="height"||I==="backgroundColor"||I==="color"||I==="fontSize"||I==="fontWeight"||I==="textAlign"||I==="display"||I==="alignItems"||I==="justifyContent")&&(k.style[I]=S))},Ln=async()=>{if(!b||!x){q.error("  ");return}if(!Nn()){q.error("   ");return}if(!e||e==="new"){q.error("    .");return}try{console.log("===   ===");const S=wr(x,b);if(!S){q.error("  .");return}console.log("React   ");const k=await _t();if(!J){q.error(" ID   .");return}console.log("   :",{conversionId:e,componentId:J,codeLength:S.length});const D=new URLSearchParams({modified_code:S}),Y=await fetch(`${Nt}/conversions/${e}/components/${J}/code?${D}`,{method:"PATCH",headers:k,mode:"cors"});if(!Y.ok)throw new Error(` : ${Y.status} ${Y.statusText}`);const K=await Y.json();console.log("   :",K),q.success(" "),console.log("===   ==="),C(null)}catch(S){console.error("Save error:",S),q.error(S.message||"   ")}},wr=(I,S)=>{var Ee,je;if(!I||!S)return;const k=parseInt(I.replace("element-",""));if(isNaN(k))return;console.log("===    ==="),console.log("Element Index:",k),console.log("Styles to update:",S);const D=a.split(`
`);let Y=0,K=!1,B=null;for(let pe=0;pe<D.length;pe++){const Ce=D[pe],Fe=Ce.includes("<div")&&!Ce.trim().startsWith("//")&&!Ce.trim().startsWith("/*"),rt=Ce.includes("<img")&&!Ce.trim().startsWith("//")&&!Ce.trim().startsWith("/*");if(Fe||rt){if(Y===k){console.log("Found target element at line",pe,":",Ce),rt&&S.imageSrc&&(console.log("Updating image src:",S.imageSrc),Ce.includes("src=")?D[pe]=Ce.replace(/src=['"]([^'"]*)['"]/g,`src="${S.imageSrc}"`):D[pe]=Ce.replace(/<img/,`<img src="${S.imageSrc}"`),K=!0);const zt=Ce.match(/style=\{\{([^}]*)\}\}/);if(zt){let yt=zt[1].trim();console.log("Original style content:",yt);const Je={};yt.split(",").map(ne=>ne.trim()).forEach(ne=>{const we=ne.match(/(\w+):\s*['"]([^'"]+)['"]/);we&&(Je[we[1]]=we[2])}),Je.left=S.left,Je.top=S.top,Je.width=S.width,Je.height=S.height,Je.backgroundColor=S.backgroundColor,Je.color=S.color,Je.fontSize=S.fontSize,Je.fontWeight=S.fontWeight,Je.textAlign=S.textAlign,Je.display=S.display,Je.alignItems=S.alignItems,Je.justifyContent=S.justifyContent;const A=Object.entries(Je).map(([ne,we])=>`${ne}: '${we}'`).join(", ");D[pe]=Ce.replace(/style=\{\{[^}]*\}\}/,`style={{ ${A} }}`),console.log("Updated line:",D[pe]),K=!0}else{const yt=`left: '${S.left}', top: '${S.top}', width: '${S.width}', height: '${S.height}', backgroundColor: '${S.backgroundColor}', color: '${S.color}', fontSize: '${S.fontSize}', fontWeight: '${S.fontWeight}', textAlign: '${S.textAlign}', display: '${S.display}', alignItems: '${S.alignItems}', justifyContent: '${S.justifyContent}'`;Ce.includes("className=")?D[pe]=Ce.replace(/className=/,`style={{ ${yt} }} className=`):D[pe]=Ce.replace(/>/,` style={{ ${yt} }}>`),console.log("Added style to line:",D[pe]),K=!0}const Ut=(Ee=S.textContent)==null?void 0:Ee.trim();if(Ut&&Ut.length>0){if(console.log("Checking text content:",Ut),D[pe].includes("</div>")){const yt=D[pe].match(/>(.*?)<\/div>/);if(yt){const Je=yt[1].trim();console.log("Current text in same line:",Je);const _e=Je.match(/\{data\.(\w+)\}/);_e?(B=_e[1],console.log("Found data binding key:",B)):(D[pe]=D[pe].replace(/>[^<]*<\/div>/,`>${Ut}</div>`),console.log("Updated text directly:",D[pe]))}}else for(let yt=pe+1;yt<Math.min(pe+10,D.length);yt++)if(D[yt].includes("</div>")){for(let Je=pe+1;Je<yt;Je++){const _e=D[Je].trim();if(_e&&!_e.startsWith("<")&&!_e.startsWith("//")){console.log("Found text line:",_e);const A=_e.match(/\{data\.(\w+)\}/);if(A)B=A[1],console.log("Found data binding key in multiline:",B);else{const ne=((je=D[Je].match(/^\s*/))==null?void 0:je[0])||"      ";D[Je]=ne+Ut,console.log("Updated text directly in multiline:",D[Je])}break}}break}}break}Y++}}const le=D.join(`
`);if(console.log("===    ( 20) ==="),console.log(le.split(`
`).slice(0,20).join(`
`)),K&&l(le),B&&S.textContent){console.log("Updating JSON data:",B,"=",S.textContent);try{const pe=JSON.parse(c);pe[B]=S.textContent;const Ce=JSON.stringify(pe,null,2);u(Ce),console.log("JSON data updated")}catch(pe){console.error("Failed to update JSON data:",pe)}}return console.log("===    ==="),K?le:null},vt=()=>{const I=Nn();!I||!x||confirm("  ?")&&(I.remove(),En(x),m(null),q.success(" "))},En=I=>{const S=parseInt(I.replace("element-",""));if(isNaN(S))return;const k=a.split(`
`);let D=0,Y=-1,K=-1,B=0;for(let le=0;le<k.length;le++){const Ee=k[le];if(Ee.includes("<div")&&!Ee.trim().startsWith("//")&&!Ee.trim().startsWith("/*")){if(D===S){if(Y=le,le>0&&k[le-1].trim().startsWith("{/*")&&(Y=le-1),Ee.includes("</div>")||Ee.includes("/>")){K=le;break}B=1;for(let je=le+1;je<k.length;je++)if(k[je].includes("<div")&&B++,k[je].includes("</div>")&&(B--,B===0)){K=je;break}break}D++}}if(Y!==-1&&K!==-1){k.splice(Y,K-Y+1);const le=k.join(`
`);l(le)}};return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"border-b border-border bg-card px-4 py-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>t("/admin/materials-v2"),children:[o.jsx(H_,{className:"w-4 h-4 mr-2"}),""]}),o.jsx(Gs,{orientation:"vertical",className:"h-6"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:gn,disabled:w<=0,title:" (Ctrl+Z)",className:"h-8 px-2",children:o.jsx(dT,{className:"w-4 h-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:Ft,disabled:w>=p.length-1,title:" (Ctrl+Shift+Z)",className:"h-8 px-2",children:o.jsx(iT,{className:"w-4 h-4"})})]}),p.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[w+1," / ",p.length]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(H,{size:"sm",variant:"outline",onClick:()=>pt(!0),children:[o.jsx(Ba,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs(H,{size:"sm",className:"bg-mango-green hover:bg-mango-green/90 text-white",onClick:Ue,disabled:!Le,children:[o.jsx(ta,{className:"w-4 h-4 mr-2"}),Le?"":""]})]})]}),o.jsx("div",{className:"flex items-center gap-4",children:Ae?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex gap-2",children:[o.jsx(Pe,{value:te,onChange:I=>de(I.target.value),placeholder:"",className:"h-8"}),o.jsx(Pe,{value:ye,onChange:I=>xe(I.target.value),placeholder:"",className:"h-8"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{size:"sm",variant:"ghost",onClick:()=>{Te(!1),de((z==null?void 0:z.content_name)||""),xe((z==null?void 0:z.description)||"")},children:""}),o.jsx(H,{size:"sm",className:"bg-mango-green hover:bg-mango-green/90 text-white",onClick:Ne,children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:te||" "}),o.jsx("p",{className:"text-xs text-muted-foreground",children:ye||" "})]}),o.jsx(H,{size:"sm",variant:"ghost",onClick:()=>Te(!0),children:""})]})})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[o.jsx("div",{className:`border-r border-border bg-card flex flex-col transition-all duration-300 ${me?"w-96":"w-0"}`,style:{overflow:me?"visible":"hidden",opacity:me?1:0},children:o.jsxs(Oa,{defaultValue:"slides",className:"h-full flex flex-col",children:[o.jsx("div",{className:"px-4 pt-4 pb-2 border-b border-border",children:o.jsxs(gi,{className:"grid w-full grid-cols-3",children:[o.jsxs(_n,{value:"slides",children:[o.jsx(eT,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs(_n,{value:"code",children:[o.jsx(yp,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs(_n,{value:"data",children:[o.jsx(q_,{className:"w-4 h-4 mr-2"}),""]})]})}),o.jsx(bn,{value:"slides",className:"m-0 p-4 overflow-auto",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(W,{children:" "}),o.jsxs(H,{size:"sm",onClick:Kt,variant:"outline",children:[o.jsx(pr,{className:"w-4 h-4 mr-1"}),""]})]}),o.jsx("div",{className:"space-y-2",children:n.map(I=>o.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${s===I.id?"bg-mango-green/10 border-mango-green":"bg-card border-border hover:bg-muted"}`,onClick:()=>i(I.id),children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-medium",children:I.name}),n.length>1&&o.jsx(H,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:S=>{S.stopPropagation(),st(I.id)},children:o.jsx(wn,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{children:[": ",I.reactCode?`${I.reactCode.length}`:""]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[": ",I.jsonData?`${I.jsonData.length}`:""]})]})]},I.id))})]})}),o.jsx(bn,{value:"code",className:"flex flex-col m-0 p-4",children:o.jsxs("div",{className:"flex-1 flex flex-col space-y-3",children:[o.jsx(W,{children:"React "}),o.jsx(On,{value:a,onChange:I=>l(I.target.value),placeholder:"React   ...",className:"flex-1 font-mono text-sm resize-none bg-slate-950 text-slate-50 border-slate-800",style:{lineHeight:"1.6",tabSize:2,whiteSpace:"pre"}}),o.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-lg",children:[o.jsx("p",{className:"font-semibold mb-2",children:"  :"}),o.jsxs("ul",{className:"space-y-1.5 ml-1",children:[o.jsx("li",{children:" React  "}),o.jsx("li",{children:"     "}),o.jsx("li",{children:"    "})]})]})]})}),o.jsx(bn,{value:"data",className:"flex flex-col m-0 p-4",children:o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(W,{className:"mb-2",children:"JSON "}),o.jsx(On,{value:c,onChange:I=>u(I.target.value),className:"flex-1 font-mono text-xs resize-none",placeholder:'{"key": "value"}'})]})})]})}),o.jsx(H,{variant:"outline",size:"sm",onClick:()=>ee(!me),className:"absolute left-0 top-4 z-10 rounded-r-md rounded-l-none border-l-0 h-20 px-2",style:{left:me?"384px":"0px",transition:"left 0.3s ease"},children:me?o.jsx(gg,{className:"w-4 h-4"}):o.jsx(vg,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex-1 bg-muted/20 overflow-auto flex items-center justify-center p-8",children:o.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden",style:{width:"1280px",height:"720px",minWidth:"1280px",minHeight:"720px",maxWidth:"1280px",maxHeight:"720px"},children:a.trim()?o.jsx("iframe",{ref:g,className:"w-full h-full border-0",title:"rendered-content",sandbox:"allow-scripts allow-same-origin"}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(yp,{className:"w-20 h-20 mb-4 opacity-20"}),o.jsx("p",{className:"text-lg font-semibold",children:" React  "}),o.jsx("p",{className:"text-sm mt-2",children:"   (1280720, 16:9)"})]})})}),o.jsx("div",{className:"border-l border-border bg-card flex flex-col relative",style:{width:"277px"},children:o.jsxs(Oa,{defaultValue:"properties",className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-border",children:[o.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2 mb-3",children:[o.jsx(Yc,{className:"w-5 h-5"})," "]}),o.jsxs(gi,{className:"grid w-full grid-cols-2",children:[o.jsxs(_n,{value:"properties",className:"text-xs",children:[o.jsx(Yc,{className:"w-3 h-3 mr-1"}),""]}),o.jsxs(_n,{value:"ai",className:"text-xs",children:[o.jsx(xo,{className:"w-3 h-3 mr-1"}),"AI "]})]})]}),o.jsxs(bn,{value:"properties",className:"m-0 overflow-hidden",children:[o.jsx(md,{className:"h-full",style:{paddingBottom:"140px"},children:o.jsx("div",{className:"p-4 space-y-6",children:x?o.jsx(o.Fragment,{children:b?o.jsxs(o.Fragment,{children:[b.imageSrc&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs(W,{className:"flex items-center gap-2",children:[o.jsx(Kf,{className:"w-4 h-4"}),""]}),o.jsx("div",{className:"border rounded-lg p-2 bg-muted/20",children:o.jsx("img",{src:b.imageSrc,alt:"",className:"w-full h-32 object-contain rounded"})}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground mb-1",children:" URL"}),o.jsx(Pe,{value:b.imageSrc,onChange:I=>Ke("imageSrc",I.target.value),placeholder:"https://example.com/image.jpg",className:"font-mono text-xs"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:Xt,disabled:G,children:[o.jsx(Kf,{className:"w-4 h-4 mr-2"}),""]}),o.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:bt,className:"hidden"}),o.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{var I;return(I=N.current)==null?void 0:I.click()},children:[o.jsx(Ea,{className:"w-4 h-4 mr-2"}),""]})]})]}),o.jsx(Gs,{})]}),!b.imageSrc&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs(W,{className:"flex items-center gap-2",children:[o.jsx(uT,{className:"w-4 h-4"})," "]}),o.jsx(On,{value:b.textContent||"",onChange:I=>Ke("textContent",I.target.value),rows:3,placeholder:" "})]}),o.jsx(Gs,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(W,{className:"flex items-center gap-2",children:[o.jsx(Yc,{className:"w-4 h-4"})," (px)"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:"Left (X)"}),o.jsx(Pe,{type:"number",value:parseInt(b.left)||0,onChange:I=>Ke("left",`${I.target.value}px`)})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:"Top (Y)"}),o.jsx(Pe,{type:"number",value:parseInt(b.top)||0,onChange:I=>Ke("top",`${I.target.value}px`)})]})]})]}),o.jsx(Gs,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(W,{className:"flex items-center gap-2",children:[o.jsx(rT,{className:"w-4 h-4"})," (px)"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:"Width"}),o.jsx(Pe,{type:"number",value:parseInt(b.width)||0,onChange:I=>Ke("width",`${I.target.value}px`)})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:"Height"}),o.jsx(Pe,{type:"number",value:parseInt(b.height)||0,onChange:I=>Ke("height",`${I.target.value}px`)})]})]})]}),o.jsx(Gs,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(W,{children:""}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pe,{type:"color",value:Hx(b.backgroundColor),onChange:I=>Ke("backgroundColor",I.target.value),className:"w-20"}),o.jsx(Pe,{value:b.backgroundColor,onChange:I=>Ke("backgroundColor",I.target.value),className:"flex-1 font-mono text-xs"})]})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:""}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Pe,{type:"color",value:Hx(b.color),onChange:I=>Ke("color",I.target.value),className:"w-20"}),o.jsx(Pe,{value:b.color,onChange:I=>Ke("color",I.target.value),className:"flex-1 font-mono text-xs"})]})]})]})]}),o.jsx(Gs,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(W,{children:" "}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:" "}),o.jsx(Pe,{value:b.fontSize,onChange:I=>Ke("fontSize",I.target.value)})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:" "}),o.jsxs("select",{value:b.fontWeight,onChange:I=>Ke("fontWeight",I.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background",children:[o.jsx("option",{value:"normal",children:""}),o.jsx("option",{value:"bold",children:""}),o.jsx("option",{value:"lighter",children:""}),o.jsx("option",{value:"100",children:"100"}),o.jsx("option",{value:"200",children:"200"}),o.jsx("option",{value:"300",children:"300"}),o.jsx("option",{value:"400",children:"400 ()"}),o.jsx("option",{value:"500",children:"500"}),o.jsx("option",{value:"600",children:"600"}),o.jsx("option",{value:"700",children:"700 ()"}),o.jsx("option",{value:"800",children:"800"}),o.jsx("option",{value:"900",children:"900"})]})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:" "}),o.jsxs("select",{value:b.textAlign,onChange:I=>Ke("textAlign",I.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background",children:[o.jsx("option",{value:"left",children:""}),o.jsx("option",{value:"center",children:""}),o.jsx("option",{value:"right",children:""})]})]}),o.jsxs("div",{children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:" "}),o.jsxs("select",{value:b.alignItems,onChange:I=>{if(!b)return;let S="flex-start";b.textAlign==="center"?S="center":b.textAlign==="right"?S="flex-end":b.textAlign==="left"&&(S="flex-start");const k={...b,display:"flex",alignItems:I.target.value,justifyContent:S};C(k);const D=Nn();D&&(D.style.display="flex",D.style.alignItems=I.target.value,D.style.justifyContent=S,b.textAlign&&(D.style.textAlign=b.textAlign))},className:"w-full h-9 px-3 rounded-md border border-input bg-background",children:[o.jsx("option",{value:"flex-start",children:""}),o.jsx("option",{value:"center",children:""}),o.jsx("option",{value:"flex-end",children:""})]})]})]})]})]}):o.jsx("div",{className:"text-center text-muted-foreground py-12",children:o.jsx("p",{className:"text-sm",children:"  ..."})})}):o.jsxs("div",{className:"text-center text-muted-foreground py-16",children:[o.jsx(Yc,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),o.jsx("p",{className:"text-sm font-medium",children:" "}),o.jsx("p",{className:"text-xs mt-1",children:"     "})]})})}),x&&b&&o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-card border-t border-border p-4 space-y-3",children:[o.jsxs(H,{className:"w-full bg-mango-green hover:bg-mango-green/90 text-white",onClick:Ln,children:[o.jsx(ta,{className:"w-4 h-4 mr-2"})," "]}),o.jsxs(H,{variant:"destructive",className:"w-full",onClick:vt,children:[o.jsx(wn,{className:"w-4 h-4 mr-2"})," "]})]})]}),o.jsx(bn,{value:"ai",className:"m-0 flex flex-col h-full",children:o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"border-b border-border p-3 bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{className:"text-xs text-muted-foreground",children:" :"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{size:"sm",variant:ct==="code"?"default":"outline",onClick:()=>Dt("code"),className:"h-7 text-xs",children:" "}),o.jsx(H,{size:"sm",variant:ct==="data"?"default":"outline",onClick:()=>Dt("data"),className:"h-7 text-xs",children:"  "})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:ct==="code"?"  . , ,     .":"   . ,  URL    ."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",ref:E,children:ve.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-muted-foreground py-12",children:[o.jsx(xo,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{className:"text-sm font-medium",children:"AI "}),o.jsx("p",{className:"text-xs mt-2 px-4",children:"     ."}),o.jsxs("div",{className:"mt-4 text-xs space-y-1 text-left bg-muted/30 p-3 rounded-lg",children:[o.jsx("p",{className:"font-semibold mb-2",children:":"}),o.jsx("p",{children:' "   "'}),o.jsx("p",{children:' "    "'}),o.jsx("p",{children:' "  "'})]})]}):o.jsxs("div",{className:"space-y-4",children:[ve.map(I=>o.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[85%] rounded-lg p-3 ${I.role==="user"?"bg-mango-green text-white":"bg-muted text-foreground"}`,children:[o.jsx("p",{className:"text-xs whitespace-pre-wrap",children:I.content}),o.jsx("p",{className:`text-[10px] mt-1 ${I.role==="user"?"text-white/70":"text-muted-foreground"}`,children:new Date(I.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})},I.id)),Q&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-muted rounded-lg p-3",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]})}),Le&&o.jsx("div",{className:"flex-shrink-0 border-t border-border px-4 py-3 bg-muted/30",children:o.jsxs(H,{onClick:Ue,className:"w-full bg-mango-green hover:bg-mango-green/90 text-white",size:"sm",children:[o.jsx(ta,{className:"w-4 h-4 mr-2"}),"AI   "]})}),o.jsxs("div",{className:"flex-shrink-0 border-t border-border p-4",children:[Jt&&o.jsxs("div",{className:"mb-2 flex items-center gap-2 p-2 bg-muted rounded-md",children:[o.jsx(Ny,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm flex-1 truncate",children:Jt.name}),o.jsx(H,{variant:"ghost",size:"sm",onClick:Tt,className:"h-6 w-6 p-0",children:o.jsx(di,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex flex-col gap-2 flex-1",children:o.jsx(On,{value:ge,onChange:I=>L(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),Dn())},placeholder:"  ...",className:"flex-1 resize-none text-sm h-[80px] max-h-[80px] overflow-y-auto",disabled:Q})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{ref:nt,type:"file",onChange:Me,className:"hidden",accept:"image/*,video/*,.pdf,.doc,.docx,.txt,.webm"}),o.jsx(H,{variant:"outline",size:"icon",onClick:()=>{var I;return(I=nt.current)==null?void 0:I.click()},disabled:Q,className:"h-[38px] w-12",title:" ",children:o.jsx(Ny,{className:"w-4 h-4"})}),o.jsx(H,{size:"icon",onClick:Dn,disabled:!ge.trim()||Q,className:"bg-mango-green hover:bg-mango-green/90 h-[38px] w-12",children:o.jsx(aT,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Enter , Shift+Enter  |   "})]})]})})]})})]}),o.jsx(fn,{open:$,onOpenChange:U,children:o.jsxs(sn,{className:"max-w-4xl max-h-[80vh]",children:[o.jsxs(hn,{children:[o.jsx(on,{children:" "}),o.jsx(er,{children:"  "})]}),o.jsx(md,{className:"h-[60vh] pr-4",children:G?o.jsx("div",{className:"flex justify-center items-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mango-green"})}):P.length===0?o.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[o.jsx(Kf,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"   ."})]}):o.jsx("div",{className:"grid grid-cols-3 gap-4",children:P.map((I,S)=>o.jsx("div",{className:"border rounded-lg p-2 cursor-pointer hover:border-mango-green hover:shadow-lg transition-all",onClick:()=>kt(I),children:o.jsx("img",{src:I,alt:` ${S+1}`,className:"w-full h-40 object-cover rounded"})},S))})})]})}),o.jsx(fn,{open:Ze,onOpenChange:pt,children:o.jsx(sn,{className:"max-w-[90vw] max-h-[90vh] w-full h-full p-0 [&>button]:hidden",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[o.jsxs("div",{children:[o.jsx(on,{className:"text-lg font-semibold",children:""}),o.jsx(er,{className:"text-sm text-muted-foreground",children:"   "})]}),o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>pt(!1),children:o.jsx(di,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-8",children:o.jsx("div",{className:"mx-auto bg-white shadow-2xl",style:{width:"1280px",height:"720px"},children:o.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},title:"Preview",srcDoc:`
                    <!DOCTYPE html>
                    <html>
                      <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <script src="https://cdn.tailwindcss.com"><\/script>
                        <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
                        <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>
                        <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
                        <style>
                          * {
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                          }
                          body {
                            width: 1280px;
                            height: 720px;
                            overflow: hidden;
                          }
                          #root {
                            width: 100%;
                            height: 100%;
                          }
                        </style>
                      </head>
                      <body>
                        <div id="root"></div>
                        <script type="text/babel">
                          const { useState, useEffect } = React;

                          ${(()=>{let I=a.replace(/import\s+.*?from\s+['"].*?['"];?\s*/g,"");I=I.replace(/export\s+default\s+/g,"");const S=I.match(/function\s+(\w+)/),k=S?S[1]:"Component";return{cleanCode:I,componentName:k}})().cleanCode}

                          const jsonData = ${c};
                          const componentName = ${(()=>{const I=a.match(/function\s+(\w+)/);return I?`'${I[1]}'`:"'Component'"})()};

                          //    
                          const ComponentToRender = eval(componentName);
                          if (typeof ComponentToRender !== 'undefined') {
                            const root = ReactDOM.createRoot(document.getElementById('root'));
                            root.render(React.createElement(ComponentToRender, { data: jsonData }));
                          } else {
                            document.getElementById('root').innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; font-size: 24px; color: #666;">   .</div>';
                          }
                        <\/script>
                      </body>
                    </html>
                  `})})})]})})})]})}function Hx(e){if(e.startsWith("#"))return e;const t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(!t)return"#000000";const n=parseInt(t[1]),r=parseInt(t[2]),s=parseInt(t[3]);return"#"+[n,r,s].map(i=>{const a=i.toString(16);return a.length===1?"0"+a:a}).join("")}function Q4(){var v;const{id:e}=oS(),t=Io(),[n,r]=d.useState(null),[s,i]=d.useState(0),[a,l]=d.useState(!0),c="http://127.0.0.1:8000",u=async()=>{const{data:{session:_}}=await se.auth.getSession(),x={"Content-Type":"application/json"};return _!=null&&_.access_token&&(x.Authorization=`Bearer ${_.access_token}`),x};d.useEffect(()=>{(async()=>{if(!e){l(!1);return}try{l(!0);const x=await u(),m=await fetch(`${c}/conversions/${e}`,{method:"GET",headers:x,mode:"cors"});if(!m.ok)throw new Error(` : ${m.status} ${m.statusText}`);const g=await m.json();console.log(" API  :",g),r(g)}catch(x){console.error("    :",x),q.error("  ")}finally{l(!1)}})()},[e]);const h=(()=>{var N,P;if(console.log(" getCurrentSlideData "),!n)return console.log(" conversionData "),null;if(!n.slides)return console.log(" conversionData.slides "),null;if(!n.components)return console.log(" conversionData.components "),null;console.log("   :",n.slides.length),console.log("   :",n.components.length),console.log("   :",s);const _=n.slides[s];if(!_)return console.log("     "),null;console.log("  :",_);const x=_.layout_component;console.log(" layout_component:",x),console.log("    :",n.components.map(O=>O.component_name));const m=n.components.find(O=>O.component_name===x);if(!m)return console.error(` layout_component="${x}"     `),null;console.log("  :",m.component_name),console.log("   :",(N=m.code)==null?void 0:N.length),console.log(" imports :",((P=m.imports)==null?void 0:P.length)||0);let g=m.imports&&m.imports.length>0?`${m.imports.join(`
`)}

${m.code}`:m.code;g=g.replace(/import\s+.*?from\s+['"].*?['"];?\s*/g,""),g=g.replace(/export\s+default\s+/g,"");const b=g.match(/function\s+(\w+)/),C=b?b[1]:"Component";return console.log("  React :"),console.log(""),console.log(g),console.log(""),console.log("  :",C),console.log("  :"),console.log(JSON.stringify(_.data,null,2)),{reactCode:g,componentName:C,jsonData:_.data}})(),p=((v=n==null?void 0:n.slides)==null?void 0:v.length)||0;d.useEffect(()=>{h&&console.log("   :",{slideIndex:s,reactCodeLength:h.reactCode.length,jsonData:h.jsonData,reactCodePreview:h.reactCode.substring(0,200)})},[h,s]);const y=()=>{s>0&&i(s-1)},w=()=>{s<p-1&&i(s+1)};return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"h-14 border-b border-border bg-card px-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>t("/admin/materials-v2"),className:"rounded-full",children:[o.jsx(H_,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold",children:(n==null?void 0:n.original_filename)||" "}),o.jsx("span",{className:"text-xs text-muted-foreground",children:p>0&&`${s+1} / ${p} `})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[p>1&&o.jsxs(o.Fragment,{children:[o.jsx(H,{variant:"outline",size:"sm",onClick:y,disabled:s===0,children:o.jsx(gg,{className:"w-4 h-4"})}),o.jsx(H,{variant:"outline",size:"sm",onClick:w,disabled:s>=p-1,children:o.jsx(vg,{className:"w-4 h-4"})})]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>t(`/admin/materials-v2/editor/${e}`),className:"rounded-full",children:[o.jsx(Md,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs(H,{variant:"outline",size:"sm",className:"rounded-full",children:[o.jsx(lT,{className:"w-4 h-4 mr-2"}),""]}),o.jsxs(H,{variant:"outline",size:"sm",className:"rounded-full",children:[o.jsx(ui,{className:"w-4 h-4 mr-2"}),""]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 flex items-center justify-center p-8",children:a?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-mango-green mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"  ..."})]}):h?o.jsx("div",{className:"bg-white shadow-2xl",style:{width:"1280px",height:"720px"},children:o.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},title:"Preview",srcDoc:(()=>{const _=`
                <!DOCTYPE html>
                <html>
                  <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <script src="https://cdn.tailwindcss.com"><\/script>
                    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
                    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>
                    <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
                    <style>
                      * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                      }
                      body {
                        width: 1280px;
                        height: 720px;
                        overflow: hidden;
                      }
                      #root {
                        width: 100%;
                        height: 100%;
                      }
                    </style>
                  </head>
                  <body>
                    <div id="root"></div>
                    <script type="text/babel">
                      try {
                        console.log(' React   ');
                        const { useState, useEffect } = React;

                        ${h.reactCode}

                        const jsonData = ${JSON.stringify(h.jsonData)};
                        console.log(' JSON :', jsonData);
                        console.log('  :', '${h.componentName}');

                        //    
                        const ComponentToRender = ${h.componentName};
                        if (typeof ComponentToRender !== 'undefined') {
                          console.log(' ${h.componentName}  ,  ');
                          const root = ReactDOM.createRoot(document.getElementById('root'));
                          root.render(<ComponentToRender data={jsonData} />);
                        } else {
                          console.error(' ${h.componentName}    ');
                          document.getElementById('root').innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; font-size: 24px; color: #666;">   .</div>';
                        }
                      } catch (error) {
                        console.error('  :', error);
                        document.getElementById('root').innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; flex-direction: column; font-size: 18px; color: #e53e3e; padding: 20px;"><div style="font-weight: bold; margin-bottom: 10px;"> </div><div style="font-size: 14px; color: #666;">' + error.message + '</div></div>';
                      }
                    <\/script>
                  </body>
                </html>
              `;return console.log(" iframe  HTML:"),console.log(""),console.log(_),console.log(""),_})()},`slide-${s}`)}):o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:"   "}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"     ."})]})})]})}function Y4(){var av,lv;const[e,t]=d.useState("images"),[n,r]=d.useState(""),[s,i]=d.useState(!1),[a,l]=d.useState(!1),[c,u]=d.useState(null),[f,h]=d.useState(null);d.useState(1);const[p,y]=d.useState(1),[w,v]=d.useState(1),[_,x]=d.useState(1),[m,g]=d.useState(1),b=20,[C,N]=d.useState(""),[P,O]=d.useState(""),[$,U]=d.useState(""),[G,Z]=d.useState(""),[me,ee]=d.useState(""),[ve,re]=d.useState(""),[ge,L]=d.useState(""),[Q,ce]=d.useState(""),[E,M]=d.useState(""),[z,oe]=d.useState(""),[J,V]=d.useState(null),[te,de]=d.useState(""),[ye,xe]=d.useState(""),[Ae,Te]=d.useState([]),[ze,qe]=d.useState([]),[Le,Ve]=d.useState([]),[ct,Dt]=d.useState(""),[Ze,pt]=d.useState(""),[Jt,mt]=d.useState(""),[nt,Nt]=d.useState(""),[_t,Kt]=d.useState(""),st=Ig(),{data:gn=[],isLoading:Ft}=dl({queryKey:["image-categories"],queryFn:async()=>{const{data:j,error:X}=await se.from("image_contents_categories").select("*").order("category_name");if(X)throw X;return j||[]}}),{data:vn=[],isLoading:Nn}=dl({queryKey:["image-roles"],queryFn:async()=>{const{data:j,error:X}=await se.from("image_contents_roles").select("*").order("role_name");if(X)throw X;return j||[]}}),{data:yn=[],isLoading:cn}=dl({queryKey:["didactic-intents"],queryFn:async()=>{const{data:j,error:X}=await se.from("image_didactic_intents").select("*").order("intent_name");if(X)throw X;return j||[]}}),{data:Xt=[],isLoading:kt}=dl({queryKey:["image-contents"],queryFn:async()=>{const{data:j,error:X}=await se.from("image_contents").select("*").order("created_at",{ascending:!1});if(X)throw X;return j||[]}}),{data:bt=[],isLoading:Dn}=dl({queryKey:["image-didactic-intents"],queryFn:async()=>{const{data:j,error:X}=await se.from("image_content_didactic_intents").select("*");if(X)throw X;return j||[]}}),Ne=()=>{N(""),O("")},Ue=()=>{U(""),Z(""),ee("")},Me=()=>{re(""),L(""),ce("")},Tt=()=>{M(""),oe(""),V(null),de(""),xe(""),Te([]),qe([]),Ve([]),Dt(""),pt(""),mt(""),Nt(""),Kt("")},Ke=Pn({mutationFn:async j=>{const{error:X}=await se.from("image_contents_categories").insert([j]);if(X)throw X},onSuccess:()=>{st.invalidateQueries({queryKey:["image-categories"]}),q.success(" ."),i(!1),u(null),Ne()},onError:j=>{q.error(`  : ${j.message}`)}}),Ln=Pn({mutationFn:async({id:j,data:X})=>{const{error:Re}=await se.from("image_contents_categories").update(X).eq("image_contents_category_id",j);if(Re)throw Re},onSuccess:()=>{st.invalidateQueries({queryKey:["image-categories"]}),q.success(" ."),i(!1),u(null),Ne()},onError:j=>{q.error(`  : ${j.message}`)}}),wr=Pn({mutationFn:async j=>{const{error:X}=await se.from("image_contents_categories").delete().eq("image_contents_category_id",j);if(X)throw X},onSuccess:()=>{st.invalidateQueries({queryKey:["image-categories"]}),q.success(" .")},onError:j=>{q.error(`  : ${j.message}`)}}),vt=Pn({mutationFn:async j=>{const{error:X}=await se.from("image_contents_roles").insert([j]);if(X)throw X},onSuccess:()=>{st.invalidateQueries({queryKey:["image-roles"]}),q.success(" ."),i(!1),u(null),Ue()},onError:j=>{q.error(`  : ${j.message}`)}}),En=Pn({mutationFn:async({id:j,data:X})=>{const{error:Re}=await se.from("image_contents_roles").update(X).eq("image_contents_role_id",j);if(Re)throw Re},onSuccess:()=>{st.invalidateQueries({queryKey:["image-roles"]}),q.success(" ."),i(!1),u(null),Ue()},onError:j=>{q.error(`  : ${j.message}`)}}),I=Pn({mutationFn:async j=>{const{error:X}=await se.from("image_contents_roles").delete().eq("image_contents_role_id",j);if(X)throw X},onSuccess:()=>{st.invalidateQueries({queryKey:["image-roles"]}),q.success(" .")},onError:j=>{q.error(`  : ${j.message}`)}}),S=Pn({mutationFn:async j=>{const{error:X}=await se.from("image_didactic_intents").insert([j]);if(X)throw X},onSuccess:()=>{st.invalidateQueries({queryKey:["didactic-intents"]}),q.success("  ."),i(!1),u(null),Me()},onError:j=>{q.error(`   : ${j.message}`)}}),k=Pn({mutationFn:async({id:j,data:X})=>{const{error:Re}=await se.from("image_didactic_intents").update(X).eq("didactic_intent_id",j);if(Re)throw Re},onSuccess:()=>{st.invalidateQueries({queryKey:["didactic-intents"]}),q.success("  ."),i(!1),u(null),Me()},onError:j=>{q.error(`   : ${j.message}`)}}),D=Pn({mutationFn:async j=>{const{error:X}=await se.from("image_didactic_intents").delete().eq("didactic_intent_id",j);if(X)throw X},onSuccess:()=>{st.invalidateQueries({queryKey:["didactic-intents"]}),q.success("  .")},onError:j=>{q.error(`   : ${j.message}`)}}),Y=Pn({mutationFn:async j=>{const{didactic_intents:X,...Re}=j,{data:Bt,error:ft}=await se.from("image_contents").insert([Re]).select("image_content_id").single();if(ft)throw ft;if(X&&X.length>0&&Bt&&"image_content_id"in Bt){const Mn=X.map(mf=>({image_content_id:Bt.image_content_id,didactic_intent_id:mf})),{error:$n}=await se.from("image_content_didactic_intents").insert(Mn);if($n)throw $n}},onSuccess:()=>{st.invalidateQueries({queryKey:["image-contents"]}),q.success(" ."),i(!1),u(null),Tt()},onError:j=>{q.error(`  : ${j.message}`)}}),K=Pn({mutationFn:async({id:j,data:X})=>{const{didactic_intents:Re,...Bt}=X,{error:ft}=await se.from("image_contents").update(Bt).eq("image_content_id",j);if(ft)throw ft;if(await se.from("image_content_didactic_intents").delete().eq("image_content_id",j),Re&&Re.length>0){const Mn=Re.map(mf=>({image_content_id:j,didactic_intent_id:mf})),{error:$n}=await se.from("image_content_didactic_intents").insert(Mn);if($n)throw $n}},onSuccess:()=>{st.invalidateQueries({queryKey:["image-contents"]}),q.success(" ."),i(!1),u(null),Tt()},onError:j=>{q.error(`  : ${j.message}`)}}),B=Pn({mutationFn:async()=>{const{data:j,error:X}=await se.functions.invoke("image-tag-all");if(X)throw X;return j},onSuccess:()=>{q.success("   ."),st.invalidateQueries({queryKey:["image-contents"]})},onError:j=>{q.error(` : ${j.message}`)}}),le=Pn({mutationFn:async j=>{const{data:X,error:Re}=await se.functions.invoke("image-tag",{body:{image_content_id:j}});if(Re)throw Re;return X},onSuccess:()=>{q.success("  ."),st.invalidateQueries({queryKey:["image-contents"]})},onError:j=>{q.error(` : ${j.message}`)}}),Ee=Pn({mutationFn:async j=>{const{data:X,error:Re}=await se.functions.invoke("image-upsert-vector",{body:{image_content_id:j}});if(Re)throw Re;return X},onSuccess:()=>{q.success(" DB  ."),st.invalidateQueries({queryKey:["image-contents"]})},onError:j=>{q.error(`  : ${j.message}`)}}),je=Pn({mutationFn:async()=>{const{data:j,error:X}=await se.functions.invoke("image-upsert-vector-all");if(X)throw X;return j},onSuccess:()=>{q.success("    .")},onError:j=>{q.error(`  : ${j.message}`)}}),pe=Pn({mutationFn:async j=>{const{data:X,error:Re}=await se.from("image_contents").select("image_path").eq("image_content_id",j).single();if(Re&&console.error("Image fetch error:",Re),X&&"image_path"in X&&X.image_path)try{const{data:ft,error:Mn}=await se.functions.invoke("delete-s3-file",{body:{filePath:X.image_path}});Mn?console.error("S3 delete error:",Mn):console.log("S3 file deleted successfully:",X.image_path)}catch(ft){console.error("S3 delete request error:",ft)}await se.from("image_content_didactic_intents").delete().eq("image_content_id",j);const{error:Bt}=await se.from("image_contents").delete().eq("image_content_id",j);if(Bt)throw Bt},onSuccess:()=>{st.invalidateQueries({queryKey:["image-contents"]}),q.success(" S3  .")},onError:j=>{q.error(`  : ${j.message}`)}}),Ce=()=>{const j={category_name:C,category_desc:P||null};c?Ln.mutate({id:c.image_contents_category_id,data:j}):Ke.mutate(j)},Fe=j=>{u(j),N(j.category_name),O(j.category_desc||""),i(!0)},rt=()=>{u(null),Ne(),i(!0)},zt=()=>{const j={role_key:$,role_name:G,role_desc:me||null};c?En.mutate({id:c.image_contents_role_id,data:j}):vt.mutate(j)},Ut=j=>{u(j),U(j.role_key),Z(j.role_name),ee(j.role_desc||""),i(!0)},yt=()=>{u(null),Ue(),i(!0)},Je=()=>{const j={intent_key:ve,intent_name:ge,intent_desc:Q||null};c?k.mutate({id:c.didactic_intent_id,data:j}):S.mutate(j)},_e=j=>{u(j),re(j.intent_key),L(j.intent_name),ce(j.intent_desc||""),i(!0)},A=()=>{u(null),Me(),i(!0)},ne=async()=>{if(!E.trim()){q.error("  .");return}if(!c&&!J){q.error(" .");return}try{let j=c?c.image_path:"";if(J){q.info(" S3  ...");const{data:Re,error:Bt}=await se.functions.invoke("upload-s3-file",{body:{fileName:J.name,folder:"image_contents"}});if(Bt||!(Re!=null&&Re.presignedUrl)){console.error("Upload URL generation error:",Bt),q.error(" URL  .");return}const ft=await fetch(Re.presignedUrl,{method:"PUT",body:J,headers:{"Content-Type":J.type}});if(!ft.ok){console.error("S3 upload failed:",ft.status),q.error("S3   .");return}j=Re.filePath,q.success(" S3 .")}const X={image_name:E,image_desc:z||null,image_path:j,image_contents_category_id:te?parseInt(te):null,image_contents_role_id:ye?parseInt(ye):null,content_semantics:ze.length>0?ze:null,forbidden_elements:Le.length>0?Le:null,replacement_constraints:ct?JSON.parse(ct):null,confidence:Ze?parseFloat(Ze):null,evidence:Jt||null,didactic_intents:Ae};c?K.mutate({id:c.image_content_id,data:X}):Y.mutate(X)}catch(j){console.error("Image save error:",j),q.error("    .")}},we=()=>{u(null),Tt(),i(!0)},gt=async j=>{h(j),l(!0),Dn||st.invalidateQueries({queryKey:["image-didactic-intents"]})},qt=async j=>{try{q.info("   ...");const{data:X,error:Re}=await se.functions.invoke("secure-download",{body:{filePath:j,type:"image-content"}});if(Re||!(X!=null&&X.downloadUrl)){console.error("Download error:",Re),q.error("  .");return}const Bt=await fetch(X.downloadUrl);if(!Bt.ok){q.error("   .");return}const ft=await Bt.blob(),Mn=window.URL.createObjectURL(ft),$n=document.createElement("a");$n.href=Mn,$n.download=j.split("/").pop()||"download",document.body.appendChild($n),$n.click(),window.URL.revokeObjectURL(Mn),document.body.removeChild($n),q.success("  .")}catch(X){console.error("Download error:",X),q.error("    .")}},Pt=async j=>{u(j),M(j.image_name),oe(j.image_desc||""),de(j.image_contents_category_id?j.image_contents_category_id.toString():""),xe(j.image_contents_role_id?j.image_contents_role_id.toString():""),qe(j.content_semantics||[]),Ve(j.forbidden_elements||[]),Dt(j.replacement_constraints?JSON.stringify(j.replacement_constraints,null,2):""),pt(j.confidence?j.confidence.toString():""),mt(j.evidence||"");try{const{data:X,error:Re}=await se.from("image_content_didactic_intents").select("didactic_intent_id").eq("image_content_id",j.image_content_id);if(Re)console.error("Error loading didactic intents:",Re),Te([]);else{const Bt=(X==null?void 0:X.map(ft=>ft.didactic_intent_id))||[];Te(Bt)}}catch(X){console.error("Error loading didactic intents:",X),Te([])}i(!0)},Zt=()=>{nt.trim()&&!ze.includes(nt.trim())&&(qe([...ze,nt.trim()]),Nt(""))},ir=j=>{qe(ze.filter((X,Re)=>Re!==j))},Xr=()=>{_t.trim()&&!Le.includes(_t.trim())&&(Ve([...Le,_t.trim()]),Kt(""))},$o=j=>{Ve(Le.filter((X,Re)=>Re!==j))},Gt=j=>{Te(X=>X.includes(j)?X.filter(Re=>Re!==j):[...X,j])},R=gn.filter(j=>j.category_name.toLowerCase().includes(n.toLowerCase())||j.category_desc&&j.category_desc.toLowerCase().includes(n.toLowerCase())),F=vn.filter(j=>j.role_name.toLowerCase().includes(n.toLowerCase())||j.role_key.toLowerCase().includes(n.toLowerCase())||j.role_desc&&j.role_desc.toLowerCase().includes(n.toLowerCase())),ue=yn.filter(j=>j.intent_name.toLowerCase().includes(n.toLowerCase())||j.intent_key.toLowerCase().includes(n.toLowerCase())||j.intent_desc&&j.intent_desc.toLowerCase().includes(n.toLowerCase())),fe=Xt.filter(j=>j.image_name.toLowerCase().includes(n.toLowerCase())||j.image_desc&&j.image_desc.toLowerCase().includes(n.toLowerCase())),Ie=(j,X)=>{const Re=(X-1)*b,Bt=Re+b;return j.slice(Re,Bt)},ot=j=>Math.ceil(j/b),dt=(j,X)=>{const Re=[];let ft=Math.max(1,j-Math.floor(5)),Mn=Math.min(X,ft+10-1);Mn-ft+1<10&&(ft=Math.max(1,Mn-10+1));for(let $n=ft;$n<=Mn;$n++)Re.push($n);return Re},Lt=Ie(fe,p),gs=Ie(R,w),el=Ie(F,_),Fo=Ie(ue,m),jC=ot(fe.length),CC=ot(R.length),NC=ot(F.length),EC=ot(ue.length),Tc=(j,X,Re)=>{if(X<=1)return null;const Bt=dt(j,X);return o.jsx(cf,{className:"mt-6",children:o.jsxs(uf,{children:[o.jsx(ds,{children:o.jsx(df,{href:"#",onClick:ft=>{ft.preventDefault(),j>1&&Re(j-1)},className:j===1?"pointer-events-none opacity-50":""})}),Bt.map(ft=>o.jsx(ds,{children:o.jsx(Za,{href:"#",onClick:Mn=>{Mn.preventDefault(),Re(ft)},isActive:j===ft,children:ft})},ft)),o.jsx(ds,{children:o.jsx(ff,{href:"#",onClick:ft=>{ft.preventDefault(),j<X&&Re(j+1)},className:j===X?"pointer-events-none opacity-50":""})})]})})};return o.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" DB "}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"    ."})]})}),o.jsx("div",{className:"flex gap-4 mb-6",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Pe,{placeholder:"...",value:n,onChange:j=>r(j.target.value),className:"pl-10"})]})}),o.jsxs(Oa,{value:e,onValueChange:t,className:"space-y-6",children:[o.jsxs(gi,{className:"grid w-full grid-cols-4",children:[o.jsx(_n,{value:"images",children:" "}),o.jsx(_n,{value:"categories",children:""}),o.jsx(_n,{value:"roles",children:""}),o.jsx(_n,{value:"intents",children:" "})]}),o.jsxs(bn,{value:"images",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["  (",fe.length,")"]}),o.jsxs(fn,{open:s&&e==="images",onOpenChange:i,children:[o.jsx(Qo,{asChild:!0,children:o.jsxs(H,{onClick:we,children:[o.jsx(pr,{className:"h-4 w-4 mr-2"})," "]})}),o.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(hn,{children:[o.jsx(on,{children:" "}),o.jsx(er,{children:"  ."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(W,{htmlFor:"image_name",children:" *"}),o.jsx(Pe,{id:"image_name",value:E,onChange:j=>M(j.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"confidence",children:" (0-1)"}),o.jsx(Pe,{id:"confidence",type:"number",min:"0",max:"1",step:"0.1",value:Ze,onChange:j=>pt(j.target.value)})]})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"image_desc",children:""}),o.jsx(On,{id:"image_desc",value:z,onChange:j=>oe(j.target.value),rows:3})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"file",children:" *"}),o.jsx(Pe,{id:"file",type:"file",accept:"image/*",onChange:j=>{var X;return V(((X=j.target.files)==null?void 0:X[0])||null)}})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(W,{htmlFor:"category",children:""}),o.jsxs(Sr,{value:te,onValueChange:de,children:[o.jsx(ur,{children:o.jsx(jr,{placeholder:" "})}),o.jsx(dr,{children:gn.map(j=>o.jsx(Qt,{value:j.image_contents_category_id.toString(),children:j.category_name},j.image_contents_category_id))})]})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"role",children:""}),o.jsxs(Sr,{value:ye,onValueChange:xe,children:[o.jsx(ur,{children:o.jsx(jr,{placeholder:" "})}),o.jsx(dr,{children:vn.map(j=>o.jsx(Qt,{value:j.image_contents_role_id.toString(),children:j.role_name},j.image_contents_role_id))})]})]})]}),o.jsxs("div",{children:[o.jsx(W,{children:"  ( )"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 max-h-32 overflow-y-auto",children:yn.map(j=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qi,{id:`intent-${j.didactic_intent_id}`,checked:Ae.includes(j.didactic_intent_id),onCheckedChange:()=>Gt(j.didactic_intent_id)}),o.jsx(W,{htmlFor:`intent-${j.didactic_intent_id}`,className:"text-sm",children:j.intent_name})]},j.didactic_intent_id))})]}),o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx(Pe,{value:nt,onChange:j=>Nt(j.target.value),placeholder:" ",onKeyPress:j=>j.key==="Enter"&&Zt()}),o.jsx(H,{type:"button",onClick:Zt,children:""})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:ze.map((j,X)=>o.jsxs(it,{variant:"secondary",className:"text-xs",children:[j,o.jsx(di,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>ir(X)})]},X))})]}),o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx(Pe,{value:_t,onChange:j=>Kt(j.target.value),placeholder:"  ",onKeyPress:j=>j.key==="Enter"&&Xr()}),o.jsx(H,{type:"button",onClick:Xr,children:""})]}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Le.map((j,X)=>o.jsxs(it,{variant:"destructive",className:"text-xs",children:[j,o.jsx(di,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>$o(X)})]},X))})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"replacement_constraints",children:"  (JSON)"}),o.jsx(On,{id:"replacement_constraints",value:ct,onChange:j=>Dt(j.target.value),placeholder:'{"key": "value"}',rows:3})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"evidence",children:""}),o.jsx(On,{id:"evidence",value:Jt,onChange:j=>mt(j.target.value),rows:3})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:""}),o.jsx(H,{type:"button",onClick:ne,disabled:!E.trim()||!c&&!J,children:c?"":""})]})]})]})]})]}),kt?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:" ..."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Lt.map(j=>o.jsxs(Vt,{className:"overflow-hidden h-80 flex flex-col",children:[o.jsx(ln,{className:"pb-3 flex-shrink-0",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(pn,{className:"text-lg truncate",children:j.image_name}),o.jsxs(ls,{className:"mt-1",children:["ID: ",j.image_content_id]})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>gt(j),title:"",children:o.jsx(Ba,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Pt(j),title:"",children:o.jsx(Ki,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{confirm(" ?")&&le.mutate(j.image_content_id)},disabled:le.isPending,title:"",children:o.jsx(xo,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{confirm(" DB ?")&&Ee.mutate(j.image_content_id)},disabled:Ee.isPending,title:" ",children:o.jsx(q_,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{confirm(" ?")&&pe.mutate(j.image_content_id)},children:o.jsx(wn,{className:"h-4 w-4"})})]})]})}),o.jsxs(dn,{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-hidden",children:[j.image_desc&&o.jsx("div",{className:"h-12 mb-3",children:o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-6 overflow-hidden",children:j.image_desc})}),o.jsxs("div",{className:"space-y-2 text-sm overflow-y-auto max-h-32",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:":"}),o.jsx("span",{className:"ml-1 break-all",children:j.image_path})]}),j.content_semantics&&j.content_semantics.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:" :"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:j.content_semantics.map((X,Re)=>o.jsx(it,{variant:"secondary",className:"text-xs",children:X},Re))})]}),j.confidence!==null&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:":"})," ",(j.confidence*100).toFixed(1),"%"]})]})]}),o.jsx("div",{className:"flex justify-between items-center text-xs text-muted-foreground mt-3 pt-3 border-t flex-shrink-0",children:o.jsx("span",{children:new Date(j.created_at).toLocaleDateString()})})]})]},j.image_content_id))}),o.jsxs("div",{className:"flex justify-between items-center mt-4",children:[o.jsx("div",{children:Tc(p,jC,y)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{onClick:()=>B.mutate(),disabled:B.isPending,children:B.isPending?" ...":" "}),o.jsx(H,{onClick:()=>je.mutate(),disabled:je.isPending,children:je.isPending?" ...":" "})]})]}),o.jsx(fn,{open:a,onOpenChange:l,children:o.jsxs(sn,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(hn,{children:[o.jsx(on,{children:"  "}),o.jsx(er,{children:"     ."})]}),f&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(W,{children:" ID"}),o.jsx("div",{className:"text-sm font-medium mt-1",children:o.jsx(it,{variant:"outline",children:f.image_content_id})})]}),o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsx("div",{className:"text-sm font-medium mt-1",children:f.image_name})]})]}),f.image_desc&&o.jsxs("div",{children:[o.jsx(W,{children:""}),o.jsx("div",{className:"text-sm mt-1 p-3 bg-muted rounded-md",children:f.image_desc})]}),o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsxs("div",{className:"text-sm mt-1 p-3 bg-muted rounded-md flex items-center justify-between",children:[o.jsx("code",{className:"font-mono flex-1 mr-2",children:f.image_path}),o.jsxs(H,{size:"sm",variant:"outline",onClick:()=>qt(f.image_path),className:"flex items-center gap-2",children:[o.jsx(ui,{className:"h-4 w-4"}),""]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(W,{children:""}),o.jsx("div",{className:"text-sm mt-1",children:f.image_contents_category_id?o.jsx(it,{variant:"secondary",children:((av=gn.find(j=>j.image_contents_category_id===f.image_contents_category_id))==null?void 0:av.category_name)||"  "}):o.jsx("span",{className:"text-muted-foreground",children:" "})})]}),o.jsxs("div",{children:[o.jsx(W,{children:""}),o.jsx("div",{className:"text-sm mt-1",children:f.image_contents_role_id?o.jsx(it,{variant:"secondary",children:((lv=vn.find(j=>j.image_contents_role_id===f.image_contents_role_id))==null?void 0:lv.role_name)||"  "}):o.jsx("span",{className:"text-muted-foreground",children:" "})})]})]}),f.content_semantics&&f.content_semantics.length>0&&o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.content_semantics.map((j,X)=>o.jsx(it,{variant:"secondary",children:j},X))})]}),f.forbidden_elements&&f.forbidden_elements.length>0&&o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.forbidden_elements.map((j,X)=>o.jsx(it,{variant:"destructive",children:j},X))})]}),f.replacement_constraints&&o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsx("div",{className:"text-sm mt-1 p-3 bg-muted rounded-md font-mono",children:o.jsx("pre",{children:JSON.stringify(f.replacement_constraints,null,2)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.confidence!==null&&o.jsxs("div",{children:[o.jsx(W,{children:""}),o.jsx("div",{className:"text-sm mt-1",children:o.jsxs(it,{variant:"outline",children:[(f.confidence*100).toFixed(1),"%"]})})]}),o.jsxs("div",{children:[o.jsx(W,{children:""}),o.jsx("div",{className:"text-sm mt-1",children:new Date(f.created_at).toLocaleString()})]})]}),o.jsxs("div",{children:[o.jsx(W,{children:" "}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[bt.filter(j=>j.image_content_id===f.image_content_id).map(j=>{const X=yn.find(Re=>Re.didactic_intent_id===j.didactic_intent_id);return X?o.jsx(it,{variant:"outline",children:X.intent_name},j.didactic_intent_id):null}),bt.filter(j=>j.image_content_id===f.image_content_id).length===0&&o.jsx("span",{className:"text-muted-foreground",children:" "})]})]}),f.evidence&&o.jsxs("div",{children:[o.jsx(W,{children:""}),o.jsx("div",{className:"text-sm mt-1 p-3 bg-muted rounded-md",children:f.evidence})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(H,{onClick:()=>l(!1),children:""})})]})]})}),!kt&&fe.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"  ."})})]}),o.jsxs(bn,{value:"categories",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["  (",R.length,")"]}),o.jsxs(fn,{open:s&&e==="categories",onOpenChange:i,children:[o.jsx(Qo,{asChild:!0,children:o.jsxs(H,{onClick:rt,children:[o.jsx(pr,{className:"h-4 w-4 mr-2"})," "]})}),o.jsxs(sn,{children:[o.jsxs(hn,{children:[o.jsx(on,{children:c?" ":" "}),o.jsx(er,{children:"   ."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{htmlFor:"category_name",children:" *"}),o.jsx(Pe,{id:"category_name",value:C,onChange:j=>N(j.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"category_desc",children:""}),o.jsx(On,{id:"category_desc",value:P,onChange:j=>O(j.target.value),rows:3})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:""}),o.jsx(H,{type:"button",onClick:Ce,disabled:!C.trim(),children:c?"":""})]})]})]})]})]}),Ft?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:" ..."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:gs.map(j=>o.jsx(Vt,{className:"min-h-[120px]",children:o.jsx(ln,{className:"pb-4",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(pn,{className:"text-lg truncate",children:j.category_name}),j.category_desc&&o.jsx(ls,{className:"mt-1 line-clamp-2",children:j.category_desc})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Fe(j),children:o.jsx(Ki,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{confirm(" ?")&&wr.mutate(j.image_contents_category_id)},children:o.jsx(wn,{className:"h-4 w-4"})})]})]})})},j.image_contents_category_id))}),Tc(w,CC,v),!Ft&&R.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"  ."})})]}),o.jsxs(bn,{value:"roles",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["  (",F.length,")"]}),o.jsxs(fn,{open:s&&e==="roles",onOpenChange:i,children:[o.jsx(Qo,{asChild:!0,children:o.jsxs(H,{onClick:yt,children:[o.jsx(pr,{className:"h-4 w-4 mr-2"})," "]})}),o.jsxs(sn,{children:[o.jsxs(hn,{children:[o.jsx(on,{children:c?" ":" "}),o.jsx(er,{children:"   ."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{htmlFor:"role_key",children:" *"}),o.jsx(Pe,{id:"role_key",value:$,onChange:j=>U(j.target.value),placeholder:": design_decor",required:!0})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"role_name",children:" *"}),o.jsx(Pe,{id:"role_name",value:G,onChange:j=>Z(j.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"role_desc",children:""}),o.jsx(On,{id:"role_desc",value:me,onChange:j=>ee(j.target.value),rows:3})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:""}),o.jsx(H,{type:"button",onClick:zt,disabled:!$.trim()||!G.trim(),children:c?"":""})]})]})]})]})]}),Nn?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:" ..."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:el.map(j=>o.jsx(Vt,{className:"min-h-[140px]",children:o.jsx(ln,{className:"pb-4",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(pn,{className:"text-lg truncate",children:j.role_name}),o.jsx(ls,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{children:o.jsx(it,{variant:"outline",className:"text-xs",children:j.role_key})}),j.role_desc&&o.jsx("div",{className:"line-clamp-2",children:j.role_desc})]})})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Ut(j),children:o.jsx(Ki,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{confirm(" ?")&&I.mutate(j.image_contents_role_id)},children:o.jsx(wn,{className:"h-4 w-4"})})]})]})})},j.image_contents_role_id))}),Tc(_,NC,x),!Nn&&F.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"  ."})})]}),o.jsxs(bn,{value:"intents",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["   (",ue.length,")"]}),o.jsxs(fn,{open:s&&e==="intents",onOpenChange:i,children:[o.jsx(Qo,{asChild:!0,children:o.jsxs(H,{onClick:A,children:[o.jsx(pr,{className:"h-4 w-4 mr-2"}),"  "]})}),o.jsxs(sn,{children:[o.jsxs(hn,{children:[o.jsx(on,{children:c?"  ":"  "}),o.jsx(er,{children:"   ."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(W,{htmlFor:"intent_key",children:" *"}),o.jsx(Pe,{id:"intent_key",value:ve,onChange:j=>re(j.target.value),placeholder:": motivation",required:!0})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"intent_name",children:" *"}),o.jsx(Pe,{id:"intent_name",value:ge,onChange:j=>L(j.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(W,{htmlFor:"intent_desc",children:""}),o.jsx(On,{id:"intent_desc",value:Q,onChange:j=>ce(j.target.value),rows:3})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(H,{type:"button",variant:"outline",onClick:()=>i(!1),children:""}),o.jsx(H,{type:"button",onClick:Je,disabled:!ve.trim()||!ge.trim(),children:c?"":""})]})]})]})]})]}),cn?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:" ..."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Fo.map(j=>o.jsx(Vt,{className:"min-h-[140px]",children:o.jsx(ln,{className:"pb-4",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(pn,{className:"text-lg truncate",children:j.intent_name}),o.jsx(ls,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{children:o.jsx(it,{variant:"outline",className:"text-xs",children:j.intent_key})}),j.intent_desc&&o.jsx("div",{className:"line-clamp-2",children:j.intent_desc})]})})]}),o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>_e(j),children:o.jsx(Ki,{className:"h-4 w-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{confirm(" ?")&&D.mutate(j.didactic_intent_id)},children:o.jsx(wn,{className:"h-4 w-4"})})]})]})})},j.didactic_intent_id))}),Tc(m,EC,g),!cn&&ue.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"  ."})})]})]})]})}function J4(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{toast:s}=_i();d.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{session:u}}=await se.auth.getSession();if(!u)throw new Error("Not authenticated");const{data:f,error:h}=await se.functions.invoke("admin-help-requests",{headers:await $l()});if(h)throw h;t(f.data||[])}catch(u){console.error("Error fetching help requests:",u),s({variant:"destructive",title:"",description:"   ."})}finally{r(!1)}},a=async(u,f)=>{try{const{error:h}=await se.from("help_requests").update({is_checked:!f,updated_at:new Date().toISOString()}).eq("help_request_id",u);if(h)throw h;t(p=>p.map(y=>y.help_request_id===u?{...y,is_checked:!f}:y)),s({title:"",description:` ${f?"":""} .`})}catch(h){console.error("Error updating help request:",h),s({variant:"destructive",title:"",description:"  ."})}},l=async u=>{try{const{data:{session:f}}=await se.auth.getSession();if(!f)throw new Error("Not authenticated");const h=await fetch(`${Aa.url}/functions/v1/download-s3-file`,{method:"POST",headers:await $l({"Content-Type":"application/json"}),body:JSON.stringify({fileName:u})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const p=await h.blob(),y=window.URL.createObjectURL(p),w=document.createElement("a");w.href=y;const v=u.split("/").pop()||"help-request-file";w.download=decodeURIComponent(v),document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(y)}catch(f){console.error("Error downloading file:",f),s({variant:"destructive",title:"",description:"  ."})}},c=u=>new Date(u).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg",children:" ..."})}):o.jsx("div",{className:"container mx-auto p-6",children:o.jsxs(Vt,{children:[o.jsxs(ln,{children:[o.jsxs(pn,{className:"flex items-center gap-2",children:[o.jsx(Ld,{className:"h-6 w-6"}),"  "]}),o.jsx(ls,{children:"      ."})]}),o.jsx(dn,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(Ia,{children:[o.jsx(Da,{children:o.jsxs(nr,{children:[o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""}),o.jsx(at,{children:""})]})}),o.jsx(La,{children:e.length===0?o.jsx(nr,{children:o.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"  ."})}):e.map(u=>{var f;return o.jsxs(nr,{children:[o.jsx(Xe,{children:o.jsx(it,{variant:u.is_checked?"default":"secondary",className:"flex items-center gap-1 w-fit",children:u.is_checked?o.jsxs(o.Fragment,{children:[o.jsx(yg,{className:"h-3 w-3"}),""]}):o.jsxs(o.Fragment,{children:[o.jsx(K_,{className:"h-3 w-3"}),""]})})}),o.jsx(Xe,{children:o.jsx(it,{variant:"outline",children:((f=u.help_request_types)==null?void 0:f.help_request_type_name)||""})}),o.jsx(Xe,{className:"font-medium",children:u.help_request_name}),o.jsx(Xe,{children:u.help_request_email}),o.jsx(Xe,{className:"max-w-xs",children:o.jsxs(fn,{children:[o.jsx(Qo,{asChild:!0,children:o.jsx(H,{variant:"ghost",size:"sm",className:"h-auto p-0 text-left",children:o.jsx("div",{className:"truncate",children:u.help_request_content})})}),o.jsxs(sn,{children:[o.jsxs(hn,{children:[o.jsx(on,{children:" "}),o.jsxs(er,{children:[u.help_request_name," "]})]}),o.jsx("div",{className:"whitespace-pre-wrap",children:u.help_request_content})]})]})}),o.jsx(Xe,{children:u.help_request_file_path?o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>l(u.help_request_file_path),className:"flex items-center gap-1",children:[o.jsx(ui,{className:"h-3 w-3"}),""]}):o.jsx("span",{className:"text-muted-foreground",children:""})}),o.jsx(Xe,{children:c(u.updated_at)}),o.jsx(Xe,{children:o.jsx(H,{variant:u.is_checked?"outline":"default",size:"sm",onClick:()=>a(u.help_request_id,u.is_checked),children:u.is_checked?" ":" "})})]},u.help_request_id)})})]})})})]})})}const X4=()=>{const e=Oo();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Z4=new m2,e$=()=>o.jsx(w2,{client:Z4,children:o.jsx(XI,{children:o.jsxs(Lb,{children:[o.jsx(YT,{}),o.jsx(CP,{}),o.jsx(PA,{children:o.jsxs(bA,{children:[o.jsx(Qn,{path:"/",element:o.jsx(tM,{})}),o.jsx(Qn,{path:"/login",element:o.jsx(eM,{})}),o.jsx(Qn,{path:"/admin/materials-v2/editor/:id",element:o.jsx(ph,{children:o.jsx(G4,{})})}),o.jsx(Qn,{path:"/admin/materials-v2/preview/:id",element:o.jsx(ph,{children:o.jsx(Q4,{})})}),o.jsxs(Qn,{path:"/admin",element:o.jsx(ph,{children:o.jsx(AL,{})}),children:[o.jsx(Qn,{index:!0,element:o.jsx(nM,{})}),o.jsx(Qn,{path:"teachers",element:o.jsx(r4,{})}),o.jsx(Qn,{path:"textbooks",element:o.jsx(x4,{})}),o.jsx(Qn,{path:"materials",element:o.jsx(M4,{})}),o.jsx(Qn,{path:"materials-v2",element:o.jsx(q4,{})}),o.jsx(Qn,{path:"images",element:o.jsx(Y4,{})}),o.jsx(Qn,{path:"users",element:o.jsx(J4,{})})]}),o.jsx(Qn,{path:"*",element:o.jsx(X4,{})})]})})]})})});m_(document.getElementById("root")).render(o.jsx(e$,{}));
